!function (t, e) { "object" == typeof module && "object" == typeof module.exports ? module.exports = t.document ? e(t, !0) : function (t) { if (!t.document) throw new Error("jQuery requires a window with a document"); return e(t) } : e(t) }("undefined" != typeof window ? window : this, function (t, e) { var r = [], n = t.document, i = r.slice, o = r.concat, s = r.push, a = r.indexOf, u = {}, l = u.toString, h = u.hasOwnProperty, c = {}, f = "2.2.4", d = function (t, e) { return new d.fn.init(t, e) }, p = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, g = /^-ms-/, m = /-([\da-z])/gi, v = function (t, e) { return e.toUpperCase() }; function y(t) { var e = !!t && "length" in t && t.length, r = d.type(t); return "function" !== r && !d.isWindow(t) && ("array" === r || 0 === e || "number" == typeof e && e > 0 && e - 1 in t) } d.fn = d.prototype = { jquery: f, constructor: d, selector: "", length: 0, toArray: function () { return i.call(this) }, get: function (t) { return null != t ? 0 > t ? this[t + this.length] : this[t] : i.call(this) }, pushStack: function (t) { var e = d.merge(this.constructor(), t); return e.prevObject = this, e.context = this.context, e }, each: function (t) { return d.each(this, t) }, map: function (t) { return this.pushStack(d.map(this, function (e, r) { return t.call(e, r, e) })) }, slice: function () { return this.pushStack(i.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (t) { var e = this.length, r = +t + (0 > t ? e : 0); return this.pushStack(r >= 0 && e > r ? [this[r]] : []) }, end: function () { return this.prevObject || this.constructor() }, push: s, sort: r.sort, splice: r.splice }, d.extend = d.fn.extend = function () { var t, e, r, n, i, o, s = arguments[0] || {}, a = 1, u = arguments.length, l = !1; for ("boolean" == typeof s && (l = s, s = arguments[a] || {}, a++), "object" == typeof s || d.isFunction(s) || (s = {}), a === u && (s = this, a--); u > a; a++)if (null != (t = arguments[a])) for (e in t) r = s[e], s !== (n = t[e]) && (l && n && (d.isPlainObject(n) || (i = d.isArray(n))) ? (i ? (i = !1, o = r && d.isArray(r) ? r : []) : o = r && d.isPlainObject(r) ? r : {}, s[e] = d.extend(l, o, n)) : void 0 !== n && (s[e] = n)); return s }, d.extend({ expando: "jQuery" + (f + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (t) { throw new Error(t) }, noop: function () { }, isFunction: function (t) { return "function" === d.type(t) }, isArray: Array.isArray, isWindow: function (t) { return null != t && t === t.window }, isNumeric: function (t) { var e = t && t.toString(); return !d.isArray(t) && e - parseFloat(e) + 1 >= 0 }, isPlainObject: function (t) { var e; if ("object" !== d.type(t) || t.nodeType || d.isWindow(t)) return !1; if (t.constructor && !h.call(t, "constructor") && !h.call(t.constructor.prototype || {}, "isPrototypeOf")) return !1; for (e in t); return void 0 === e || h.call(t, e) }, isEmptyObject: function (t) { var e; for (e in t) return !1; return !0 }, type: function (t) { return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? u[l.call(t)] || "object" : typeof t }, globalEval: function (t) { var e, r = eval; (t = d.trim(t)) && (1 === t.indexOf("use strict") ? ((e = n.createElement("script")).text = t, n.head.appendChild(e).parentNode.removeChild(e)) : r(t)) }, camelCase: function (t) { return t.replace(g, "ms-").replace(m, v) }, nodeName: function (t, e) { return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase() }, each: function (t, e) { var r, n = 0; if (y(t)) for (r = t.length; r > n && !1 !== e.call(t[n], n, t[n]); n++); else for (n in t) if (!1 === e.call(t[n], n, t[n])) break; return t }, trim: function (t) { return null == t ? "" : (t + "").replace(p, "") }, makeArray: function (t, e) { var r = e || []; return null != t && (y(Object(t)) ? d.merge(r, "string" == typeof t ? [t] : t) : s.call(r, t)), r }, inArray: function (t, e, r) { return null == e ? -1 : a.call(e, t, r) }, merge: function (t, e) { for (var r = +e.length, n = 0, i = t.length; r > n; n++)t[i++] = e[n]; return t.length = i, t }, grep: function (t, e, r) { for (var n = [], i = 0, o = t.length, s = !r; o > i; i++)!e(t[i], i) !== s && n.push(t[i]); return n }, map: function (t, e, r) { var n, i, s = 0, a = []; if (y(t)) for (n = t.length; n > s; s++)null != (i = e(t[s], s, r)) && a.push(i); else for (s in t) null != (i = e(t[s], s, r)) && a.push(i); return o.apply([], a) }, guid: 1, proxy: function (t, e) { var r, n, o; return "string" == typeof e && (r = t[e], e = t, t = r), d.isFunction(t) ? (n = i.call(arguments, 2), (o = function () { return t.apply(e || this, n.concat(i.call(arguments))) }).guid = t.guid = t.guid || d.guid++, o) : void 0 }, now: Date.now, support: c }), "function" == typeof Symbol && (d.fn[Symbol.iterator] = r[Symbol.iterator]), d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (t, e) { u["[object " + e + "]"] = e.toLowerCase() }); var _ = function (t) { var e, r, n, i, o, s, a, u, l, h, c, f, d, p, g, m, v, y, _, x = "sizzle" + 1 * new Date, b = t.document, T = 0, w = 0, S = ot(), C = ot(), E = ot(), O = function (t, e) { return t === e && (c = !0), 0 }, P = 1 << 31, A = {}.hasOwnProperty, M = [], R = M.pop, D = M.push, I = M.push, L = M.slice, F = function (t, e) { for (var r = 0, n = t.length; n > r; r++)if (t[r] === e) return r; return -1 }, k = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", j = "[\\x20\\t\\r\\n\\f]", N = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", B = "\\[" + j + "*(" + N + ")(?:" + j + "*([*^$|!~]?=)" + j + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + N + "))|)" + j + "*\\]", U = ":(" + N + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + B + ")*)|.*)\\)|)", z = new RegExp(j + "+", "g"), X = new RegExp("^" + j + "+|((?:^|[^\\\\])(?:\\\\.)*)" + j + "+$", "g"), W = new RegExp("^" + j + "*," + j + "*"), H = new RegExp("^" + j + "*([>+~]|" + j + ")" + j + "*"), G = new RegExp("=" + j + "*([^\\]'\"]*?)" + j + "*\\]", "g"), Y = new RegExp(U), q = new RegExp("^" + N + "$"), V = { ID: new RegExp("^#(" + N + ")"), CLASS: new RegExp("^\\.(" + N + ")"), TAG: new RegExp("^(" + N + "|[*])"), ATTR: new RegExp("^" + B), PSEUDO: new RegExp("^" + U), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + j + "*(even|odd|(([+-]|)(\\d*)n|)" + j + "*(?:([+-]|)" + j + "*(\\d+)|))" + j + "*\\)|)", "i"), bool: new RegExp("^(?:" + k + ")$", "i"), needsContext: new RegExp("^" + j + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + j + "*((?:-\\d)?\\d*)" + j + "*\\)|)(?=[^-]|$)", "i") }, $ = /^(?:input|select|textarea|button)$/i, K = /^h\d$/i, Z = /^[^{]+\{\s*\[native \w/, Q = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, J = /[+~]/, tt = /'|\\/g, et = new RegExp("\\\\([\\da-f]{1,6}" + j + "?|(" + j + ")|.)", "ig"), rt = function (t, e, r) { var n = "0x" + e - 65536; return n != n || r ? e : 0 > n ? String.fromCharCode(n + 65536) : String.fromCharCode(n >> 10 | 55296, 1023 & n | 56320) }, nt = function () { f() }; try { I.apply(M = L.call(b.childNodes), b.childNodes), M[b.childNodes.length].nodeType } catch (t) { I = { apply: M.length ? function (t, e) { D.apply(t, L.call(e)) } : function (t, e) { for (var r = t.length, n = 0; t[r++] = e[n++];); t.length = r - 1 } } } function it(t, e, n, i) { var o, a, l, h, c, p, v, y, T = e && e.ownerDocument, w = e ? e.nodeType : 9; if (n = n || [], "string" != typeof t || !t || 1 !== w && 9 !== w && 11 !== w) return n; if (!i && ((e ? e.ownerDocument || e : b) !== d && f(e), e = e || d, g)) { if (11 !== w && (p = Q.exec(t))) if (o = p[1]) { if (9 === w) { if (!(l = e.getElementById(o))) return n; if (l.id === o) return n.push(l), n } else if (T && (l = T.getElementById(o)) && _(e, l) && l.id === o) return n.push(l), n } else { if (p[2]) return I.apply(n, e.getElementsByTagName(t)), n; if ((o = p[3]) && r.getElementsByClassName && e.getElementsByClassName) return I.apply(n, e.getElementsByClassName(o)), n } if (r.qsa && !E[t + " "] && (!m || !m.test(t))) { if (1 !== w) T = e, y = t; else if ("object" !== e.nodeName.toLowerCase()) { for ((h = e.getAttribute("id")) ? h = h.replace(tt, "\\$&") : e.setAttribute("id", h = x), a = (v = s(t)).length, c = q.test(h) ? "#" + h : "[id='" + h + "']"; a--;)v[a] = c + " " + gt(v[a]); y = v.join(","), T = J.test(t) && dt(e.parentNode) || e } if (y) try { return I.apply(n, T.querySelectorAll(y)), n } catch (t) { } finally { h === x && e.removeAttribute("id") } } } return u(t.replace(X, "$1"), e, n, i) } function ot() { var t = []; return function e(r, i) { return t.push(r + " ") > n.cacheLength && delete e[t.shift()], e[r + " "] = i } } function st(t) { return t[x] = !0, t } function at(t) { var e = d.createElement("div"); try { return !!t(e) } catch (t) { return !1 } finally { e.parentNode && e.parentNode.removeChild(e), e = null } } function ut(t, e) { for (var r = t.split("|"), i = r.length; i--;)n.attrHandle[r[i]] = e } function lt(t, e) { var r = e && t, n = r && 1 === t.nodeType && 1 === e.nodeType && (~e.sourceIndex || P) - (~t.sourceIndex || P); if (n) return n; if (r) for (; r = r.nextSibling;)if (r === e) return -1; return t ? 1 : -1 } function ht(t) { return function (e) { return "input" === e.nodeName.toLowerCase() && e.type === t } } function ct(t) { return function (e) { var r = e.nodeName.toLowerCase(); return ("input" === r || "button" === r) && e.type === t } } function ft(t) { return st(function (e) { return e = +e, st(function (r, n) { for (var i, o = t([], r.length, e), s = o.length; s--;)r[i = o[s]] && (r[i] = !(n[i] = r[i])) }) }) } function dt(t) { return t && void 0 !== t.getElementsByTagName && t } for (e in r = it.support = {}, o = it.isXML = function (t) { var e = t && (t.ownerDocument || t).documentElement; return !!e && "HTML" !== e.nodeName }, f = it.setDocument = function (t) { var e, i, s = t ? t.ownerDocument || t : b; return s !== d && 9 === s.nodeType && s.documentElement ? (p = (d = s).documentElement, g = !o(d), (i = d.defaultView) && i.top !== i && (i.addEventListener ? i.addEventListener("unload", nt, !1) : i.attachEvent && i.attachEvent("onunload", nt)), r.attributes = at(function (t) { return t.className = "i", !t.getAttribute("className") }), r.getElementsByTagName = at(function (t) { return t.appendChild(d.createComment("")), !t.getElementsByTagName("*").length }), r.getElementsByClassName = Z.test(d.getElementsByClassName), r.getById = at(function (t) { return p.appendChild(t).id = x, !d.getElementsByName || !d.getElementsByName(x).length }), r.getById ? (n.find.ID = function (t, e) { if (void 0 !== e.getElementById && g) { var r = e.getElementById(t); return r ? [r] : [] } }, n.filter.ID = function (t) { var e = t.replace(et, rt); return function (t) { return t.getAttribute("id") === e } }) : (delete n.find.ID, n.filter.ID = function (t) { var e = t.replace(et, rt); return function (t) { var r = void 0 !== t.getAttributeNode && t.getAttributeNode("id"); return r && r.value === e } }), n.find.TAG = r.getElementsByTagName ? function (t, e) { return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : r.qsa ? e.querySelectorAll(t) : void 0 } : function (t, e) { var r, n = [], i = 0, o = e.getElementsByTagName(t); if ("*" === t) { for (; r = o[i++];)1 === r.nodeType && n.push(r); return n } return o }, n.find.CLASS = r.getElementsByClassName && function (t, e) { return void 0 !== e.getElementsByClassName && g ? e.getElementsByClassName(t) : void 0 }, v = [], m = [], (r.qsa = Z.test(d.querySelectorAll)) && (at(function (t) { p.appendChild(t).innerHTML = "<a id='" + x + "'></a><select id='" + x + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && m.push("[*^$]=" + j + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || m.push("\\[" + j + "*(?:value|" + k + ")"), t.querySelectorAll("[id~=" + x + "-]").length || m.push("~="), t.querySelectorAll(":checked").length || m.push(":checked"), t.querySelectorAll("a#" + x + "+*").length || m.push(".#.+[+~]") }), at(function (t) { var e = d.createElement("input"); e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && m.push("name" + j + "*[*^$|!~]?="), t.querySelectorAll(":enabled").length || m.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), m.push(",.*:") })), (r.matchesSelector = Z.test(y = p.matches || p.webkitMatchesSelector || p.mozMatchesSelector || p.oMatchesSelector || p.msMatchesSelector)) && at(function (t) { r.disconnectedMatch = y.call(t, "div"), y.call(t, "[s!='']:x"), v.push("!=", U) }), m = m.length && new RegExp(m.join("|")), v = v.length && new RegExp(v.join("|")), e = Z.test(p.compareDocumentPosition), _ = e || Z.test(p.contains) ? function (t, e) { var r = 9 === t.nodeType ? t.documentElement : t, n = e && e.parentNode; return t === n || !(!n || 1 !== n.nodeType || !(r.contains ? r.contains(n) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(n))) } : function (t, e) { if (e) for (; e = e.parentNode;)if (e === t) return !0; return !1 }, O = e ? function (t, e) { if (t === e) return c = !0, 0; var n = !t.compareDocumentPosition - !e.compareDocumentPosition; return n || (1 & (n = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !r.sortDetached && e.compareDocumentPosition(t) === n ? t === d || t.ownerDocument === b && _(b, t) ? -1 : e === d || e.ownerDocument === b && _(b, e) ? 1 : h ? F(h, t) - F(h, e) : 0 : 4 & n ? -1 : 1) } : function (t, e) { if (t === e) return c = !0, 0; var r, n = 0, i = t.parentNode, o = e.parentNode, s = [t], a = [e]; if (!i || !o) return t === d ? -1 : e === d ? 1 : i ? -1 : o ? 1 : h ? F(h, t) - F(h, e) : 0; if (i === o) return lt(t, e); for (r = t; r = r.parentNode;)s.unshift(r); for (r = e; r = r.parentNode;)a.unshift(r); for (; s[n] === a[n];)n++; return n ? lt(s[n], a[n]) : s[n] === b ? -1 : a[n] === b ? 1 : 0 }, d) : d }, it.matches = function (t, e) { return it(t, null, null, e) }, it.matchesSelector = function (t, e) { if ((t.ownerDocument || t) !== d && f(t), e = e.replace(G, "='$1']"), r.matchesSelector && g && !E[e + " "] && (!v || !v.test(e)) && (!m || !m.test(e))) try { var n = y.call(t, e); if (n || r.disconnectedMatch || t.document && 11 !== t.document.nodeType) return n } catch (t) { } return it(e, d, null, [t]).length > 0 }, it.contains = function (t, e) { return (t.ownerDocument || t) !== d && f(t), _(t, e) }, it.attr = function (t, e) { (t.ownerDocument || t) !== d && f(t); var i = n.attrHandle[e.toLowerCase()], o = i && A.call(n.attrHandle, e.toLowerCase()) ? i(t, e, !g) : void 0; return void 0 !== o ? o : r.attributes || !g ? t.getAttribute(e) : (o = t.getAttributeNode(e)) && o.specified ? o.value : null }, it.error = function (t) { throw new Error("Syntax error, unrecognized expression: " + t) }, it.uniqueSort = function (t) { var e, n = [], i = 0, o = 0; if (c = !r.detectDuplicates, h = !r.sortStable && t.slice(0), t.sort(O), c) { for (; e = t[o++];)e === t[o] && (i = n.push(o)); for (; i--;)t.splice(n[i], 1) } return h = null, t }, i = it.getText = function (t) { var e, r = "", n = 0, o = t.nodeType; if (o) { if (1 === o || 9 === o || 11 === o) { if ("string" == typeof t.textContent) return t.textContent; for (t = t.firstChild; t; t = t.nextSibling)r += i(t) } else if (3 === o || 4 === o) return t.nodeValue } else for (; e = t[n++];)r += i(e); return r }, (n = it.selectors = { cacheLength: 50, createPseudo: st, match: V, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (t) { return t[1] = t[1].replace(et, rt), t[3] = (t[3] || t[4] || t[5] || "").replace(et, rt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4) }, CHILD: function (t) { return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || it.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && it.error(t[0]), t }, PSEUDO: function (t) { var e, r = !t[6] && t[2]; return V.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : r && Y.test(r) && (e = s(r, !0)) && (e = r.indexOf(")", r.length - e) - r.length) && (t[0] = t[0].slice(0, e), t[2] = r.slice(0, e)), t.slice(0, 3)) } }, filter: { TAG: function (t) { var e = t.replace(et, rt).toLowerCase(); return "*" === t ? function () { return !0 } : function (t) { return t.nodeName && t.nodeName.toLowerCase() === e } }, CLASS: function (t) { var e = S[t + " "]; return e || (e = new RegExp("(^|" + j + ")" + t + "(" + j + "|$)")) && S(t, function (t) { return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "") }) }, ATTR: function (t, e, r) { return function (n) { var i = it.attr(n, t); return null == i ? "!=" === e : !e || (i += "", "=" === e ? i === r : "!=" === e ? i !== r : "^=" === e ? r && 0 === i.indexOf(r) : "*=" === e ? r && i.indexOf(r) > -1 : "$=" === e ? r && i.slice(-r.length) === r : "~=" === e ? (" " + i.replace(z, " ") + " ").indexOf(r) > -1 : "|=" === e && (i === r || i.slice(0, r.length + 1) === r + "-")) } }, CHILD: function (t, e, r, n, i) { var o = "nth" !== t.slice(0, 3), s = "last" !== t.slice(-4), a = "of-type" === e; return 1 === n && 0 === i ? function (t) { return !!t.parentNode } : function (e, r, u) { var l, h, c, f, d, p, g = o !== s ? "nextSibling" : "previousSibling", m = e.parentNode, v = a && e.nodeName.toLowerCase(), y = !u && !a, _ = !1; if (m) { if (o) { for (; g;) { for (f = e; f = f[g];)if (a ? f.nodeName.toLowerCase() === v : 1 === f.nodeType) return !1; p = g = "only" === t && !p && "nextSibling" } return !0 } if (p = [s ? m.firstChild : m.lastChild], s && y) { for (_ = (d = (l = (h = (c = (f = m)[x] || (f[x] = {}))[f.uniqueID] || (c[f.uniqueID] = {}))[t] || [])[0] === T && l[1]) && l[2], f = d && m.childNodes[d]; f = ++d && f && f[g] || (_ = d = 0) || p.pop();)if (1 === f.nodeType && ++_ && f === e) { h[t] = [T, d, _]; break } } else if (y && (_ = d = (l = (h = (c = (f = e)[x] || (f[x] = {}))[f.uniqueID] || (c[f.uniqueID] = {}))[t] || [])[0] === T && l[1]), !1 === _) for (; (f = ++d && f && f[g] || (_ = d = 0) || p.pop()) && ((a ? f.nodeName.toLowerCase() !== v : 1 !== f.nodeType) || !++_ || (y && ((h = (c = f[x] || (f[x] = {}))[f.uniqueID] || (c[f.uniqueID] = {}))[t] = [T, _]), f !== e));); return (_ -= i) === n || _ % n == 0 && _ / n >= 0 } } }, PSEUDO: function (t, e) { var r, i = n.pseudos[t] || n.setFilters[t.toLowerCase()] || it.error("unsupported pseudo: " + t); return i[x] ? i(e) : i.length > 1 ? (r = [t, t, "", e], n.setFilters.hasOwnProperty(t.toLowerCase()) ? st(function (t, r) { for (var n, o = i(t, e), s = o.length; s--;)t[n = F(t, o[s])] = !(r[n] = o[s]) }) : function (t) { return i(t, 0, r) }) : i } }, pseudos: { not: st(function (t) { var e = [], r = [], n = a(t.replace(X, "$1")); return n[x] ? st(function (t, e, r, i) { for (var o, s = n(t, null, i, []), a = t.length; a--;)(o = s[a]) && (t[a] = !(e[a] = o)) }) : function (t, i, o) { return e[0] = t, n(e, null, o, r), e[0] = null, !r.pop() } }), has: st(function (t) { return function (e) { return it(t, e).length > 0 } }), contains: st(function (t) { return t = t.replace(et, rt), function (e) { return (e.textContent || e.innerText || i(e)).indexOf(t) > -1 } }), lang: st(function (t) { return q.test(t || "") || it.error("unsupported lang: " + t), t = t.replace(et, rt).toLowerCase(), function (e) { var r; do { if (r = g ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (r = r.toLowerCase()) === t || 0 === r.indexOf(t + "-") } while ((e = e.parentNode) && 1 === e.nodeType); return !1 } }), target: function (e) { var r = t.location && t.location.hash; return r && r.slice(1) === e.id }, root: function (t) { return t === p }, focus: function (t) { return t === d.activeElement && (!d.hasFocus || d.hasFocus()) && !!(t.type || t.href || ~t.tabIndex) }, enabled: function (t) { return !1 === t.disabled }, disabled: function (t) { return !0 === t.disabled }, checked: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && !!t.checked || "option" === e && !!t.selected }, selected: function (t) { return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected }, empty: function (t) { for (t = t.firstChild; t; t = t.nextSibling)if (t.nodeType < 6) return !1; return !0 }, parent: function (t) { return !n.pseudos.empty(t) }, header: function (t) { return K.test(t.nodeName) }, input: function (t) { return $.test(t.nodeName) }, button: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && "button" === t.type || "button" === e }, text: function (t) { var e; return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase()) }, first: ft(function () { return [0] }), last: ft(function (t, e) { return [e - 1] }), eq: ft(function (t, e, r) { return [0 > r ? r + e : r] }), even: ft(function (t, e) { for (var r = 0; e > r; r += 2)t.push(r); return t }), odd: ft(function (t, e) { for (var r = 1; e > r; r += 2)t.push(r); return t }), lt: ft(function (t, e, r) { for (var n = 0 > r ? r + e : r; --n >= 0;)t.push(n); return t }), gt: ft(function (t, e, r) { for (var n = 0 > r ? r + e : r; ++n < e;)t.push(n); return t }) } }).pseudos.nth = n.pseudos.eq, { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) n.pseudos[e] = ht(e); for (e in { submit: !0, reset: !0 }) n.pseudos[e] = ct(e); function pt() { } function gt(t) { for (var e = 0, r = t.length, n = ""; r > e; e++)n += t[e].value; return n } function mt(t, e, r) { var n = e.dir, i = r && "parentNode" === n, o = w++; return e.first ? function (e, r, o) { for (; e = e[n];)if (1 === e.nodeType || i) return t(e, r, o) } : function (e, r, s) { var a, u, l, h = [T, o]; if (s) { for (; e = e[n];)if ((1 === e.nodeType || i) && t(e, r, s)) return !0 } else for (; e = e[n];)if (1 === e.nodeType || i) { if ((a = (u = (l = e[x] || (e[x] = {}))[e.uniqueID] || (l[e.uniqueID] = {}))[n]) && a[0] === T && a[1] === o) return h[2] = a[2]; if (u[n] = h, h[2] = t(e, r, s)) return !0 } } } function vt(t) { return t.length > 1 ? function (e, r, n) { for (var i = t.length; i--;)if (!t[i](e, r, n)) return !1; return !0 } : t[0] } function yt(t, e, r, n, i) { for (var o, s = [], a = 0, u = t.length, l = null != e; u > a; a++)(o = t[a]) && (r && !r(o, n, i) || (s.push(o), l && e.push(a))); return s } function _t(t, e, r, n, i, o) { return n && !n[x] && (n = _t(n)), i && !i[x] && (i = _t(i, o)), st(function (o, s, a, u) { var l, h, c, f = [], d = [], p = s.length, g = o || function (t, e, r) { for (var n = 0, i = e.length; i > n; n++)it(t, e[n], r); return r }(e || "*", a.nodeType ? [a] : a, []), m = !t || !o && e ? g : yt(g, f, t, a, u), v = r ? i || (o ? t : p || n) ? [] : s : m; if (r && r(m, v, a, u), n) for (l = yt(v, d), n(l, [], a, u), h = l.length; h--;)(c = l[h]) && (v[d[h]] = !(m[d[h]] = c)); if (o) { if (i || t) { if (i) { for (l = [], h = v.length; h--;)(c = v[h]) && l.push(m[h] = c); i(null, v = [], l, u) } for (h = v.length; h--;)(c = v[h]) && (l = i ? F(o, c) : f[h]) > -1 && (o[l] = !(s[l] = c)) } } else v = yt(v === s ? v.splice(p, v.length) : v), i ? i(null, s, v, u) : I.apply(s, v) }) } function xt(t) { for (var e, r, i, o = t.length, s = n.relative[t[0].type], a = s || n.relative[" "], u = s ? 1 : 0, h = mt(function (t) { return t === e }, a, !0), c = mt(function (t) { return F(e, t) > -1 }, a, !0), f = [function (t, r, n) { var i = !s && (n || r !== l) || ((e = r).nodeType ? h(t, r, n) : c(t, r, n)); return e = null, i }]; o > u; u++)if (r = n.relative[t[u].type]) f = [mt(vt(f), r)]; else { if ((r = n.filter[t[u].type].apply(null, t[u].matches))[x]) { for (i = ++u; o > i && !n.relative[t[i].type]; i++); return _t(u > 1 && vt(f), u > 1 && gt(t.slice(0, u - 1).concat({ value: " " === t[u - 2].type ? "*" : "" })).replace(X, "$1"), r, i > u && xt(t.slice(u, i)), o > i && xt(t = t.slice(i)), o > i && gt(t)) } f.push(r) } return vt(f) } function bt(t, e) { var r = e.length > 0, i = t.length > 0, o = function (o, s, a, u, h) { var c, p, m, v = 0, y = "0", _ = o && [], x = [], b = l, w = o || i && n.find.TAG("*", h), S = T += null == b ? 1 : Math.random() || .1, C = w.length; for (h && (l = s === d || s || h); y !== C && null != (c = w[y]); y++) { if (i && c) { for (p = 0, s || c.ownerDocument === d || (f(c), a = !g); m = t[p++];)if (m(c, s || d, a)) { u.push(c); break } h && (T = S) } r && ((c = !m && c) && v--, o && _.push(c)) } if (v += y, r && y !== v) { for (p = 0; m = e[p++];)m(_, x, s, a); if (o) { if (v > 0) for (; y--;)_[y] || x[y] || (x[y] = R.call(u)); x = yt(x) } I.apply(u, x), h && !o && x.length > 0 && v + e.length > 1 && it.uniqueSort(u) } return h && (T = S, l = b), _ }; return r ? st(o) : o } return pt.prototype = n.filters = n.pseudos, n.setFilters = new pt, s = it.tokenize = function (t, e) { var r, i, o, s, a, u, l, h = C[t + " "]; if (h) return e ? 0 : h.slice(0); for (a = t, u = [], l = n.preFilter; a;) { for (s in r && !(i = W.exec(a)) || (i && (a = a.slice(i[0].length) || a), u.push(o = [])), r = !1, (i = H.exec(a)) && (r = i.shift(), o.push({ value: r, type: i[0].replace(X, " ") }), a = a.slice(r.length)), n.filter) !(i = V[s].exec(a)) || l[s] && !(i = l[s](i)) || (r = i.shift(), o.push({ value: r, type: s, matches: i }), a = a.slice(r.length)); if (!r) break } return e ? a.length : a ? it.error(t) : C(t, u).slice(0) }, a = it.compile = function (t, e) { var r, n = [], i = [], o = E[t + " "]; if (!o) { for (e || (e = s(t)), r = e.length; r--;)(o = xt(e[r]))[x] ? n.push(o) : i.push(o); (o = E(t, bt(i, n))).selector = t } return o }, u = it.select = function (t, e, i, o) { var u, l, h, c, f, d = "function" == typeof t && t, p = !o && s(t = d.selector || t); if (i = i || [], 1 === p.length) { if ((l = p[0] = p[0].slice(0)).length > 2 && "ID" === (h = l[0]).type && r.getById && 9 === e.nodeType && g && n.relative[l[1].type]) { if (!(e = (n.find.ID(h.matches[0].replace(et, rt), e) || [])[0])) return i; d && (e = e.parentNode), t = t.slice(l.shift().value.length) } for (u = V.needsContext.test(t) ? 0 : l.length; u-- && (h = l[u], !n.relative[c = h.type]);)if ((f = n.find[c]) && (o = f(h.matches[0].replace(et, rt), J.test(l[0].type) && dt(e.parentNode) || e))) { if (l.splice(u, 1), !(t = o.length && gt(l))) return I.apply(i, o), i; break } } return (d || a(t, p))(o, e, !g, i, !e || J.test(t) && dt(e.parentNode) || e), i }, r.sortStable = x.split("").sort(O).join("") === x, r.detectDuplicates = !!c, f(), r.sortDetached = at(function (t) { return 1 & t.compareDocumentPosition(d.createElement("div")) }), at(function (t) { return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href") }) || ut("type|href|height|width", function (t, e, r) { return r ? void 0 : t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2) }), r.attributes && at(function (t) { return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value") }) || ut("value", function (t, e, r) { return r || "input" !== t.nodeName.toLowerCase() ? void 0 : t.defaultValue }), at(function (t) { return null == t.getAttribute("disabled") }) || ut(k, function (t, e, r) { var n; return r ? void 0 : !0 === t[e] ? e.toLowerCase() : (n = t.getAttributeNode(e)) && n.specified ? n.value : null }), it }(t); d.find = _, d.expr = _.selectors, d.expr[":"] = d.expr.pseudos, d.uniqueSort = d.unique = _.uniqueSort, d.text = _.getText, d.isXMLDoc = _.isXML, d.contains = _.contains; var x = function (t, e, r) { for (var n = [], i = void 0 !== r; (t = t[e]) && 9 !== t.nodeType;)if (1 === t.nodeType) { if (i && d(t).is(r)) break; n.push(t) } return n }, b = function (t, e) { for (var r = []; t; t = t.nextSibling)1 === t.nodeType && t !== e && r.push(t); return r }, T = d.expr.match.needsContext, w = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/, S = /^.[^:#\[\.,]*$/; function C(t, e, r) { if (d.isFunction(e)) return d.grep(t, function (t, n) { return !!e.call(t, n, t) !== r }); if (e.nodeType) return d.grep(t, function (t) { return t === e !== r }); if ("string" == typeof e) { if (S.test(e)) return d.filter(e, t, r); e = d.filter(e, t) } return d.grep(t, function (t) { return a.call(e, t) > -1 !== r }) } d.filter = function (t, e, r) { var n = e[0]; return r && (t = ":not(" + t + ")"), 1 === e.length && 1 === n.nodeType ? d.find.matchesSelector(n, t) ? [n] : [] : d.find.matches(t, d.grep(e, function (t) { return 1 === t.nodeType })) }, d.fn.extend({ find: function (t) { var e, r = this.length, n = [], i = this; if ("string" != typeof t) return this.pushStack(d(t).filter(function () { for (e = 0; r > e; e++)if (d.contains(i[e], this)) return !0 })); for (e = 0; r > e; e++)d.find(t, i[e], n); return (n = this.pushStack(r > 1 ? d.unique(n) : n)).selector = this.selector ? this.selector + " " + t : t, n }, filter: function (t) { return this.pushStack(C(this, t || [], !1)) }, not: function (t) { return this.pushStack(C(this, t || [], !0)) }, is: function (t) { return !!C(this, "string" == typeof t && T.test(t) ? d(t) : t || [], !1).length } }); var E, O = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/; (d.fn.init = function (t, e, r) { var i, o; if (!t) return this; if (r = r || E, "string" == typeof t) { if (!(i = "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3 ? [null, t, null] : O.exec(t)) || !i[1] && e) return !e || e.jquery ? (e || r).find(t) : this.constructor(e).find(t); if (i[1]) { if (e = e instanceof d ? e[0] : e, d.merge(this, d.parseHTML(i[1], e && e.nodeType ? e.ownerDocument || e : n, !0)), w.test(i[1]) && d.isPlainObject(e)) for (i in e) d.isFunction(this[i]) ? this[i](e[i]) : this.attr(i, e[i]); return this } return (o = n.getElementById(i[2])) && o.parentNode && (this.length = 1, this[0] = o), this.context = n, this.selector = t, this } return t.nodeType ? (this.context = this[0] = t, this.length = 1, this) : d.isFunction(t) ? void 0 !== r.ready ? r.ready(t) : t(d) : (void 0 !== t.selector && (this.selector = t.selector, this.context = t.context), d.makeArray(t, this)) }).prototype = d.fn, E = d(n); var P = /^(?:parents|prev(?:Until|All))/, A = { children: !0, contents: !0, next: !0, prev: !0 }; function M(t, e) { for (; (t = t[e]) && 1 !== t.nodeType;); return t } d.fn.extend({ has: function (t) { var e = d(t, this), r = e.length; return this.filter(function () { for (var t = 0; r > t; t++)if (d.contains(this, e[t])) return !0 }) }, closest: function (t, e) { for (var r, n = 0, i = this.length, o = [], s = T.test(t) || "string" != typeof t ? d(t, e || this.context) : 0; i > n; n++)for (r = this[n]; r && r !== e; r = r.parentNode)if (r.nodeType < 11 && (s ? s.index(r) > -1 : 1 === r.nodeType && d.find.matchesSelector(r, t))) { o.push(r); break } return this.pushStack(o.length > 1 ? d.uniqueSort(o) : o) }, index: function (t) { return t ? "string" == typeof t ? a.call(d(t), this[0]) : a.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (t, e) { return this.pushStack(d.uniqueSort(d.merge(this.get(), d(t, e)))) }, addBack: function (t) { return this.add(null == t ? this.prevObject : this.prevObject.filter(t)) } }), d.each({ parent: function (t) { var e = t.parentNode; return e && 11 !== e.nodeType ? e : null }, parents: function (t) { return x(t, "parentNode") }, parentsUntil: function (t, e, r) { return x(t, "parentNode", r) }, next: function (t) { return M(t, "nextSibling") }, prev: function (t) { return M(t, "previousSibling") }, nextAll: function (t) { return x(t, "nextSibling") }, prevAll: function (t) { return x(t, "previousSibling") }, nextUntil: function (t, e, r) { return x(t, "nextSibling", r) }, prevUntil: function (t, e, r) { return x(t, "previousSibling", r) }, siblings: function (t) { return b((t.parentNode || {}).firstChild, t) }, children: function (t) { return b(t.firstChild) }, contents: function (t) { return t.contentDocument || d.merge([], t.childNodes) } }, function (t, e) { d.fn[t] = function (r, n) { var i = d.map(this, e, r); return "Until" !== t.slice(-5) && (n = r), n && "string" == typeof n && (i = d.filter(n, i)), this.length > 1 && (A[t] || d.uniqueSort(i), P.test(t) && i.reverse()), this.pushStack(i) } }); var R, D = /\S+/g; function I() { n.removeEventListener("DOMContentLoaded", I), t.removeEventListener("load", I), d.ready() } d.Callbacks = function (t) { t = "string" == typeof t ? function (t) { var e = {}; return d.each(t.match(D) || [], function (t, r) { e[r] = !0 }), e }(t) : d.extend({}, t); var e, r, n, i, o = [], s = [], a = -1, u = function () { for (i = t.once, n = e = !0; s.length; a = -1)for (r = s.shift(); ++a < o.length;)!1 === o[a].apply(r[0], r[1]) && t.stopOnFalse && (a = o.length, r = !1); t.memory || (r = !1), e = !1, i && (o = r ? [] : "") }, l = { add: function () { return o && (r && !e && (a = o.length - 1, s.push(r)), function e(r) { d.each(r, function (r, n) { d.isFunction(n) ? t.unique && l.has(n) || o.push(n) : n && n.length && "string" !== d.type(n) && e(n) }) }(arguments), r && !e && u()), this }, remove: function () { return d.each(arguments, function (t, e) { for (var r; (r = d.inArray(e, o, r)) > -1;)o.splice(r, 1), a >= r && a-- }), this }, has: function (t) { return t ? d.inArray(t, o) > -1 : o.length > 0 }, empty: function () { return o && (o = []), this }, disable: function () { return i = s = [], o = r = "", this }, disabled: function () { return !o }, lock: function () { return i = s = [], r || (o = r = ""), this }, locked: function () { return !!i }, fireWith: function (t, r) { return i || (r = [t, (r = r || []).slice ? r.slice() : r], s.push(r), e || u()), this }, fire: function () { return l.fireWith(this, arguments), this }, fired: function () { return !!n } }; return l }, d.extend({ Deferred: function (t) { var e = [["resolve", "done", d.Callbacks("once memory"), "resolved"], ["reject", "fail", d.Callbacks("once memory"), "rejected"], ["notify", "progress", d.Callbacks("memory")]], r = "pending", n = { state: function () { return r }, always: function () { return i.done(arguments).fail(arguments), this }, then: function () { var t = arguments; return d.Deferred(function (r) { d.each(e, function (e, o) { var s = d.isFunction(t[e]) && t[e]; i[o[1]](function () { var t = s && s.apply(this, arguments); t && d.isFunction(t.promise) ? t.promise().progress(r.notify).done(r.resolve).fail(r.reject) : r[o[0] + "With"](this === n ? r.promise() : this, s ? [t] : arguments) }) }), t = null }).promise() }, promise: function (t) { return null != t ? d.extend(t, n) : n } }, i = {}; return n.pipe = n.then, d.each(e, function (t, o) { var s = o[2], a = o[3]; n[o[1]] = s.add, a && s.add(function () { r = a }, e[1 ^ t][2].disable, e[2][2].lock), i[o[0]] = function () { return i[o[0] + "With"](this === i ? n : this, arguments), this }, i[o[0] + "With"] = s.fireWith }), n.promise(i), t && t.call(i, i), i }, when: function (t) { var e, r, n, o = 0, s = i.call(arguments), a = s.length, u = 1 !== a || t && d.isFunction(t.promise) ? a : 0, l = 1 === u ? t : d.Deferred(), h = function (t, r, n) { return function (o) { r[t] = this, n[t] = arguments.length > 1 ? i.call(arguments) : o, n === e ? l.notifyWith(r, n) : --u || l.resolveWith(r, n) } }; if (a > 1) for (e = new Array(a), r = new Array(a), n = new Array(a); a > o; o++)s[o] && d.isFunction(s[o].promise) ? s[o].promise().progress(h(o, r, e)).done(h(o, n, s)).fail(l.reject) : --u; return u || l.resolveWith(n, s), l.promise() } }), d.fn.ready = function (t) { return d.ready.promise().done(t), this }, d.extend({ isReady: !1, readyWait: 1, holdReady: function (t) { t ? d.readyWait++ : d.ready(!0) }, ready: function (t) { (!0 === t ? --d.readyWait : d.isReady) || (d.isReady = !0, !0 !== t && --d.readyWait > 0 || (R.resolveWith(n, [d]), d.fn.triggerHandler && (d(n).triggerHandler("ready"), d(n).off("ready")))) } }), d.ready.promise = function (e) { return R || (R = d.Deferred(), "complete" === n.readyState || "loading" !== n.readyState && !n.documentElement.doScroll ? t.setTimeout(d.ready) : (n.addEventListener("DOMContentLoaded", I), t.addEventListener("load", I))), R.promise(e) }, d.ready.promise(); var L = function (t, e, r, n, i, o, s) { var a = 0, u = t.length, l = null == r; if ("object" === d.type(r)) for (a in i = !0, r) L(t, e, a, r[a], !0, o, s); else if (void 0 !== n && (i = !0, d.isFunction(n) || (s = !0), l && (s ? (e.call(t, n), e = null) : (l = e, e = function (t, e, r) { return l.call(d(t), r) })), e)) for (; u > a; a++)e(t[a], r, s ? n : n.call(t[a], a, e(t[a], r))); return i ? t : l ? e.call(t) : u ? e(t[0], r) : o }, F = function (t) { return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType }; function k() { this.expando = d.expando + k.uid++ } k.uid = 1, k.prototype = { register: function (t, e) { var r = e || {}; return t.nodeType ? t[this.expando] = r : Object.defineProperty(t, this.expando, { value: r, writable: !0, configurable: !0 }), t[this.expando] }, cache: function (t) { if (!F(t)) return {}; var e = t[this.expando]; return e || (e = {}, F(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, { value: e, configurable: !0 }))), e }, set: function (t, e, r) { var n, i = this.cache(t); if ("string" == typeof e) i[e] = r; else for (n in e) i[n] = e[n]; return i }, get: function (t, e) { return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][e] }, access: function (t, e, r) { var n; return void 0 === e || e && "string" == typeof e && void 0 === r ? void 0 !== (n = this.get(t, e)) ? n : this.get(t, d.camelCase(e)) : (this.set(t, e, r), void 0 !== r ? r : e) }, remove: function (t, e) { var r, n, i, o = t[this.expando]; if (void 0 !== o) { if (void 0 === e) this.register(t); else { d.isArray(e) ? n = e.concat(e.map(d.camelCase)) : (i = d.camelCase(e), n = e in o ? [e, i] : (n = i) in o ? [n] : n.match(D) || []), r = n.length; for (; r--;)delete o[n[r]] } (void 0 === e || d.isEmptyObject(o)) && (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando]) } }, hasData: function (t) { var e = t[this.expando]; return void 0 !== e && !d.isEmptyObject(e) } }; var j = new k, N = new k, B = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, U = /[A-Z]/g; function z(t, e, r) { var n; if (void 0 === r && 1 === t.nodeType) if (n = "data-" + e.replace(U, "-$&").toLowerCase(), "string" == typeof (r = t.getAttribute(n))) { try { r = "true" === r || "false" !== r && ("null" === r ? null : +r + "" === r ? +r : B.test(r) ? d.parseJSON(r) : r) } catch (t) { } N.set(t, e, r) } else r = void 0; return r } d.extend({ hasData: function (t) { return N.hasData(t) || j.hasData(t) }, data: function (t, e, r) { return N.access(t, e, r) }, removeData: function (t, e) { N.remove(t, e) }, _data: function (t, e, r) { return j.access(t, e, r) }, _removeData: function (t, e) { j.remove(t, e) } }), d.fn.extend({ data: function (t, e) { var r, n, i, o = this[0], s = o && o.attributes; if (void 0 === t) { if (this.length && (i = N.get(o), 1 === o.nodeType && !j.get(o, "hasDataAttrs"))) { for (r = s.length; r--;)s[r] && 0 === (n = s[r].name).indexOf("data-") && (n = d.camelCase(n.slice(5)), z(o, n, i[n])); j.set(o, "hasDataAttrs", !0) } return i } return "object" == typeof t ? this.each(function () { N.set(this, t) }) : L(this, function (e) { var r, n; if (o && void 0 === e) { if (void 0 !== (r = N.get(o, t) || N.get(o, t.replace(U, "-$&").toLowerCase()))) return r; if (n = d.camelCase(t), void 0 !== (r = N.get(o, n))) return r; if (void 0 !== (r = z(o, n, void 0))) return r } else n = d.camelCase(t), this.each(function () { var r = N.get(this, n); N.set(this, n, e), t.indexOf("-") > -1 && void 0 !== r && N.set(this, t, e) }) }, null, e, arguments.length > 1, null, !0) }, removeData: function (t) { return this.each(function () { N.remove(this, t) }) } }), d.extend({ queue: function (t, e, r) { var n; return t ? (e = (e || "fx") + "queue", n = j.get(t, e), r && (!n || d.isArray(r) ? n = j.access(t, e, d.makeArray(r)) : n.push(r)), n || []) : void 0 }, dequeue: function (t, e) { e = e || "fx"; var r = d.queue(t, e), n = r.length, i = r.shift(), o = d._queueHooks(t, e); "inprogress" === i && (i = r.shift(), n--), i && ("fx" === e && r.unshift("inprogress"), delete o.stop, i.call(t, function () { d.dequeue(t, e) }, o)), !n && o && o.empty.fire() }, _queueHooks: function (t, e) { var r = e + "queueHooks"; return j.get(t, r) || j.access(t, r, { empty: d.Callbacks("once memory").add(function () { j.remove(t, [e + "queue", r]) }) }) } }), d.fn.extend({ queue: function (t, e) { var r = 2; return "string" != typeof t && (e = t, t = "fx", r--), arguments.length < r ? d.queue(this[0], t) : void 0 === e ? this : this.each(function () { var r = d.queue(this, t, e); d._queueHooks(this, t), "fx" === t && "inprogress" !== r[0] && d.dequeue(this, t) }) }, dequeue: function (t) { return this.each(function () { d.dequeue(this, t) }) }, clearQueue: function (t) { return this.queue(t || "fx", []) }, promise: function (t, e) { var r, n = 1, i = d.Deferred(), o = this, s = this.length, a = function () { --n || i.resolveWith(o, [o]) }; for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; s--;)(r = j.get(o[s], t + "queueHooks")) && r.empty && (n++, r.empty.add(a)); return a(), i.promise(e) } }); var X = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, W = new RegExp("^(?:([+-])=|)(" + X + ")([a-z%]*)$", "i"), H = ["Top", "Right", "Bottom", "Left"], G = function (t, e) { return t = e || t, "none" === d.css(t, "display") || !d.contains(t.ownerDocument, t) }; function Y(t, e, r, n) { var i, o = 1, s = 20, a = n ? function () { return n.cur() } : function () { return d.css(t, e, "") }, u = a(), l = r && r[3] || (d.cssNumber[e] ? "" : "px"), h = (d.cssNumber[e] || "px" !== l && +u) && W.exec(d.css(t, e)); if (h && h[3] !== l) { l = l || h[3], r = r || [], h = +u || 1; do { h /= o = o || ".5", d.style(t, e, h + l) } while (o !== (o = a() / u) && 1 !== o && --s) } return r && (h = +h || +u || 0, i = r[1] ? h + (r[1] + 1) * r[2] : +r[2], n && (n.unit = l, n.start = h, n.end = i)), i } var q = /^(?:checkbox|radio)$/i, V = /<([\w:-]+)/, $ = /^$|\/(?:java|ecma)script/i, K = { option: [1, "<select multiple='multiple'>", "</select>"], thead: [1, "<table>", "</table>"], col: [2, "<table><colgroup>", "</colgroup></table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: [0, "", ""] }; function Z(t, e) { var r = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : []; return void 0 === e || e && d.nodeName(t, e) ? d.merge([t], r) : r } function Q(t, e) { for (var r = 0, n = t.length; n > r; r++)j.set(t[r], "globalEval", !e || j.get(e[r], "globalEval")) } K.optgroup = K.option, K.tbody = K.tfoot = K.colgroup = K.caption = K.thead, K.th = K.td; var J = /<|&#?\w+;/; function tt(t, e, r, n, i) { for (var o, s, a, u, l, h, c = e.createDocumentFragment(), f = [], p = 0, g = t.length; g > p; p++)if ((o = t[p]) || 0 === o) if ("object" === d.type(o)) d.merge(f, o.nodeType ? [o] : o); else if (J.test(o)) { for (s = s || c.appendChild(e.createElement("div")), a = (V.exec(o) || ["", ""])[1].toLowerCase(), u = K[a] || K._default, s.innerHTML = u[1] + d.htmlPrefilter(o) + u[2], h = u[0]; h--;)s = s.lastChild; d.merge(f, s.childNodes), (s = c.firstChild).textContent = "" } else f.push(e.createTextNode(o)); for (c.textContent = "", p = 0; o = f[p++];)if (n && d.inArray(o, n) > -1) i && i.push(o); else if (l = d.contains(o.ownerDocument, o), s = Z(c.appendChild(o), "script"), l && Q(s), r) for (h = 0; o = s[h++];)$.test(o.type || "") && r.push(o); return c } !function () { var t = n.createDocumentFragment().appendChild(n.createElement("div")), e = n.createElement("input"); e.setAttribute("type", "radio"), e.setAttribute("checked", "checked"), e.setAttribute("name", "t"), t.appendChild(e), c.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, t.innerHTML = "<textarea>x</textarea>", c.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue }(); var et = /^key/, rt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, nt = /^([^.]*)(?:\.(.+)|)/; function it() { return !0 } function ot() { return !1 } function st() { try { return n.activeElement } catch (t) { } } function at(t, e, r, n, i, o) { var s, a; if ("object" == typeof e) { for (a in "string" != typeof r && (n = n || r, r = void 0), e) at(t, a, r, n, e[a], o); return t } if (null == n && null == i ? (i = r, n = r = void 0) : null == i && ("string" == typeof r ? (i = n, n = void 0) : (i = n, n = r, r = void 0)), !1 === i) i = ot; else if (!i) return t; return 1 === o && (s = i, (i = function (t) { return d().off(t), s.apply(this, arguments) }).guid = s.guid || (s.guid = d.guid++)), t.each(function () { d.event.add(this, e, i, n, r) }) } d.event = { global: {}, add: function (t, e, r, n, i) { var o, s, a, u, l, h, c, f, p, g, m, v = j.get(t); if (v) for (r.handler && (r = (o = r).handler, i = o.selector), r.guid || (r.guid = d.guid++), (u = v.events) || (u = v.events = {}), (s = v.handle) || (s = v.handle = function (e) { return void 0 !== d && d.event.triggered !== e.type ? d.event.dispatch.apply(t, arguments) : void 0 }), l = (e = (e || "").match(D) || [""]).length; l--;)p = m = (a = nt.exec(e[l]) || [])[1], g = (a[2] || "").split(".").sort(), p && (c = d.event.special[p] || {}, p = (i ? c.delegateType : c.bindType) || p, c = d.event.special[p] || {}, h = d.extend({ type: p, origType: m, data: n, handler: r, guid: r.guid, selector: i, needsContext: i && d.expr.match.needsContext.test(i), namespace: g.join(".") }, o), (f = u[p]) || ((f = u[p] = []).delegateCount = 0, c.setup && !1 !== c.setup.call(t, n, g, s) || t.addEventListener && t.addEventListener(p, s)), c.add && (c.add.call(t, h), h.handler.guid || (h.handler.guid = r.guid)), i ? f.splice(f.delegateCount++, 0, h) : f.push(h), d.event.global[p] = !0) }, remove: function (t, e, r, n, i) { var o, s, a, u, l, h, c, f, p, g, m, v = j.hasData(t) && j.get(t); if (v && (u = v.events)) { for (l = (e = (e || "").match(D) || [""]).length; l--;)if (p = m = (a = nt.exec(e[l]) || [])[1], g = (a[2] || "").split(".").sort(), p) { for (c = d.event.special[p] || {}, f = u[p = (n ? c.delegateType : c.bindType) || p] || [], a = a[2] && new RegExp("(^|\\.)" + g.join("\\.(?:.*\\.|)") + "(\\.|$)"), s = o = f.length; o--;)h = f[o], !i && m !== h.origType || r && r.guid !== h.guid || a && !a.test(h.namespace) || n && n !== h.selector && ("**" !== n || !h.selector) || (f.splice(o, 1), h.selector && f.delegateCount--, c.remove && c.remove.call(t, h)); s && !f.length && (c.teardown && !1 !== c.teardown.call(t, g, v.handle) || d.removeEvent(t, p, v.handle), delete u[p]) } else for (p in u) d.event.remove(t, p + e[l], r, n, !0); d.isEmptyObject(u) && j.remove(t, "handle events") } }, dispatch: function (t) { t = d.event.fix(t); var e, r, n, o, s, a = [], u = i.call(arguments), l = (j.get(this, "events") || {})[t.type] || [], h = d.event.special[t.type] || {}; if (u[0] = t, t.delegateTarget = this, !h.preDispatch || !1 !== h.preDispatch.call(this, t)) { for (a = d.event.handlers.call(this, t, l), e = 0; (o = a[e++]) && !t.isPropagationStopped();)for (t.currentTarget = o.elem, r = 0; (s = o.handlers[r++]) && !t.isImmediatePropagationStopped();)t.rnamespace && !t.rnamespace.test(s.namespace) || (t.handleObj = s, t.data = s.data, void 0 !== (n = ((d.event.special[s.origType] || {}).handle || s.handler).apply(o.elem, u)) && !1 === (t.result = n) && (t.preventDefault(), t.stopPropagation())); return h.postDispatch && h.postDispatch.call(this, t), t.result } }, handlers: function (t, e) { var r, n, i, o, s = [], a = e.delegateCount, u = t.target; if (a && u.nodeType && ("click" !== t.type || isNaN(t.button) || t.button < 1)) for (; u !== this; u = u.parentNode || this)if (1 === u.nodeType && (!0 !== u.disabled || "click" !== t.type)) { for (n = [], r = 0; a > r; r++)void 0 === n[i = (o = e[r]).selector + " "] && (n[i] = o.needsContext ? d(i, this).index(u) > -1 : d.find(i, this, null, [u]).length), n[i] && n.push(o); n.length && s.push({ elem: u, handlers: n }) } return a < e.length && s.push({ elem: this, handlers: e.slice(a) }), s }, props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "), fixHooks: {}, keyHooks: { props: "char charCode key keyCode".split(" "), filter: function (t, e) { return null == t.which && (t.which = null != e.charCode ? e.charCode : e.keyCode), t } }, mouseHooks: { props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "), filter: function (t, e) { var r, i, o, s = e.button; return null == t.pageX && null != e.clientX && (i = (r = t.target.ownerDocument || n).documentElement, o = r.body, t.pageX = e.clientX + (i && i.scrollLeft || o && o.scrollLeft || 0) - (i && i.clientLeft || o && o.clientLeft || 0), t.pageY = e.clientY + (i && i.scrollTop || o && o.scrollTop || 0) - (i && i.clientTop || o && o.clientTop || 0)), t.which || void 0 === s || (t.which = 1 & s ? 1 : 2 & s ? 3 : 4 & s ? 2 : 0), t } }, fix: function (t) { if (t[d.expando]) return t; var e, r, i, o = t.type, s = t, a = this.fixHooks[o]; for (a || (this.fixHooks[o] = a = rt.test(o) ? this.mouseHooks : et.test(o) ? this.keyHooks : {}), i = a.props ? this.props.concat(a.props) : this.props, t = new d.Event(s), e = i.length; e--;)t[r = i[e]] = s[r]; return t.target || (t.target = n), 3 === t.target.nodeType && (t.target = t.target.parentNode), a.filter ? a.filter(t, s) : t }, special: { load: { noBubble: !0 }, focus: { trigger: function () { return this !== st() && this.focus ? (this.focus(), !1) : void 0 }, delegateType: "focusin" }, blur: { trigger: function () { return this === st() && this.blur ? (this.blur(), !1) : void 0 }, delegateType: "focusout" }, click: { trigger: function () { return "checkbox" === this.type && this.click && d.nodeName(this, "input") ? (this.click(), !1) : void 0 }, _default: function (t) { return d.nodeName(t.target, "a") } }, beforeunload: { postDispatch: function (t) { void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result) } } } }, d.removeEvent = function (t, e, r) { t.removeEventListener && t.removeEventListener(e, r) }, d.Event = function (t, e) { return this instanceof d.Event ? (t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? it : ot) : this.type = t, e && d.extend(this, e), this.timeStamp = t && t.timeStamp || d.now(), void (this[d.expando] = !0)) : new d.Event(t, e) }, d.Event.prototype = { constructor: d.Event, isDefaultPrevented: ot, isPropagationStopped: ot, isImmediatePropagationStopped: ot, isSimulated: !1, preventDefault: function () { var t = this.originalEvent; this.isDefaultPrevented = it, t && !this.isSimulated && t.preventDefault() }, stopPropagation: function () { var t = this.originalEvent; this.isPropagationStopped = it, t && !this.isSimulated && t.stopPropagation() }, stopImmediatePropagation: function () { var t = this.originalEvent; this.isImmediatePropagationStopped = it, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation() } }, d.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, function (t, e) { d.event.special[t] = { delegateType: e, bindType: e, handle: function (t) { var r, n = t.relatedTarget, i = t.handleObj; return n && (n === this || d.contains(this, n)) || (t.type = i.origType, r = i.handler.apply(this, arguments), t.type = e), r } } }), d.fn.extend({ on: function (t, e, r, n) { return at(this, t, e, r, n) }, one: function (t, e, r, n) { return at(this, t, e, r, n, 1) }, off: function (t, e, r) { var n, i; if (t && t.preventDefault && t.handleObj) return n = t.handleObj, d(t.delegateTarget).off(n.namespace ? n.origType + "." + n.namespace : n.origType, n.selector, n.handler), this; if ("object" == typeof t) { for (i in t) this.off(i, e, t[i]); return this } return !1 !== e && "function" != typeof e || (r = e, e = void 0), !1 === r && (r = ot), this.each(function () { d.event.remove(this, t, r, e) }) } }); var ut = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi, lt = /<script|<style|<link/i, ht = /checked\s*(?:[^=]|=\s*.checked.)/i, ct = /^true\/(.*)/, ft = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g; function dt(t, e) { return d.nodeName(t, "table") && d.nodeName(11 !== e.nodeType ? e : e.firstChild, "tr") ? t.getElementsByTagName("tbody")[0] || t.appendChild(t.ownerDocument.createElement("tbody")) : t } function pt(t) { return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t } function gt(t) { var e = ct.exec(t.type); return e ? t.type = e[1] : t.removeAttribute("type"), t } function mt(t, e) { var r, n, i, o, s, a, u, l; if (1 === e.nodeType) { if (j.hasData(t) && (o = j.access(t), s = j.set(e, o), l = o.events)) for (i in delete s.handle, s.events = {}, l) for (r = 0, n = l[i].length; n > r; r++)d.event.add(e, i, l[i][r]); N.hasData(t) && (a = N.access(t), u = d.extend({}, a), N.set(e, u)) } } function vt(t, e) { var r = e.nodeName.toLowerCase(); "input" === r && q.test(t.type) ? e.checked = t.checked : "input" !== r && "textarea" !== r || (e.defaultValue = t.defaultValue) } function yt(t, e, r, n) { e = o.apply([], e); var i, s, a, u, l, h, f = 0, p = t.length, g = p - 1, m = e[0], v = d.isFunction(m); if (v || p > 1 && "string" == typeof m && !c.checkClone && ht.test(m)) return t.each(function (i) { var o = t.eq(i); v && (e[0] = m.call(this, i, o.html())), yt(o, e, r, n) }); if (p && (s = (i = tt(e, t[0].ownerDocument, !1, t, n)).firstChild, 1 === i.childNodes.length && (i = s), s || n)) { for (u = (a = d.map(Z(i, "script"), pt)).length; p > f; f++)l = i, f !== g && (l = d.clone(l, !0, !0), u && d.merge(a, Z(l, "script"))), r.call(t[f], l, f); if (u) for (h = a[a.length - 1].ownerDocument, d.map(a, gt), f = 0; u > f; f++)l = a[f], $.test(l.type || "") && !j.access(l, "globalEval") && d.contains(h, l) && (l.src ? d._evalUrl && d._evalUrl(l.src) : d.globalEval(l.textContent.replace(ft, ""))) } return t } function _t(t, e, r) { for (var n, i = e ? d.filter(e, t) : t, o = 0; null != (n = i[o]); o++)r || 1 !== n.nodeType || d.cleanData(Z(n)), n.parentNode && (r && d.contains(n.ownerDocument, n) && Q(Z(n, "script")), n.parentNode.removeChild(n)); return t } d.extend({ htmlPrefilter: function (t) { return t.replace(ut, "<$1></$2>") }, clone: function (t, e, r) { var n, i, o, s, a = t.cloneNode(!0), u = d.contains(t.ownerDocument, t); if (!(c.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || d.isXMLDoc(t))) for (s = Z(a), n = 0, i = (o = Z(t)).length; i > n; n++)vt(o[n], s[n]); if (e) if (r) for (o = o || Z(t), s = s || Z(a), n = 0, i = o.length; i > n; n++)mt(o[n], s[n]); else mt(t, a); return (s = Z(a, "script")).length > 0 && Q(s, !u && Z(t, "script")), a }, cleanData: function (t) { for (var e, r, n, i = d.event.special, o = 0; void 0 !== (r = t[o]); o++)if (F(r)) { if (e = r[j.expando]) { if (e.events) for (n in e.events) i[n] ? d.event.remove(r, n) : d.removeEvent(r, n, e.handle); r[j.expando] = void 0 } r[N.expando] && (r[N.expando] = void 0) } } }), d.fn.extend({ domManip: yt, detach: function (t) { return _t(this, t, !0) }, remove: function (t) { return _t(this, t) }, text: function (t) { return L(this, function (t) { return void 0 === t ? d.text(this) : this.empty().each(function () { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t) }) }, null, t, arguments.length) }, append: function () { return yt(this, arguments, function (t) { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || dt(this, t).appendChild(t) }) }, prepend: function () { return yt(this, arguments, function (t) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var e = dt(this, t); e.insertBefore(t, e.firstChild) } }) }, before: function () { return yt(this, arguments, function (t) { this.parentNode && this.parentNode.insertBefore(t, this) }) }, after: function () { return yt(this, arguments, function (t) { this.parentNode && this.parentNode.insertBefore(t, this.nextSibling) }) }, empty: function () { for (var t, e = 0; null != (t = this[e]); e++)1 === t.nodeType && (d.cleanData(Z(t, !1)), t.textContent = ""); return this }, clone: function (t, e) { return t = null != t && t, e = null == e ? t : e, this.map(function () { return d.clone(this, t, e) }) }, html: function (t) { return L(this, function (t) { var e = this[0] || {}, r = 0, n = this.length; if (void 0 === t && 1 === e.nodeType) return e.innerHTML; if ("string" == typeof t && !lt.test(t) && !K[(V.exec(t) || ["", ""])[1].toLowerCase()]) { t = d.htmlPrefilter(t); try { for (; n > r; r++)1 === (e = this[r] || {}).nodeType && (d.cleanData(Z(e, !1)), e.innerHTML = t); e = 0 } catch (t) { } } e && this.empty().append(t) }, null, t, arguments.length) }, replaceWith: function () { var t = []; return yt(this, arguments, function (e) { var r = this.parentNode; d.inArray(this, t) < 0 && (d.cleanData(Z(this)), r && r.replaceChild(e, this)) }, t) } }), d.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (t, e) { d.fn[t] = function (t) { for (var r, n = [], i = d(t), o = i.length - 1, a = 0; o >= a; a++)r = a === o ? this : this.clone(!0), d(i[a])[e](r), s.apply(n, r.get()); return this.pushStack(n) } }); var xt, bt = { HTML: "block", BODY: "block" }; function Tt(t, e) { var r = d(e.createElement(t)).appendTo(e.body), n = d.css(r[0], "display"); return r.detach(), n } function wt(t) { var e = n, r = bt[t]; return r || ("none" !== (r = Tt(t, e)) && r || ((e = (xt = (xt || d("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(), e.close(), r = Tt(t, e), xt.detach()), bt[t] = r), r } var St = /^margin/, Ct = new RegExp("^(" + X + ")(?!px)[a-z%]+$", "i"), Et = function (e) { var r = e.ownerDocument.defaultView; return r && r.opener || (r = t), r.getComputedStyle(e) }, Ot = function (t, e, r, n) { var i, o, s = {}; for (o in e) s[o] = t.style[o], t.style[o] = e[o]; for (o in i = r.apply(t, n || []), e) t.style[o] = s[o]; return i }, Pt = n.documentElement; function At(t, e, r) { var n, i, o, s, a = t.style; return "" !== (s = (r = r || Et(t)) ? r.getPropertyValue(e) || r[e] : void 0) && void 0 !== s || d.contains(t.ownerDocument, t) || (s = d.style(t, e)), r && !c.pixelMarginRight() && Ct.test(s) && St.test(e) && (n = a.width, i = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = s, s = r.width, a.width = n, a.minWidth = i, a.maxWidth = o), void 0 !== s ? s + "" : s } function Mt(t, e) { return { get: function () { return t() ? void delete this.get : (this.get = e).apply(this, arguments) } } } !function () { var e, r, i, o, s = n.createElement("div"), a = n.createElement("div"); if (a.style) { function u() { a.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", a.innerHTML = "", Pt.appendChild(s); var n = t.getComputedStyle(a); e = "1%" !== n.top, o = "2px" === n.marginLeft, r = "4px" === n.width, a.style.marginRight = "50%", i = "4px" === n.marginRight, Pt.removeChild(s) } a.style.backgroundClip = "content-box", a.cloneNode(!0).style.backgroundClip = "", c.clearCloneStyle = "content-box" === a.style.backgroundClip, s.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", s.appendChild(a), d.extend(c, { pixelPosition: function () { return u(), e }, boxSizingReliable: function () { return null == r && u(), r }, pixelMarginRight: function () { return null == r && u(), i }, reliableMarginLeft: function () { return null == r && u(), o }, reliableMarginRight: function () { var e, r = a.appendChild(n.createElement("div")); return r.style.cssText = a.style.cssText = "-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", r.style.marginRight = r.style.width = "0", a.style.width = "1px", Pt.appendChild(s), e = !parseFloat(t.getComputedStyle(r).marginRight), Pt.removeChild(s), a.removeChild(r), e } }) } }(); var Rt = /^(none|table(?!-c[ea]).+)/, Dt = { position: "absolute", visibility: "hidden", display: "block" }, It = { letterSpacing: "0", fontWeight: "400" }, Lt = ["Webkit", "O", "Moz", "ms"], Ft = n.createElement("div").style; function kt(t) { if (t in Ft) return t; for (var e = t[0].toUpperCase() + t.slice(1), r = Lt.length; r--;)if ((t = Lt[r] + e) in Ft) return t } function jt(t, e, r) { var n = W.exec(e); return n ? Math.max(0, n[2] - (r || 0)) + (n[3] || "px") : e } function Nt(t, e, r, n, i) { for (var o = r === (n ? "border" : "content") ? 4 : "width" === e ? 1 : 0, s = 0; 4 > o; o += 2)"margin" === r && (s += d.css(t, r + H[o], !0, i)), n ? ("content" === r && (s -= d.css(t, "padding" + H[o], !0, i)), "margin" !== r && (s -= d.css(t, "border" + H[o] + "Width", !0, i))) : (s += d.css(t, "padding" + H[o], !0, i), "padding" !== r && (s += d.css(t, "border" + H[o] + "Width", !0, i))); return s } function Bt(t, e, r) { var n = !0, i = "width" === e ? t.offsetWidth : t.offsetHeight, o = Et(t), s = "border-box" === d.css(t, "boxSizing", !1, o); if (0 >= i || null == i) { if ((0 > (i = At(t, e, o)) || null == i) && (i = t.style[e]), Ct.test(i)) return i; n = s && (c.boxSizingReliable() || i === t.style[e]), i = parseFloat(i) || 0 } return i + Nt(t, e, r || (s ? "border" : "content"), n, o) + "px" } function Ut(t, e) { for (var r, n, i, o = [], s = 0, a = t.length; a > s; s++)(n = t[s]).style && (o[s] = j.get(n, "olddisplay"), r = n.style.display, e ? (o[s] || "none" !== r || (n.style.display = ""), "" === n.style.display && G(n) && (o[s] = j.access(n, "olddisplay", wt(n.nodeName)))) : (i = G(n), "none" === r && i || j.set(n, "olddisplay", i ? r : d.css(n, "display")))); for (s = 0; a > s; s++)(n = t[s]).style && (e && "none" !== n.style.display && "" !== n.style.display || (n.style.display = e ? o[s] || "" : "none")); return t } function zt(t, e, r, n, i) { return new zt.prototype.init(t, e, r, n, i) } d.extend({ cssHooks: { opacity: { get: function (t, e) { if (e) { var r = At(t, "opacity"); return "" === r ? "1" : r } } } }, cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: { float: "cssFloat" }, style: function (t, e, r, n) { if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) { var i, o, s, a = d.camelCase(e), u = t.style; return e = d.cssProps[a] || (d.cssProps[a] = kt(a) || a), s = d.cssHooks[e] || d.cssHooks[a], void 0 === r ? s && "get" in s && void 0 !== (i = s.get(t, !1, n)) ? i : u[e] : ("string" == (o = typeof r) && (i = W.exec(r)) && i[1] && (r = Y(t, e, i), o = "number"), void (null != r && r == r && ("number" === o && (r += i && i[3] || (d.cssNumber[a] ? "" : "px")), c.clearCloneStyle || "" !== r || 0 !== e.indexOf("background") || (u[e] = "inherit"), s && "set" in s && void 0 === (r = s.set(t, r, n)) || (u[e] = r)))) } }, css: function (t, e, r, n) { var i, o, s, a = d.camelCase(e); return e = d.cssProps[a] || (d.cssProps[a] = kt(a) || a), (s = d.cssHooks[e] || d.cssHooks[a]) && "get" in s && (i = s.get(t, !0, r)), void 0 === i && (i = At(t, e, n)), "normal" === i && e in It && (i = It[e]), "" === r || r ? (o = parseFloat(i), !0 === r || isFinite(o) ? o || 0 : i) : i } }), d.each(["height", "width"], function (t, e) { d.cssHooks[e] = { get: function (t, r, n) { return r ? Rt.test(d.css(t, "display")) && 0 === t.offsetWidth ? Ot(t, Dt, function () { return Bt(t, e, n) }) : Bt(t, e, n) : void 0 }, set: function (t, r, n) { var i, o = n && Et(t), s = n && Nt(t, e, n, "border-box" === d.css(t, "boxSizing", !1, o), o); return s && (i = W.exec(r)) && "px" !== (i[3] || "px") && (t.style[e] = r, r = d.css(t, e)), jt(0, r, s) } } }), d.cssHooks.marginLeft = Mt(c.reliableMarginLeft, function (t, e) { return e ? (parseFloat(At(t, "marginLeft")) || t.getBoundingClientRect().left - Ot(t, { marginLeft: 0 }, function () { return t.getBoundingClientRect().left })) + "px" : void 0 }), d.cssHooks.marginRight = Mt(c.reliableMarginRight, function (t, e) { return e ? Ot(t, { display: "inline-block" }, At, [t, "marginRight"]) : void 0 }), d.each({ margin: "", padding: "", border: "Width" }, function (t, e) { d.cssHooks[t + e] = { expand: function (r) { for (var n = 0, i = {}, o = "string" == typeof r ? r.split(" ") : [r]; 4 > n; n++)i[t + H[n] + e] = o[n] || o[n - 2] || o[0]; return i } }, St.test(t) || (d.cssHooks[t + e].set = jt) }), d.fn.extend({ css: function (t, e) { return L(this, function (t, e, r) { var n, i, o = {}, s = 0; if (d.isArray(e)) { for (n = Et(t), i = e.length; i > s; s++)o[e[s]] = d.css(t, e[s], !1, n); return o } return void 0 !== r ? d.style(t, e, r) : d.css(t, e) }, t, e, arguments.length > 1) }, show: function () { return Ut(this, !0) }, hide: function () { return Ut(this) }, toggle: function (t) { return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function () { G(this) ? d(this).show() : d(this).hide() }) } }), d.Tween = zt, zt.prototype = { constructor: zt, init: function (t, e, r, n, i, o) { this.elem = t, this.prop = r, this.easing = i || d.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = n, this.unit = o || (d.cssNumber[r] ? "" : "px") }, cur: function () { var t = zt.propHooks[this.prop]; return t && t.get ? t.get(this) : zt.propHooks._default.get(this) }, run: function (t) { var e, r = zt.propHooks[this.prop]; return this.options.duration ? this.pos = e = d.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), r && r.set ? r.set(this) : zt.propHooks._default.set(this), this } }, zt.prototype.init.prototype = zt.prototype, zt.propHooks = { _default: { get: function (t) { var e; return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = d.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0 }, set: function (t) { d.fx.step[t.prop] ? d.fx.step[t.prop](t) : 1 !== t.elem.nodeType || null == t.elem.style[d.cssProps[t.prop]] && !d.cssHooks[t.prop] ? t.elem[t.prop] = t.now : d.style(t.elem, t.prop, t.now + t.unit) } } }, zt.propHooks.scrollTop = zt.propHooks.scrollLeft = { set: function (t) { t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now) } }, d.easing = { linear: function (t) { return t }, swing: function (t) { return .5 - Math.cos(t * Math.PI) / 2 }, _default: "swing" }, d.fx = zt.prototype.init, d.fx.step = {}; var Xt, Wt, Ht = /^(?:toggle|show|hide)$/, Gt = /queueHooks$/; function Yt() { return t.setTimeout(function () { Xt = void 0 }), Xt = d.now() } function qt(t, e) { var r, n = 0, i = { height: t }; for (e = e ? 1 : 0; 4 > n; n += 2 - e)i["margin" + (r = H[n])] = i["padding" + r] = t; return e && (i.opacity = i.width = t), i } function Vt(t, e, r) { for (var n, i = ($t.tweeners[e] || []).concat($t.tweeners["*"]), o = 0, s = i.length; s > o; o++)if (n = i[o].call(r, e, t)) return n } function $t(t, e, r) { var n, i, o = 0, s = $t.prefilters.length, a = d.Deferred().always(function () { delete u.elem }), u = function () { if (i) return !1; for (var e = Xt || Yt(), r = Math.max(0, l.startTime + l.duration - e), n = 1 - (r / l.duration || 0), o = 0, s = l.tweens.length; s > o; o++)l.tweens[o].run(n); return a.notifyWith(t, [l, n, r]), 1 > n && s ? r : (a.resolveWith(t, [l]), !1) }, l = a.promise({ elem: t, props: d.extend({}, e), opts: d.extend(!0, { specialEasing: {}, easing: d.easing._default }, r), originalProperties: e, originalOptions: r, startTime: Xt || Yt(), duration: r.duration, tweens: [], createTween: function (e, r) { var n = d.Tween(t, l.opts, e, r, l.opts.specialEasing[e] || l.opts.easing); return l.tweens.push(n), n }, stop: function (e) { var r = 0, n = e ? l.tweens.length : 0; if (i) return this; for (i = !0; n > r; r++)l.tweens[r].run(1); return e ? (a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l, e])) : a.rejectWith(t, [l, e]), this } }), h = l.props; for (function (t, e) { var r, n, i, o, s; for (r in t) if (i = e[n = d.camelCase(r)], o = t[r], d.isArray(o) && (i = o[1], o = t[r] = o[0]), r !== n && (t[n] = o, delete t[r]), (s = d.cssHooks[n]) && "expand" in s) for (r in o = s.expand(o), delete t[n], o) r in t || (t[r] = o[r], e[r] = i); else e[n] = i }(h, l.opts.specialEasing); s > o; o++)if (n = $t.prefilters[o].call(l, t, h, l.opts)) return d.isFunction(n.stop) && (d._queueHooks(l.elem, l.opts.queue).stop = d.proxy(n.stop, n)), n; return d.map(h, Vt, l), d.isFunction(l.opts.start) && l.opts.start.call(t, l), d.fx.timer(d.extend(u, { elem: t, anim: l, queue: l.opts.queue })), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always) } d.Animation = d.extend($t, { tweeners: { "*": [function (t, e) { var r = this.createTween(t, e); return Y(r.elem, t, W.exec(e), r), r }] }, tweener: function (t, e) { d.isFunction(t) ? (e = t, t = ["*"]) : t = t.match(D); for (var r, n = 0, i = t.length; i > n; n++)r = t[n], $t.tweeners[r] = $t.tweeners[r] || [], $t.tweeners[r].unshift(e) }, prefilters: [function (t, e, r) { var n, i, o, s, a, u, l, h = this, c = {}, f = t.style, p = t.nodeType && G(t), g = j.get(t, "fxshow"); for (n in r.queue || (null == (a = d._queueHooks(t, "fx")).unqueued && (a.unqueued = 0, u = a.empty.fire, a.empty.fire = function () { a.unqueued || u() }), a.unqueued++, h.always(function () { h.always(function () { a.unqueued--, d.queue(t, "fx").length || a.empty.fire() }) })), 1 === t.nodeType && ("height" in e || "width" in e) && (r.overflow = [f.overflow, f.overflowX, f.overflowY], "inline" === ("none" === (l = d.css(t, "display")) ? j.get(t, "olddisplay") || wt(t.nodeName) : l) && "none" === d.css(t, "float") && (f.display = "inline-block")), r.overflow && (f.overflow = "hidden", h.always(function () { f.overflow = r.overflow[0], f.overflowX = r.overflow[1], f.overflowY = r.overflow[2] })), e) if (i = e[n], Ht.exec(i)) { if (delete e[n], o = o || "toggle" === i, i === (p ? "hide" : "show")) { if ("show" !== i || !g || void 0 === g[n]) continue; p = !0 } c[n] = g && g[n] || d.style(t, n) } else l = void 0; if (d.isEmptyObject(c)) "inline" === ("none" === l ? wt(t.nodeName) : l) && (f.display = l); else for (n in g ? "hidden" in g && (p = g.hidden) : g = j.access(t, "fxshow", {}), o && (g.hidden = !p), p ? d(t).show() : h.done(function () { d(t).hide() }), h.done(function () { var e; for (e in j.remove(t, "fxshow"), c) d.style(t, e, c[e]) }), c) s = Vt(p ? g[n] : 0, n, h), n in g || (g[n] = s.start, p && (s.end = s.start, s.start = "width" === n || "height" === n ? 1 : 0)) }], prefilter: function (t, e) { e ? $t.prefilters.unshift(t) : $t.prefilters.push(t) } }), d.speed = function (t, e, r) { var n = t && "object" == typeof t ? d.extend({}, t) : { complete: r || !r && e || d.isFunction(t) && t, duration: t, easing: r && e || e && !d.isFunction(e) && e }; return n.duration = d.fx.off ? 0 : "number" == typeof n.duration ? n.duration : n.duration in d.fx.speeds ? d.fx.speeds[n.duration] : d.fx.speeds._default, null != n.queue && !0 !== n.queue || (n.queue = "fx"), n.old = n.complete, n.complete = function () { d.isFunction(n.old) && n.old.call(this), n.queue && d.dequeue(this, n.queue) }, n }, d.fn.extend({ fadeTo: function (t, e, r, n) { return this.filter(G).css("opacity", 0).show().end().animate({ opacity: e }, t, r, n) }, animate: function (t, e, r, n) { var i = d.isEmptyObject(t), o = d.speed(e, r, n), s = function () { var e = $t(this, d.extend({}, t), o); (i || j.get(this, "finish")) && e.stop(!0) }; return s.finish = s, i || !1 === o.queue ? this.each(s) : this.queue(o.queue, s) }, stop: function (t, e, r) { var n = function (t) { var e = t.stop; delete t.stop, e(r) }; return "string" != typeof t && (r = e, e = t, t = void 0), e && !1 !== t && this.queue(t || "fx", []), this.each(function () { var e = !0, i = null != t && t + "queueHooks", o = d.timers, s = j.get(this); if (i) s[i] && s[i].stop && n(s[i]); else for (i in s) s[i] && s[i].stop && Gt.test(i) && n(s[i]); for (i = o.length; i--;)o[i].elem !== this || null != t && o[i].queue !== t || (o[i].anim.stop(r), e = !1, o.splice(i, 1)); !e && r || d.dequeue(this, t) }) }, finish: function (t) { return !1 !== t && (t = t || "fx"), this.each(function () { var e, r = j.get(this), n = r[t + "queue"], i = r[t + "queueHooks"], o = d.timers, s = n ? n.length : 0; for (r.finish = !0, d.queue(this, t, []), i && i.stop && i.stop.call(this, !0), e = o.length; e--;)o[e].elem === this && o[e].queue === t && (o[e].anim.stop(!0), o.splice(e, 1)); for (e = 0; s > e; e++)n[e] && n[e].finish && n[e].finish.call(this); delete r.finish }) } }), d.each(["toggle", "show", "hide"], function (t, e) { var r = d.fn[e]; d.fn[e] = function (t, n, i) { return null == t || "boolean" == typeof t ? r.apply(this, arguments) : this.animate(qt(e, !0), t, n, i) } }), d.each({ slideDown: qt("show"), slideUp: qt("hide"), slideToggle: qt("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (t, e) { d.fn[t] = function (t, r, n) { return this.animate(e, t, r, n) } }), d.timers = [], d.fx.tick = function () { var t, e = 0, r = d.timers; for (Xt = d.now(); e < r.length; e++)(t = r[e])() || r[e] !== t || r.splice(e--, 1); r.length || d.fx.stop(), Xt = void 0 }, d.fx.timer = function (t) { d.timers.push(t), t() ? d.fx.start() : d.timers.pop() }, d.fx.interval = 13, d.fx.start = function () { Wt || (Wt = t.setInterval(d.fx.tick, d.fx.interval)) }, d.fx.stop = function () { t.clearInterval(Wt), Wt = null }, d.fx.speeds = { slow: 600, fast: 200, _default: 400 }, d.fn.delay = function (e, r) { return e = d.fx && d.fx.speeds[e] || e, r = r || "fx", this.queue(r, function (r, n) { var i = t.setTimeout(r, e); n.stop = function () { t.clearTimeout(i) } }) }, function () { var t = n.createElement("input"), e = n.createElement("select"), r = e.appendChild(n.createElement("option")); t.type = "checkbox", c.checkOn = "" !== t.value, c.optSelected = r.selected, e.disabled = !0, c.optDisabled = !r.disabled, (t = n.createElement("input")).value = "t", t.type = "radio", c.radioValue = "t" === t.value }(); var Kt, Zt = d.expr.attrHandle; d.fn.extend({ attr: function (t, e) { return L(this, d.attr, t, e, arguments.length > 1) }, removeAttr: function (t) { return this.each(function () { d.removeAttr(this, t) }) } }), d.extend({ attr: function (t, e, r) { var n, i, o = t.nodeType; if (3 !== o && 8 !== o && 2 !== o) return void 0 === t.getAttribute ? d.prop(t, e, r) : (1 === o && d.isXMLDoc(t) || (e = e.toLowerCase(), i = d.attrHooks[e] || (d.expr.match.bool.test(e) ? Kt : void 0)), void 0 !== r ? null === r ? void d.removeAttr(t, e) : i && "set" in i && void 0 !== (n = i.set(t, r, e)) ? n : (t.setAttribute(e, r + ""), r) : i && "get" in i && null !== (n = i.get(t, e)) ? n : null == (n = d.find.attr(t, e)) ? void 0 : n) }, attrHooks: { type: { set: function (t, e) { if (!c.radioValue && "radio" === e && d.nodeName(t, "input")) { var r = t.value; return t.setAttribute("type", e), r && (t.value = r), e } } } }, removeAttr: function (t, e) { var r, n, i = 0, o = e && e.match(D); if (o && 1 === t.nodeType) for (; r = o[i++];)n = d.propFix[r] || r, d.expr.match.bool.test(r) && (t[n] = !1), t.removeAttribute(r) } }), Kt = { set: function (t, e, r) { return !1 === e ? d.removeAttr(t, r) : t.setAttribute(r, r), r } }, d.each(d.expr.match.bool.source.match(/\w+/g), function (t, e) { var r = Zt[e] || d.find.attr; Zt[e] = function (t, e, n) { var i, o; return n || (o = Zt[e], Zt[e] = i, i = null != r(t, e, n) ? e.toLowerCase() : null, Zt[e] = o), i } }); var Qt = /^(?:input|select|textarea|button)$/i, Jt = /^(?:a|area)$/i; d.fn.extend({ prop: function (t, e) { return L(this, d.prop, t, e, arguments.length > 1) }, removeProp: function (t) { return this.each(function () { delete this[d.propFix[t] || t] }) } }), d.extend({ prop: function (t, e, r) { var n, i, o = t.nodeType; if (3 !== o && 8 !== o && 2 !== o) return 1 === o && d.isXMLDoc(t) || (e = d.propFix[e] || e, i = d.propHooks[e]), void 0 !== r ? i && "set" in i && void 0 !== (n = i.set(t, r, e)) ? n : t[e] = r : i && "get" in i && null !== (n = i.get(t, e)) ? n : t[e] }, propHooks: { tabIndex: { get: function (t) { var e = d.find.attr(t, "tabindex"); return e ? parseInt(e, 10) : Qt.test(t.nodeName) || Jt.test(t.nodeName) && t.href ? 0 : -1 } } }, propFix: { for: "htmlFor", class: "className" } }), c.optSelected || (d.propHooks.selected = { get: function (t) { var e = t.parentNode; return e && e.parentNode && e.parentNode.selectedIndex, null }, set: function (t) { var e = t.parentNode; e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex) } }), d.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () { d.propFix[this.toLowerCase()] = this }); var te = /[\t\r\n\f]/g; function ee(t) { return t.getAttribute && t.getAttribute("class") || "" } d.fn.extend({ addClass: function (t) { var e, r, n, i, o, s, a, u = 0; if (d.isFunction(t)) return this.each(function (e) { d(this).addClass(t.call(this, e, ee(this))) }); if ("string" == typeof t && t) for (e = t.match(D) || []; r = this[u++];)if (i = ee(r), n = 1 === r.nodeType && (" " + i + " ").replace(te, " ")) { for (s = 0; o = e[s++];)n.indexOf(" " + o + " ") < 0 && (n += o + " "); i !== (a = d.trim(n)) && r.setAttribute("class", a) } return this }, removeClass: function (t) { var e, r, n, i, o, s, a, u = 0; if (d.isFunction(t)) return this.each(function (e) { d(this).removeClass(t.call(this, e, ee(this))) }); if (!arguments.length) return this.attr("class", ""); if ("string" == typeof t && t) for (e = t.match(D) || []; r = this[u++];)if (i = ee(r), n = 1 === r.nodeType && (" " + i + " ").replace(te, " ")) { for (s = 0; o = e[s++];)for (; n.indexOf(" " + o + " ") > -1;)n = n.replace(" " + o + " ", " "); i !== (a = d.trim(n)) && r.setAttribute("class", a) } return this }, toggleClass: function (t, e) { var r = typeof t; return "boolean" == typeof e && "string" === r ? e ? this.addClass(t) : this.removeClass(t) : d.isFunction(t) ? this.each(function (r) { d(this).toggleClass(t.call(this, r, ee(this), e), e) }) : this.each(function () { var e, n, i, o; if ("string" === r) for (n = 0, i = d(this), o = t.match(D) || []; e = o[n++];)i.hasClass(e) ? i.removeClass(e) : i.addClass(e); else void 0 !== t && "boolean" !== r || ((e = ee(this)) && j.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : j.get(this, "__className__") || "")) }) }, hasClass: function (t) { var e, r, n = 0; for (e = " " + t + " "; r = this[n++];)if (1 === r.nodeType && (" " + ee(r) + " ").replace(te, " ").indexOf(e) > -1) return !0; return !1 } }); var re = /\r/g, ne = /[\x20\t\r\n\f]+/g; d.fn.extend({ val: function (t) { var e, r, n, i = this[0]; return arguments.length ? (n = d.isFunction(t), this.each(function (r) { var i; 1 === this.nodeType && (null == (i = n ? t.call(this, r, d(this).val()) : t) ? i = "" : "number" == typeof i ? i += "" : d.isArray(i) && (i = d.map(i, function (t) { return null == t ? "" : t + "" })), (e = d.valHooks[this.type] || d.valHooks[this.nodeName.toLowerCase()]) && "set" in e && void 0 !== e.set(this, i, "value") || (this.value = i)) })) : i ? (e = d.valHooks[i.type] || d.valHooks[i.nodeName.toLowerCase()]) && "get" in e && void 0 !== (r = e.get(i, "value")) ? r : "string" == typeof (r = i.value) ? r.replace(re, "") : null == r ? "" : r : void 0 } }), d.extend({ valHooks: { option: { get: function (t) { var e = d.find.attr(t, "value"); return null != e ? e : d.trim(d.text(t)).replace(ne, " ") } }, select: { get: function (t) { for (var e, r, n = t.options, i = t.selectedIndex, o = "select-one" === t.type || 0 > i, s = o ? null : [], a = o ? i + 1 : n.length, u = 0 > i ? a : o ? i : 0; a > u; u++)if (((r = n[u]).selected || u === i) && (c.optDisabled ? !r.disabled : null === r.getAttribute("disabled")) && (!r.parentNode.disabled || !d.nodeName(r.parentNode, "optgroup"))) { if (e = d(r).val(), o) return e; s.push(e) } return s }, set: function (t, e) { for (var r, n, i = t.options, o = d.makeArray(e), s = i.length; s--;)((n = i[s]).selected = d.inArray(d.valHooks.option.get(n), o) > -1) && (r = !0); return r || (t.selectedIndex = -1), o } } } }), d.each(["radio", "checkbox"], function () { d.valHooks[this] = { set: function (t, e) { return d.isArray(e) ? t.checked = d.inArray(d(t).val(), e) > -1 : void 0 } }, c.checkOn || (d.valHooks[this].get = function (t) { return null === t.getAttribute("value") ? "on" : t.value }) }); var ie = /^(?:focusinfocus|focusoutblur)$/; d.extend(d.event, { trigger: function (e, r, i, o) { var s, a, u, l, c, f, p, g = [i || n], m = h.call(e, "type") ? e.type : e, v = h.call(e, "namespace") ? e.namespace.split(".") : []; if (a = u = i = i || n, 3 !== i.nodeType && 8 !== i.nodeType && !ie.test(m + d.event.triggered) && (m.indexOf(".") > -1 && (v = m.split("."), m = v.shift(), v.sort()), c = m.indexOf(":") < 0 && "on" + m, (e = e[d.expando] ? e : new d.Event(m, "object" == typeof e && e)).isTrigger = o ? 2 : 3, e.namespace = v.join("."), e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, e.result = void 0, e.target || (e.target = i), r = null == r ? [e] : d.makeArray(r, [e]), p = d.event.special[m] || {}, o || !p.trigger || !1 !== p.trigger.apply(i, r))) { if (!o && !p.noBubble && !d.isWindow(i)) { for (l = p.delegateType || m, ie.test(l + m) || (a = a.parentNode); a; a = a.parentNode)g.push(a), u = a; u === (i.ownerDocument || n) && g.push(u.defaultView || u.parentWindow || t) } for (s = 0; (a = g[s++]) && !e.isPropagationStopped();)e.type = s > 1 ? l : p.bindType || m, (f = (j.get(a, "events") || {})[e.type] && j.get(a, "handle")) && f.apply(a, r), (f = c && a[c]) && f.apply && F(a) && (e.result = f.apply(a, r), !1 === e.result && e.preventDefault()); return e.type = m, o || e.isDefaultPrevented() || p._default && !1 !== p._default.apply(g.pop(), r) || !F(i) || c && d.isFunction(i[m]) && !d.isWindow(i) && ((u = i[c]) && (i[c] = null), d.event.triggered = m, i[m](), d.event.triggered = void 0, u && (i[c] = u)), e.result } }, simulate: function (t, e, r) { var n = d.extend(new d.Event, r, { type: t, isSimulated: !0 }); d.event.trigger(n, null, e) } }), d.fn.extend({ trigger: function (t, e) { return this.each(function () { d.event.trigger(t, e, this) }) }, triggerHandler: function (t, e) { var r = this[0]; return r ? d.event.trigger(t, e, r, !0) : void 0 } }), d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (t, e) { d.fn[e] = function (t, r) { return arguments.length > 0 ? this.on(e, null, t, r) : this.trigger(e) } }), d.fn.extend({ hover: function (t, e) { return this.mouseenter(t).mouseleave(e || t) } }), c.focusin = "onfocusin" in t, c.focusin || d.each({ focus: "focusin", blur: "focusout" }, function (t, e) { var r = function (t) { d.event.simulate(e, t.target, d.event.fix(t)) }; d.event.special[e] = { setup: function () { var n = this.ownerDocument || this, i = j.access(n, e); i || n.addEventListener(t, r, !0), j.access(n, e, (i || 0) + 1) }, teardown: function () { var n = this.ownerDocument || this, i = j.access(n, e) - 1; i ? j.access(n, e, i) : (n.removeEventListener(t, r, !0), j.remove(n, e)) } } }); var oe = t.location, se = d.now(), ae = /\?/; d.parseJSON = function (t) { return JSON.parse(t + "") }, d.parseXML = function (e) { var r; if (!e || "string" != typeof e) return null; try { r = (new t.DOMParser).parseFromString(e, "text/xml") } catch (t) { r = void 0 } return r && !r.getElementsByTagName("parsererror").length || d.error("Invalid XML: " + e), r }; var ue = /#.*$/, le = /([?&])_=[^&]*/, he = /^(.*?):[ \t]*([^\r\n]*)$/gm, ce = /^(?:GET|HEAD)$/, fe = /^\/\//, de = {}, pe = {}, ge = "*/".concat("*"), me = n.createElement("a"); function ve(t) { return function (e, r) { "string" != typeof e && (r = e, e = "*"); var n, i = 0, o = e.toLowerCase().match(D) || []; if (d.isFunction(r)) for (; n = o[i++];)"+" === n[0] ? (n = n.slice(1) || "*", (t[n] = t[n] || []).unshift(r)) : (t[n] = t[n] || []).push(r) } } function ye(t, e, r, n) { var i = {}, o = t === pe; function s(a) { var u; return i[a] = !0, d.each(t[a] || [], function (t, a) { var l = a(e, r, n); return "string" != typeof l || o || i[l] ? o ? !(u = l) : void 0 : (e.dataTypes.unshift(l), s(l), !1) }), u } return s(e.dataTypes[0]) || !i["*"] && s("*") } function _e(t, e) { var r, n, i = d.ajaxSettings.flatOptions || {}; for (r in e) void 0 !== e[r] && ((i[r] ? t : n || (n = {}))[r] = e[r]); return n && d.extend(!0, t, n), t } me.href = oe.href, d.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: oe.href, type: "GET", isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(oe.protocol), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": ge, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": d.parseJSON, "text xml": d.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (t, e) { return e ? _e(_e(t, d.ajaxSettings), e) : _e(d.ajaxSettings, t) }, ajaxPrefilter: ve(de), ajaxTransport: ve(pe), ajax: function (e, r) { "object" == typeof e && (r = e, e = void 0), r = r || {}; var i, o, s, a, u, l, h, c, f = d.ajaxSetup({}, r), p = f.context || f, g = f.context && (p.nodeType || p.jquery) ? d(p) : d.event, m = d.Deferred(), v = d.Callbacks("once memory"), y = f.statusCode || {}, _ = {}, x = {}, b = 0, T = "canceled", w = { readyState: 0, getResponseHeader: function (t) { var e; if (2 === b) { if (!a) for (a = {}; e = he.exec(s);)a[e[1].toLowerCase()] = e[2]; e = a[t.toLowerCase()] } return null == e ? null : e }, getAllResponseHeaders: function () { return 2 === b ? s : null }, setRequestHeader: function (t, e) { var r = t.toLowerCase(); return b || (t = x[r] = x[r] || t, _[t] = e), this }, overrideMimeType: function (t) { return b || (f.mimeType = t), this }, statusCode: function (t) { var e; if (t) if (2 > b) for (e in t) y[e] = [y[e], t[e]]; else w.always(t[w.status]); return this }, abort: function (t) { var e = t || T; return i && i.abort(e), S(0, e), this } }; if (m.promise(w).complete = v.add, w.success = w.done, w.error = w.fail, f.url = ((e || f.url || oe.href) + "").replace(ue, "").replace(fe, oe.protocol + "//"), f.type = r.method || r.type || f.method || f.type, f.dataTypes = d.trim(f.dataType || "*").toLowerCase().match(D) || [""], null == f.crossDomain) { l = n.createElement("a"); try { l.href = f.url, l.href = l.href, f.crossDomain = me.protocol + "//" + me.host != l.protocol + "//" + l.host } catch (t) { f.crossDomain = !0 } } if (f.data && f.processData && "string" != typeof f.data && (f.data = d.param(f.data, f.traditional)), ye(de, f, r, w), 2 === b) return w; for (c in (h = d.event && f.global) && 0 == d.active++ && d.event.trigger("ajaxStart"), f.type = f.type.toUpperCase(), f.hasContent = !ce.test(f.type), o = f.url, f.hasContent || (f.data && (o = f.url += (ae.test(o) ? "&" : "?") + f.data, delete f.data), !1 === f.cache && (f.url = le.test(o) ? o.replace(le, "$1_=" + se++) : o + (ae.test(o) ? "&" : "?") + "_=" + se++)), f.ifModified && (d.lastModified[o] && w.setRequestHeader("If-Modified-Since", d.lastModified[o]), d.etag[o] && w.setRequestHeader("If-None-Match", d.etag[o])), (f.data && f.hasContent && !1 !== f.contentType || r.contentType) && w.setRequestHeader("Content-Type", f.contentType), w.setRequestHeader("Accept", f.dataTypes[0] && f.accepts[f.dataTypes[0]] ? f.accepts[f.dataTypes[0]] + ("*" !== f.dataTypes[0] ? ", " + ge + "; q=0.01" : "") : f.accepts["*"]), f.headers) w.setRequestHeader(c, f.headers[c]); if (f.beforeSend && (!1 === f.beforeSend.call(p, w, f) || 2 === b)) return w.abort(); for (c in T = "abort", { success: 1, error: 1, complete: 1 }) w[c](f[c]); if (i = ye(pe, f, r, w)) { if (w.readyState = 1, h && g.trigger("ajaxSend", [w, f]), 2 === b) return w; f.async && f.timeout > 0 && (u = t.setTimeout(function () { w.abort("timeout") }, f.timeout)); try { b = 1, i.send(_, S) } catch (t) { if (!(2 > b)) throw t; S(-1, t) } } else S(-1, "No Transport"); function S(e, r, n, a) { var l, c, _, x, T, S = r; 2 !== b && (b = 2, u && t.clearTimeout(u), i = void 0, s = a || "", w.readyState = e > 0 ? 4 : 0, l = e >= 200 && 300 > e || 304 === e, n && (x = function (t, e, r) { for (var n, i, o, s, a = t.contents, u = t.dataTypes; "*" === u[0];)u.shift(), void 0 === n && (n = t.mimeType || e.getResponseHeader("Content-Type")); if (n) for (i in a) if (a[i] && a[i].test(n)) { u.unshift(i); break } if (u[0] in r) o = u[0]; else { for (i in r) { if (!u[0] || t.converters[i + " " + u[0]]) { o = i; break } s || (s = i) } o = o || s } return o ? (o !== u[0] && u.unshift(o), r[o]) : void 0 }(f, w, n)), x = function (t, e, r, n) { var i, o, s, a, u, l = {}, h = t.dataTypes.slice(); if (h[1]) for (s in t.converters) l[s.toLowerCase()] = t.converters[s]; for (o = h.shift(); o;)if (t.responseFields[o] && (r[t.responseFields[o]] = e), !u && n && t.dataFilter && (e = t.dataFilter(e, t.dataType)), u = o, o = h.shift()) if ("*" === o) o = u; else if ("*" !== u && u !== o) { if (!(s = l[u + " " + o] || l["* " + o])) for (i in l) if ((a = i.split(" "))[1] === o && (s = l[u + " " + a[0]] || l["* " + a[0]])) { !0 === s ? s = l[i] : !0 !== l[i] && (o = a[0], h.unshift(a[1])); break } if (!0 !== s) if (s && t.throws) e = s(e); else try { e = s(e) } catch (t) { return { state: "parsererror", error: s ? t : "No conversion from " + u + " to " + o } } } return { state: "success", data: e } }(f, x, w, l), l ? (f.ifModified && ((T = w.getResponseHeader("Last-Modified")) && (d.lastModified[o] = T), (T = w.getResponseHeader("etag")) && (d.etag[o] = T)), 204 === e || "HEAD" === f.type ? S = "nocontent" : 304 === e ? S = "notmodified" : (S = x.state, c = x.data, l = !(_ = x.error))) : (_ = S, !e && S || (S = "error", 0 > e && (e = 0))), w.status = e, w.statusText = (r || S) + "", l ? m.resolveWith(p, [c, S, w]) : m.rejectWith(p, [w, S, _]), w.statusCode(y), y = void 0, h && g.trigger(l ? "ajaxSuccess" : "ajaxError", [w, f, l ? c : _]), v.fireWith(p, [w, S]), h && (g.trigger("ajaxComplete", [w, f]), --d.active || d.event.trigger("ajaxStop"))) } return w }, getJSON: function (t, e, r) { return d.get(t, e, r, "json") }, getScript: function (t, e) { return d.get(t, void 0, e, "script") } }), d.each(["get", "post"], function (t, e) { d[e] = function (t, r, n, i) { return d.isFunction(r) && (i = i || n, n = r, r = void 0), d.ajax(d.extend({ url: t, type: e, dataType: i, data: r, success: n }, d.isPlainObject(t) && t)) } }), d._evalUrl = function (t) { return d.ajax({ url: t, type: "GET", dataType: "script", async: !1, global: !1, throws: !0 }) }, d.fn.extend({ wrapAll: function (t) { var e; return d.isFunction(t) ? this.each(function (e) { d(this).wrapAll(t.call(this, e)) }) : (this[0] && (e = d(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map(function () { for (var t = this; t.firstElementChild;)t = t.firstElementChild; return t }).append(this)), this) }, wrapInner: function (t) { return d.isFunction(t) ? this.each(function (e) { d(this).wrapInner(t.call(this, e)) }) : this.each(function () { var e = d(this), r = e.contents(); r.length ? r.wrapAll(t) : e.append(t) }) }, wrap: function (t) { var e = d.isFunction(t); return this.each(function (r) { d(this).wrapAll(e ? t.call(this, r) : t) }) }, unwrap: function () { return this.parent().each(function () { d.nodeName(this, "body") || d(this).replaceWith(this.childNodes) }).end() } }), d.expr.filters.hidden = function (t) { return !d.expr.filters.visible(t) }, d.expr.filters.visible = function (t) { return t.offsetWidth > 0 || t.offsetHeight > 0 || t.getClientRects().length > 0 }; var xe = /%20/g, be = /\[\]$/, Te = /\r?\n/g, we = /^(?:submit|button|image|reset|file)$/i, Se = /^(?:input|select|textarea|keygen)/i; function Ce(t, e, r, n) { var i; if (d.isArray(e)) d.each(e, function (e, i) { r || be.test(t) ? n(t, i) : Ce(t + "[" + ("object" == typeof i && null != i ? e : "") + "]", i, r, n) }); else if (r || "object" !== d.type(e)) n(t, e); else for (i in e) Ce(t + "[" + i + "]", e[i], r, n) } d.param = function (t, e) { var r, n = [], i = function (t, e) { e = d.isFunction(e) ? e() : null == e ? "" : e, n[n.length] = encodeURIComponent(t) + "=" + encodeURIComponent(e) }; if (void 0 === e && (e = d.ajaxSettings && d.ajaxSettings.traditional), d.isArray(t) || t.jquery && !d.isPlainObject(t)) d.each(t, function () { i(this.name, this.value) }); else for (r in t) Ce(r, t[r], e, i); return n.join("&").replace(xe, "+") }, d.fn.extend({ serialize: function () { return d.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { var t = d.prop(this, "elements"); return t ? d.makeArray(t) : this }).filter(function () { var t = this.type; return this.name && !d(this).is(":disabled") && Se.test(this.nodeName) && !we.test(t) && (this.checked || !q.test(t)) }).map(function (t, e) { var r = d(this).val(); return null == r ? null : d.isArray(r) ? d.map(r, function (t) { return { name: e.name, value: t.replace(Te, "\r\n") } }) : { name: e.name, value: r.replace(Te, "\r\n") } }).get() } }), d.ajaxSettings.xhr = function () { try { return new t.XMLHttpRequest } catch (t) { } }; var Ee = { 0: 200, 1223: 204 }, Oe = d.ajaxSettings.xhr(); c.cors = !!Oe && "withCredentials" in Oe, c.ajax = Oe = !!Oe, d.ajaxTransport(function (e) { var r, n; return c.cors || Oe && !e.crossDomain ? { send: function (i, o) { var s, a = e.xhr(); if (a.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields) for (s in e.xhrFields) a[s] = e.xhrFields[s]; for (s in e.mimeType && a.overrideMimeType && a.overrideMimeType(e.mimeType), e.crossDomain || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest"), i) a.setRequestHeader(s, i[s]); r = function (t) { return function () { r && (r = n = a.onload = a.onerror = a.onabort = a.onreadystatechange = null, "abort" === t ? a.abort() : "error" === t ? "number" != typeof a.status ? o(0, "error") : o(a.status, a.statusText) : o(Ee[a.status] || a.status, a.statusText, "text" !== (a.responseType || "text") || "string" != typeof a.responseText ? { binary: a.response } : { text: a.responseText }, a.getAllResponseHeaders())) } }, a.onload = r(), n = a.onerror = r("error"), void 0 !== a.onabort ? a.onabort = n : a.onreadystatechange = function () { 4 === a.readyState && t.setTimeout(function () { r && n() }) }, r = r("abort"); try { a.send(e.hasContent && e.data || null) } catch (t) { if (r) throw t } }, abort: function () { r && r() } } : void 0 }), d.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /\b(?:java|ecma)script\b/ }, converters: { "text script": function (t) { return d.globalEval(t), t } } }), d.ajaxPrefilter("script", function (t) { void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET") }), d.ajaxTransport("script", function (t) { var e, r; if (t.crossDomain) return { send: function (i, o) { e = d("<script>").prop({ charset: t.scriptCharset, src: t.url }).on("load error", r = function (t) { e.remove(), r = null, t && o("error" === t.type ? 404 : 200, t.type) }), n.head.appendChild(e[0]) }, abort: function () { r && r() } } }); var Pe = [], Ae = /(=)\?(?=&|$)|\?\?/; d.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var t = Pe.pop() || d.expando + "_" + se++; return this[t] = !0, t } }), d.ajaxPrefilter("json jsonp", function (e, r, n) { var i, o, s, a = !1 !== e.jsonp && (Ae.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && Ae.test(e.data) && "data"); return a || "jsonp" === e.dataTypes[0] ? (i = e.jsonpCallback = d.isFunction(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback, a ? e[a] = e[a].replace(Ae, "$1" + i) : !1 !== e.jsonp && (e.url += (ae.test(e.url) ? "&" : "?") + e.jsonp + "=" + i), e.converters["script json"] = function () { return s || d.error(i + " was not called"), s[0] }, e.dataTypes[0] = "json", o = t[i], t[i] = function () { s = arguments }, n.always(function () { void 0 === o ? d(t).removeProp(i) : t[i] = o, e[i] && (e.jsonpCallback = r.jsonpCallback, Pe.push(i)), s && d.isFunction(o) && o(s[0]), s = o = void 0 }), "script") : void 0 }), d.parseHTML = function (t, e, r) { if (!t || "string" != typeof t) return null; "boolean" == typeof e && (r = e, e = !1), e = e || n; var i = w.exec(t), o = !r && []; return i ? [e.createElement(i[1])] : (i = tt([t], e, o), o && o.length && d(o).remove(), d.merge([], i.childNodes)) }; var Me = d.fn.load; function Re(t) { return d.isWindow(t) ? t : 9 === t.nodeType && t.defaultView } d.fn.load = function (t, e, r) { if ("string" != typeof t && Me) return Me.apply(this, arguments); var n, i, o, s = this, a = t.indexOf(" "); return a > -1 && (n = d.trim(t.slice(a)), t = t.slice(0, a)), d.isFunction(e) ? (r = e, e = void 0) : e && "object" == typeof e && (i = "POST"), s.length > 0 && d.ajax({ url: t, type: i || "GET", dataType: "html", data: e }).done(function (t) { o = arguments, s.html(n ? d("<div>").append(d.parseHTML(t)).find(n) : t) }).always(r && function (t, e) { s.each(function () { r.apply(this, o || [t.responseText, e, t]) }) }), this }, d.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (t, e) { d.fn[e] = function (t) { return this.on(e, t) } }), d.expr.filters.animated = function (t) { return d.grep(d.timers, function (e) { return t === e.elem }).length }, d.offset = { setOffset: function (t, e, r) { var n, i, o, s, a, u, l = d.css(t, "position"), h = d(t), c = {}; "static" === l && (t.style.position = "relative"), a = h.offset(), o = d.css(t, "top"), u = d.css(t, "left"), ("absolute" === l || "fixed" === l) && (o + u).indexOf("auto") > -1 ? (s = (n = h.position()).top, i = n.left) : (s = parseFloat(o) || 0, i = parseFloat(u) || 0), d.isFunction(e) && (e = e.call(t, r, d.extend({}, a))), null != e.top && (c.top = e.top - a.top + s), null != e.left && (c.left = e.left - a.left + i), "using" in e ? e.using.call(t, c) : h.css(c) } }, d.fn.extend({ offset: function (t) { if (arguments.length) return void 0 === t ? this : this.each(function (e) { d.offset.setOffset(this, t, e) }); var e, r, n = this[0], i = { top: 0, left: 0 }, o = n && n.ownerDocument; return o ? (e = o.documentElement, d.contains(e, n) ? (i = n.getBoundingClientRect(), r = Re(o), { top: i.top + r.pageYOffset - e.clientTop, left: i.left + r.pageXOffset - e.clientLeft }) : i) : void 0 }, position: function () { if (this[0]) { var t, e, r = this[0], n = { top: 0, left: 0 }; return "fixed" === d.css(r, "position") ? e = r.getBoundingClientRect() : (t = this.offsetParent(), e = this.offset(), d.nodeName(t[0], "html") || (n = t.offset()), n.top += d.css(t[0], "borderTopWidth", !0), n.left += d.css(t[0], "borderLeftWidth", !0)), { top: e.top - n.top - d.css(r, "marginTop", !0), left: e.left - n.left - d.css(r, "marginLeft", !0) } } }, offsetParent: function () { return this.map(function () { for (var t = this.offsetParent; t && "static" === d.css(t, "position");)t = t.offsetParent; return t || Pt }) } }), d.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (t, e) { var r = "pageYOffset" === e; d.fn[t] = function (n) { return L(this, function (t, n, i) { var o = Re(t); return void 0 === i ? o ? o[e] : t[n] : void (o ? o.scrollTo(r ? o.pageXOffset : i, r ? i : o.pageYOffset) : t[n] = i) }, t, n, arguments.length) } }), d.each(["top", "left"], function (t, e) { d.cssHooks[e] = Mt(c.pixelPosition, function (t, r) { return r ? (r = At(t, e), Ct.test(r) ? d(t).position()[e] + "px" : r) : void 0 }) }), d.each({ Height: "height", Width: "width" }, function (t, e) { d.each({ padding: "inner" + t, content: e, "": "outer" + t }, function (r, n) { d.fn[n] = function (n, i) { var o = arguments.length && (r || "boolean" != typeof n), s = r || (!0 === n || !0 === i ? "margin" : "border"); return L(this, function (e, r, n) { var i; return d.isWindow(e) ? e.document.documentElement["client" + t] : 9 === e.nodeType ? (i = e.documentElement, Math.max(e.body["scroll" + t], i["scroll" + t], e.body["offset" + t], i["offset" + t], i["client" + t])) : void 0 === n ? d.css(e, r, s) : d.style(e, r, n, s) }, e, o ? n : void 0, o, null) } }) }), d.fn.extend({ bind: function (t, e, r) { return this.on(t, null, e, r) }, unbind: function (t, e) { return this.off(t, null, e) }, delegate: function (t, e, r, n) { return this.on(e, t, r, n) }, undelegate: function (t, e, r) { return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", r) }, size: function () { return this.length } }), d.fn.andSelf = d.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () { return d }); var De = t.jQuery, Ie = t.$; return d.noConflict = function (e) { return t.$ === d && (t.$ = Ie), e && t.jQuery === d && (t.jQuery = De), d }, e || (t.jQuery = t.$ = d), d }); var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window; (_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function () { "use strict"; var t, e, r, n, i, o, s, a, u, l, h, c, f, d, p, g; _gsScope._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (t, e, r) { var n = function (t) { var e, r = [], n = t.length; for (e = 0; e !== n; r.push(t[e++])); return r }, i = function (t, e, r) { var n, i, o = t.cycle; for (n in o) i = o[n], t[n] = "function" == typeof i ? i(r, e[r]) : i[r % i.length]; delete t.cycle }, o = function (t, e, n) { r.call(this, t, e, n), this._cycle = 0, this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._dirty = !0, this.render = o.prototype.render }, s = 1e-10, a = r._internals, u = a.isSelector, l = a.isArray, h = o.prototype = r.to({}, .1, {}), c = []; o.version = "1.19.1", h.constructor = o, h.kill()._gc = !1, o.killTweensOf = o.killDelayedCallsTo = r.killTweensOf, o.getTweensOf = r.getTweensOf, o.lagSmoothing = r.lagSmoothing, o.ticker = r.ticker, o.render = r.render, h.invalidate = function () { return this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), r.prototype.invalidate.call(this) }, h.updateTo = function (t, e) { var n, i = this.ratio, o = this.vars.immediateRender || t.immediateRender; for (n in e && this._startTime < this._timeline._time && (this._startTime = this._timeline._time, this._uncache(!1), this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay)), t) this.vars[n] = t[n]; if (this._initted || o) if (e) this._initted = !1, o && this.render(0, !0, !0); else if (this._gc && this._enabled(!0, !1), this._notifyPluginsOfEnabled && this._firstPT && r._onPluginEvent("_onDisable", this), this._time / this._duration > .998) { var s = this._totalTime; this.render(0, !0, !1), this._initted = !1, this.render(s, !0, !1) } else if (this._initted = !1, this._init(), this._time > 0 || o) for (var a, u = 1 / (1 - i), l = this._firstPT; l;)a = l.s + l.c, l.c *= u, l.s = a - l.c, l = l._next; return this }, h.render = function (t, e, r) { this._initted || 0 === this._duration && this.vars.repeat && this.invalidate(); var n, i, o, u, l, h, c, f, d = this._dirty ? this.totalDuration() : this._totalDuration, p = this._time, g = this._totalTime, m = this._cycle, v = this._duration, y = this._rawPrevTime; if (t >= d - 1e-7 && t >= 0 ? (this._totalTime = d, this._cycle = this._repeat, this._yoyo && 0 != (1 & this._cycle) ? (this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = v, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1), this._reversed || (n = !0, i = "onComplete", r = r || this._timeline.autoRemoveChildren), 0 === v && (this._initted || !this.vars.lazy || r) && (this._startTime === this._timeline._duration && (t = 0), (0 > y || 0 >= t && t >= -1e-7 || y === s && "isPause" !== this.data) && y !== t && (r = !0, y > s && (i = "onReverseComplete")), this._rawPrevTime = f = !e || t || y === t ? t : s)) : 1e-7 > t ? (this._totalTime = this._time = this._cycle = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== g || 0 === v && y > 0) && (i = "onReverseComplete", n = this._reversed), 0 > t && (this._active = !1, 0 === v && (this._initted || !this.vars.lazy || r) && (y >= 0 && (r = !0), this._rawPrevTime = f = !e || t || y === t ? t : s)), this._initted || (r = !0)) : (this._totalTime = this._time = t, 0 !== this._repeat && (u = v + this._repeatDelay, this._cycle = this._totalTime / u >> 0, 0 !== this._cycle && this._cycle === this._totalTime / u && t >= g && this._cycle--, this._time = this._totalTime - this._cycle * u, this._yoyo && 0 != (1 & this._cycle) && (this._time = v - this._time), this._time > v ? this._time = v : this._time < 0 && (this._time = 0)), this._easeType ? (l = this._time / v, (1 === (h = this._easeType) || 3 === h && l >= .5) && (l = 1 - l), 3 === h && (l *= 2), 1 === (c = this._easePower) ? l *= l : 2 === c ? l *= l * l : 3 === c ? l *= l * l * l : 4 === c && (l *= l * l * l * l), 1 === h ? this.ratio = 1 - l : 2 === h ? this.ratio = l : this._time / v < .5 ? this.ratio = l / 2 : this.ratio = 1 - l / 2) : this.ratio = this._ease.getRatio(this._time / v)), p !== this._time || r || m !== this._cycle) { if (!this._initted) { if (this._init(), !this._initted || this._gc) return; if (!r && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration)) return this._time = p, this._totalTime = g, this._rawPrevTime = y, this._cycle = m, a.lazyTweens.push(this), void (this._lazy = [t, e]); this._time && !n ? this.ratio = this._ease.getRatio(this._time / v) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1)) } for (!1 !== this._lazy && (this._lazy = !1), this._active || !this._paused && this._time !== p && t >= 0 && (this._active = !0), 0 === g && (2 === this._initted && t > 0 && this._init(), this._startAt && (t >= 0 ? this._startAt.render(t, e, r) : i || (i = "_dummyGS")), this.vars.onStart && (0 !== this._totalTime || 0 === v) && (e || this._callback("onStart"))), o = this._firstPT; o;)o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next; this._onUpdate && (0 > t && this._startAt && this._startTime && this._startAt.render(t, e, r), e || (this._totalTime !== g || i) && this._callback("onUpdate")), this._cycle !== m && (e || this._gc || this.vars.onRepeat && this._callback("onRepeat")), i && (!this._gc || r) && (0 > t && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(t, e, r), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[i] && this._callback(i), 0 === v && this._rawPrevTime === s && f !== s && (this._rawPrevTime = 0)) } else g !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate")) }, o.to = function (t, e, r) { return new o(t, e, r) }, o.from = function (t, e, r) { return r.runBackwards = !0, r.immediateRender = 0 != r.immediateRender, new o(t, e, r) }, o.fromTo = function (t, e, r, n) { return n.startAt = r, n.immediateRender = 0 != n.immediateRender && 0 != r.immediateRender, new o(t, e, n) }, o.staggerTo = o.allTo = function (t, e, s, a, h, f, d) { a = a || 0; var p, g, m, v, y = 0, _ = [], x = function () { s.onComplete && s.onComplete.apply(s.onCompleteScope || this, arguments), h.apply(d || s.callbackScope || this, f || c) }, b = s.cycle, T = s.startAt && s.startAt.cycle; for (l(t) || ("string" == typeof t && (t = r.selector(t) || t), u(t) && (t = n(t))), t = t || [], 0 > a && ((t = n(t)).reverse(), a *= -1), p = t.length - 1, m = 0; p >= m; m++) { for (v in g = {}, s) g[v] = s[v]; if (b && (i(g, t, m), null != g.duration && (e = g.duration, delete g.duration)), T) { for (v in T = g.startAt = {}, s.startAt) T[v] = s.startAt[v]; i(g.startAt, t, m) } g.delay = y + (g.delay || 0), m === p && h && (g.onComplete = x), _[m] = new o(t[m], e, g), y += a } return _ }, o.staggerFrom = o.allFrom = function (t, e, r, n, i, s, a) { return r.runBackwards = !0, r.immediateRender = 0 != r.immediateRender, o.staggerTo(t, e, r, n, i, s, a) }, o.staggerFromTo = o.allFromTo = function (t, e, r, n, i, s, a, u) { return n.startAt = r, n.immediateRender = 0 != n.immediateRender && 0 != r.immediateRender, o.staggerTo(t, e, n, i, s, a, u) }, o.delayedCall = function (t, e, r, n, i) { return new o(e, 0, { delay: t, onComplete: e, onCompleteParams: r, callbackScope: n, onReverseComplete: e, onReverseCompleteParams: r, immediateRender: !1, useFrames: i, overwrite: 0 }) }, o.set = function (t, e) { return new o(t, 0, e) }, o.isTweening = function (t) { return r.getTweensOf(t, !0).length > 0 }; var f = function (t, e) { for (var n = [], i = 0, o = t._first; o;)o instanceof r ? n[i++] = o : (e && (n[i++] = o), i = (n = n.concat(f(o, e))).length), o = o._next; return n }, d = o.getAllTweens = function (e) { return f(t._rootTimeline, e).concat(f(t._rootFramesTimeline, e)) }; o.killAll = function (t, r, n, i) { null == r && (r = !0), null == n && (n = !0); var o, s, a, u = d(0 != i), l = u.length, h = r && n && i; for (a = 0; l > a; a++)s = u[a], (h || s instanceof e || (o = s.target === s.vars.onComplete) && n || r && !o) && (t ? s.totalTime(s._reversed ? 0 : s.totalDuration()) : s._enabled(!1, !1)) }, o.killChildTweensOf = function (t, e) { if (null != t) { var i, s, h, c, f, d = a.tweenLookup; if ("string" == typeof t && (t = r.selector(t) || t), u(t) && (t = n(t)), l(t)) for (c = t.length; --c > -1;)o.killChildTweensOf(t[c], e); else { for (h in i = [], d) for (s = d[h].target.parentNode; s;)s === t && (i = i.concat(d[h].tweens)), s = s.parentNode; for (f = i.length, c = 0; f > c; c++)e && i[c].totalTime(i[c].totalDuration()), i[c]._enabled(!1, !1) } } }; var p = function (t, r, n, i) { r = !1 !== r, n = !1 !== n; for (var o, s, a = d(i = !1 !== i), u = r && n && i, l = a.length; --l > -1;)s = a[l], (u || s instanceof e || (o = s.target === s.vars.onComplete) && n || r && !o) && s.paused(t) }; return o.pauseAll = function (t, e, r) { p(!0, t, e, r) }, o.resumeAll = function (t, e, r) { p(!1, t, e, r) }, o.globalTimeScale = function (e) { var n = t._rootTimeline, i = r.ticker.time; return arguments.length ? (e = e || s, n._startTime = i - (i - n._startTime) * n._timeScale / e, n = t._rootFramesTimeline, i = r.ticker.frame, n._startTime = i - (i - n._startTime) * n._timeScale / e, n._timeScale = t._rootTimeline._timeScale = e, e) : n._timeScale }, h.progress = function (t, e) { return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration() }, h.totalProgress = function (t, e) { return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration() }, h.time = function (t, e) { return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time }, h.duration = function (e) { return arguments.length ? t.prototype.duration.call(this, e) : this._duration }, h.totalDuration = function (t) { return arguments.length ? -1 === this._repeat ? this : this.duration((t - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat, this._dirty = !1), this._totalDuration) }, h.repeat = function (t) { return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat }, h.repeatDelay = function (t) { return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay }, h.yoyo = function (t) { return arguments.length ? (this._yoyo = t, this) : this._yoyo }, o }, !0), _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function (t, e, r) { var n = function (t) { e.call(this, t), this._labels = {}, this.autoRemoveChildren = !0 === this.vars.autoRemoveChildren, this.smoothChildTiming = !0 === this.vars.smoothChildTiming, this._sortChildren = !0, this._onUpdate = this.vars.onUpdate; var r, n, i = this.vars; for (n in i) r = i[n], u(r) && -1 !== r.join("").indexOf("{self}") && (i[n] = this._swapSelfInParams(r)); u(i.tweens) && this.add(i.tweens, 0, i.align, i.stagger) }, i = 1e-10, o = r._internals, s = n._internals = {}, a = o.isSelector, u = o.isArray, l = o.lazyTweens, h = o.lazyRender, c = _gsScope._gsDefine.globals, f = function (t) { var e, r = {}; for (e in t) r[e] = t[e]; return r }, d = function (t, e, r) { var n, i, o = t.cycle; for (n in o) i = o[n], t[n] = "function" == typeof i ? i(r, e[r]) : i[r % i.length]; delete t.cycle }, p = s.pauseCallback = function () { }, g = function (t) { var e, r = [], n = t.length; for (e = 0; e !== n; r.push(t[e++])); return r }, m = n.prototype = new e; return n.version = "1.19.1", m.constructor = n, m.kill()._gc = m._forcingPlayhead = m._hasPause = !1, m.to = function (t, e, n, i) { var o = n.repeat && c.TweenMax || r; return e ? this.add(new o(t, e, n), i) : this.set(t, n, i) }, m.from = function (t, e, n, i) { return this.add((n.repeat && c.TweenMax || r).from(t, e, n), i) }, m.fromTo = function (t, e, n, i, o) { var s = i.repeat && c.TweenMax || r; return e ? this.add(s.fromTo(t, e, n, i), o) : this.set(t, i, o) }, m.staggerTo = function (t, e, i, o, s, u, l, h) { var c, p, m = new n({ onComplete: u, onCompleteParams: l, callbackScope: h, smoothChildTiming: this.smoothChildTiming }), v = i.cycle; for ("string" == typeof t && (t = r.selector(t) || t), a(t = t || []) && (t = g(t)), 0 > (o = o || 0) && ((t = g(t)).reverse(), o *= -1), p = 0; p < t.length; p++)(c = f(i)).startAt && (c.startAt = f(c.startAt), c.startAt.cycle && d(c.startAt, t, p)), v && (d(c, t, p), null != c.duration && (e = c.duration, delete c.duration)), m.to(t[p], e, c, p * o); return this.add(m, s) }, m.staggerFrom = function (t, e, r, n, i, o, s, a) { return r.immediateRender = 0 != r.immediateRender, r.runBackwards = !0, this.staggerTo(t, e, r, n, i, o, s, a) }, m.staggerFromTo = function (t, e, r, n, i, o, s, a, u) { return n.startAt = r, n.immediateRender = 0 != n.immediateRender && 0 != r.immediateRender, this.staggerTo(t, e, n, i, o, s, a, u) }, m.call = function (t, e, n, i) { return this.add(r.delayedCall(0, t, e, n), i) }, m.set = function (t, e, n) { return n = this._parseTimeOrLabel(n, 0, !0), null == e.immediateRender && (e.immediateRender = n === this._time && !this._paused), this.add(new r(t, 0, e), n) }, n.exportRoot = function (t, e) { null == (t = t || {}).smoothChildTiming && (t.smoothChildTiming = !0); var i, o, s = new n(t), a = s._timeline; for (null == e && (e = !0), a._remove(s, !0), s._startTime = 0, s._rawPrevTime = s._time = s._totalTime = a._time, i = a._first; i;)o = i._next, e && i instanceof r && i.target === i.vars.onComplete || s.add(i, i._startTime - i._delay), i = o; return a.add(s, 0), s }, m.add = function (i, o, s, a) { var l, h, c, f, d, p; if ("number" != typeof o && (o = this._parseTimeOrLabel(o, 0, !0, i)), !(i instanceof t)) { if (i instanceof Array || i && i.push && u(i)) { for (s = s || "normal", a = a || 0, l = o, h = i.length, c = 0; h > c; c++)u(f = i[c]) && (f = new n({ tweens: f })), this.add(f, l), "string" != typeof f && "function" != typeof f && ("sequence" === s ? l = f._startTime + f.totalDuration() / f._timeScale : "start" === s && (f._startTime -= f.delay())), l += a; return this._uncache(!0) } if ("string" == typeof i) return this.addLabel(i, o); if ("function" != typeof i) throw "Cannot add " + i + " into the timeline; it is not a tween, timeline, function, or string."; i = r.delayedCall(0, i) } if (e.prototype.add.call(this, i, o), (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration()) for (p = (d = this).rawTime() > i._startTime; d._timeline;)p && d._timeline.smoothChildTiming ? d.totalTime(d._totalTime, !0) : d._gc && d._enabled(!0, !1), d = d._timeline; return this }, m.remove = function (e) { if (e instanceof t) { this._remove(e, !1); var r = e._timeline = e.vars.useFrames ? t._rootFramesTimeline : t._rootTimeline; return e._startTime = (e._paused ? e._pauseTime : r._time) - (e._reversed ? e.totalDuration() - e._totalTime : e._totalTime) / e._timeScale, this } if (e instanceof Array || e && e.push && u(e)) { for (var n = e.length; --n > -1;)this.remove(e[n]); return this } return "string" == typeof e ? this.removeLabel(e) : this.kill(null, e) }, m._remove = function (t, r) { return e.prototype._remove.call(this, t, r), this._last ? this._time > this.duration() && (this._time = this._duration, this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0, this }, m.append = function (t, e) { return this.add(t, this._parseTimeOrLabel(null, e, !0, t)) }, m.insert = m.insertMultiple = function (t, e, r, n) { return this.add(t, e || 0, r, n) }, m.appendMultiple = function (t, e, r, n) { return this.add(t, this._parseTimeOrLabel(null, e, !0, t), r, n) }, m.addLabel = function (t, e) { return this._labels[t] = this._parseTimeOrLabel(e), this }, m.addPause = function (t, e, n, i) { var o = r.delayedCall(0, p, n, i || this); return o.vars.onComplete = o.vars.onReverseComplete = e, o.data = "isPause", this._hasPause = !0, this.add(o, t) }, m.removeLabel = function (t) { return delete this._labels[t], this }, m.getLabelTime = function (t) { return null != this._labels[t] ? this._labels[t] : -1 }, m._parseTimeOrLabel = function (e, r, n, i) { var o; if (i instanceof t && i.timeline === this) this.remove(i); else if (i && (i instanceof Array || i.push && u(i))) for (o = i.length; --o > -1;)i[o] instanceof t && i[o].timeline === this && this.remove(i[o]); if ("string" == typeof r) return this._parseTimeOrLabel(r, n && "number" == typeof e && null == this._labels[r] ? e - this.duration() : 0, n); if (r = r || 0, "string" != typeof e || !isNaN(e) && null == this._labels[e]) null == e && (e = this.duration()); else { if (-1 === (o = e.indexOf("="))) return null == this._labels[e] ? n ? this._labels[e] = this.duration() + r : r : this._labels[e] + r; r = parseInt(e.charAt(o - 1) + "1", 10) * Number(e.substr(o + 1)), e = o > 1 ? this._parseTimeOrLabel(e.substr(0, o - 1), 0, n) : this.duration() } return Number(e) + r }, m.seek = function (t, e) { return this.totalTime("number" == typeof t ? t : this._parseTimeOrLabel(t), !1 !== e) }, m.stop = function () { return this.paused(!0) }, m.gotoAndPlay = function (t, e) { return this.play(t, e) }, m.gotoAndStop = function (t, e) { return this.pause(t, e) }, m.render = function (t, e, r) { this._gc && this._enabled(!0, !1); var n, o, s, a, u, c, f, d = this._dirty ? this.totalDuration() : this._totalDuration, p = this._time, g = this._startTime, m = this._timeScale, v = this._paused; if (t >= d - 1e-7 && t >= 0) this._totalTime = this._time = d, this._reversed || this._hasPausedChild() || (o = !0, a = "onComplete", u = !!this._timeline.autoRemoveChildren, 0 === this._duration && (0 >= t && t >= -1e-7 || this._rawPrevTime < 0 || this._rawPrevTime === i) && this._rawPrevTime !== t && this._first && (u = !0, this._rawPrevTime > i && (a = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : i, t = d + 1e-4; else if (1e-7 > t) if (this._totalTime = this._time = 0, (0 !== p || 0 === this._duration && this._rawPrevTime !== i && (this._rawPrevTime > 0 || 0 > t && this._rawPrevTime >= 0)) && (a = "onReverseComplete", o = this._reversed), 0 > t) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (u = o = !0, a = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (u = !0), this._rawPrevTime = t; else { if (this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : i, 0 === t && o) for (n = this._first; n && 0 === n._startTime;)n._duration || (o = !1), n = n._next; t = 0, this._initted || (u = !0) } else { if (this._hasPause && !this._forcingPlayhead && !e) { if (t >= p) for (n = this._first; n && n._startTime <= t && !c;)n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (c = n), n = n._next; else for (n = this._last; n && n._startTime >= t && !c;)n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (c = n), n = n._prev; c && (this._time = t = c._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay)) } this._totalTime = this._time = this._rawPrevTime = t } if (this._time !== p && this._first || r || u || c) { if (this._initted || (this._initted = !0), this._active || !this._paused && this._time !== p && t > 0 && (this._active = !0), 0 === p && this.vars.onStart && (0 === this._time && this._duration || e || this._callback("onStart")), (f = this._time) >= p) for (n = this._first; n && (s = n._next, f === this._time && (!this._paused || v));)(n._active || n._startTime <= f && !n._paused && !n._gc) && (c === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, r) : n.render((t - n._startTime) * n._timeScale, e, r)), n = s; else for (n = this._last; n && (s = n._prev, f === this._time && (!this._paused || v));) { if (n._active || n._startTime <= p && !n._paused && !n._gc) { if (c === n) { for (c = n._prev; c && c.endTime() > this._time;)c.render(c._reversed ? c.totalDuration() - (t - c._startTime) * c._timeScale : (t - c._startTime) * c._timeScale, e, r), c = c._prev; c = null, this.pause() } n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, r) : n.render((t - n._startTime) * n._timeScale, e, r) } n = s } this._onUpdate && (e || (l.length && h(), this._callback("onUpdate"))), a && (this._gc || (g === this._startTime || m !== this._timeScale) && (0 === this._time || d >= this.totalDuration()) && (o && (l.length && h(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[a] && this._callback(a))) } }, m._hasPausedChild = function () { for (var t = this._first; t;) { if (t._paused || t instanceof n && t._hasPausedChild()) return !0; t = t._next } return !1 }, m.getChildren = function (t, e, n, i) { i = i || -9999999999; for (var o = [], s = this._first, a = 0; s;)s._startTime < i || (s instanceof r ? !1 !== e && (o[a++] = s) : (!1 !== n && (o[a++] = s), !1 !== t && (a = (o = o.concat(s.getChildren(!0, e, n))).length))), s = s._next; return o }, m.getTweensOf = function (t, e) { var n, i, o = this._gc, s = [], a = 0; for (o && this._enabled(!0, !0), i = (n = r.getTweensOf(t)).length; --i > -1;)(n[i].timeline === this || e && this._contains(n[i])) && (s[a++] = n[i]); return o && this._enabled(!1, !0), s }, m.recent = function () { return this._recent }, m._contains = function (t) { for (var e = t.timeline; e;) { if (e === this) return !0; e = e.timeline } return !1 }, m.shiftChildren = function (t, e, r) { r = r || 0; for (var n, i = this._first, o = this._labels; i;)i._startTime >= r && (i._startTime += t), i = i._next; if (e) for (n in o) o[n] >= r && (o[n] += t); return this._uncache(!0) }, m._kill = function (t, e) { if (!t && !e) return this._enabled(!1, !1); for (var r = e ? this.getTweensOf(e) : this.getChildren(!0, !0, !1), n = r.length, i = !1; --n > -1;)r[n]._kill(t, e) && (i = !0); return i }, m.clear = function (t) { var e = this.getChildren(!1, !0, !0), r = e.length; for (this._time = this._totalTime = 0; --r > -1;)e[r]._enabled(!1, !1); return !1 !== t && (this._labels = {}), this._uncache(!0) }, m.invalidate = function () { for (var e = this._first; e;)e.invalidate(), e = e._next; return t.prototype.invalidate.call(this) }, m._enabled = function (t, r) { if (t === this._gc) for (var n = this._first; n;)n._enabled(t, !0), n = n._next; return e.prototype._enabled.call(this, t, r) }, m.totalTime = function (e, r, n) { this._forcingPlayhead = !0; var i = t.prototype.totalTime.apply(this, arguments); return this._forcingPlayhead = !1, i }, m.duration = function (t) { return arguments.length ? (0 !== this.duration() && 0 !== t && this.timeScale(this._duration / t), this) : (this._dirty && this.totalDuration(), this._duration) }, m.totalDuration = function (t) { if (!arguments.length) { if (this._dirty) { for (var e, r, n = 0, i = this._last, o = 999999999999; i;)e = i._prev, i._dirty && i.totalDuration(), i._startTime > o && this._sortChildren && !i._paused ? this.add(i, i._startTime - i._delay) : o = i._startTime, i._startTime < 0 && !i._paused && (n -= i._startTime, this._timeline.smoothChildTiming && (this._startTime += i._startTime / this._timeScale), this.shiftChildren(-i._startTime, !1, -9999999999), o = 0), (r = i._startTime + i._totalDuration / i._timeScale) > n && (n = r), i = e; this._duration = this._totalDuration = n, this._dirty = !1 } return this._totalDuration } return t && this.totalDuration() ? this.timeScale(this._totalDuration / t) : this }, m.paused = function (e) { if (!e) for (var r = this._first, n = this._time; r;)r._startTime === n && "isPause" === r.data && (r._rawPrevTime = 0), r = r._next; return t.prototype.paused.apply(this, arguments) }, m.usesFrames = function () { for (var e = this._timeline; e._timeline;)e = e._timeline; return e === t._rootFramesTimeline }, m.rawTime = function (t) { return t && (this._paused || this._repeat && this.time() > 0 && this.totalProgress() < 1) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(t) - this._startTime) * this._timeScale }, n }, !0), _gsScope._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function (t, e, r) { var n = function (e) { t.call(this, e), this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._cycle = 0, this._yoyo = !0 === this.vars.yoyo, this._dirty = !0 }, i = 1e-10, o = e._internals, s = o.lazyTweens, a = o.lazyRender, u = _gsScope._gsDefine.globals, l = new r(null, null, 1, 0), h = n.prototype = new t; return h.constructor = n, h.kill()._gc = !1, n.version = "1.19.1", h.invalidate = function () { return this._yoyo = !0 === this.vars.yoyo, this._repeat = this.vars.repeat || 0, this._repeatDelay = this.vars.repeatDelay || 0, this._uncache(!0), t.prototype.invalidate.call(this) }, h.addCallback = function (t, r, n, i) { return this.add(e.delayedCall(0, t, n, i), r) }, h.removeCallback = function (t, e) { if (t) if (null == e) this._kill(null, t); else for (var r = this.getTweensOf(t, !1), n = r.length, i = this._parseTimeOrLabel(e); --n > -1;)r[n]._startTime === i && r[n]._enabled(!1, !1); return this }, h.removePause = function (e) { return this.removeCallback(t._internals.pauseCallback, e) }, h.tweenTo = function (t, r) { r = r || {}; var n, i, o, s = { ease: l, useFrames: this.usesFrames(), immediateRender: !1 }, a = r.repeat && u.TweenMax || e; for (i in r) s[i] = r[i]; return s.time = this._parseTimeOrLabel(t), n = Math.abs(Number(s.time) - this._time) / this._timeScale || .001, o = new a(this, n, s), s.onStart = function () { o.target.paused(!0), o.vars.time !== o.target.time() && n === o.duration() && o.duration(Math.abs(o.vars.time - o.target.time()) / o.target._timeScale), r.onStart && r.onStart.apply(r.onStartScope || r.callbackScope || o, r.onStartParams || []) }, o }, h.tweenFromTo = function (t, e, r) { r = r || {}, t = this._parseTimeOrLabel(t), r.startAt = { onComplete: this.seek, onCompleteParams: [t], callbackScope: this }, r.immediateRender = !1 !== r.immediateRender; var n = this.tweenTo(e, r); return n.duration(Math.abs(n.vars.time - t) / this._timeScale || .001) }, h.render = function (t, e, r) { this._gc && this._enabled(!0, !1); var n, o, u, l, h, c, f, d, p = this._dirty ? this.totalDuration() : this._totalDuration, g = this._duration, m = this._time, v = this._totalTime, y = this._startTime, _ = this._timeScale, x = this._rawPrevTime, b = this._paused, T = this._cycle; if (t >= p - 1e-7 && t >= 0) this._locked || (this._totalTime = p, this._cycle = this._repeat), this._reversed || this._hasPausedChild() || (o = !0, l = "onComplete", h = !!this._timeline.autoRemoveChildren, 0 === this._duration && (0 >= t && t >= -1e-7 || 0 > x || x === i) && x !== t && this._first && (h = !0, x > i && (l = "onReverseComplete"))), this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : i, this._yoyo && 0 != (1 & this._cycle) ? this._time = t = 0 : (this._time = g, t = g + 1e-4); else if (1e-7 > t) if (this._locked || (this._totalTime = this._cycle = 0), this._time = 0, (0 !== m || 0 === g && x !== i && (x > 0 || 0 > t && x >= 0) && !this._locked) && (l = "onReverseComplete", o = this._reversed), 0 > t) this._active = !1, this._timeline.autoRemoveChildren && this._reversed ? (h = o = !0, l = "onReverseComplete") : x >= 0 && this._first && (h = !0), this._rawPrevTime = t; else { if (this._rawPrevTime = g || !e || t || this._rawPrevTime === t ? t : i, 0 === t && o) for (n = this._first; n && 0 === n._startTime;)n._duration || (o = !1), n = n._next; t = 0, this._initted || (h = !0) } else if (0 === g && 0 > x && (h = !0), this._time = this._rawPrevTime = t, this._locked || (this._totalTime = t, 0 !== this._repeat && (c = g + this._repeatDelay, this._cycle = this._totalTime / c >> 0, 0 !== this._cycle && this._cycle === this._totalTime / c && t >= v && this._cycle--, this._time = this._totalTime - this._cycle * c, this._yoyo && 0 != (1 & this._cycle) && (this._time = g - this._time), this._time > g ? (this._time = g, t = g + 1e-4) : this._time < 0 ? this._time = t = 0 : t = this._time)), this._hasPause && !this._forcingPlayhead && !e && g > t) { if ((t = this._time) >= m || this._repeat && T !== this._cycle) for (n = this._first; n && n._startTime <= t && !f;)n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (f = n), n = n._next; else for (n = this._last; n && n._startTime >= t && !f;)n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (f = n), n = n._prev; f && (this._time = t = f._startTime, this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay)) } if (this._cycle !== T && !this._locked) { var w = this._yoyo && 0 != (1 & T), S = w === (this._yoyo && 0 != (1 & this._cycle)), C = this._totalTime, E = this._cycle, O = this._rawPrevTime, P = this._time; if (this._totalTime = T * g, this._cycle < T ? w = !w : this._totalTime += g, this._time = m, this._rawPrevTime = 0 === g ? x - 1e-4 : x, this._cycle = T, this._locked = !0, m = w ? 0 : g, this.render(m, e, 0 === g), e || this._gc || this.vars.onRepeat && (this._cycle = E, this._locked = !1, this._callback("onRepeat")), m !== this._time) return; if (S && (this._cycle = T, this._locked = !0, m = w ? g + 1e-4 : -1e-4, this.render(m, !0, !1)), this._locked = !1, this._paused && !b) return; this._time = P, this._totalTime = C, this._cycle = E, this._rawPrevTime = O } if (this._time !== m && this._first || r || h || f) { if (this._initted || (this._initted = !0), this._active || !this._paused && this._totalTime !== v && t > 0 && (this._active = !0), 0 === v && this.vars.onStart && (0 === this._totalTime && this._totalDuration || e || this._callback("onStart")), (d = this._time) >= m) for (n = this._first; n && (u = n._next, d === this._time && (!this._paused || b));)(n._active || n._startTime <= this._time && !n._paused && !n._gc) && (f === n && this.pause(), n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, r) : n.render((t - n._startTime) * n._timeScale, e, r)), n = u; else for (n = this._last; n && (u = n._prev, d === this._time && (!this._paused || b));) { if (n._active || n._startTime <= m && !n._paused && !n._gc) { if (f === n) { for (f = n._prev; f && f.endTime() > this._time;)f.render(f._reversed ? f.totalDuration() - (t - f._startTime) * f._timeScale : (t - f._startTime) * f._timeScale, e, r), f = f._prev; f = null, this.pause() } n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, r) : n.render((t - n._startTime) * n._timeScale, e, r) } n = u } this._onUpdate && (e || (s.length && a(), this._callback("onUpdate"))), l && (this._locked || this._gc || (y === this._startTime || _ !== this._timeScale) && (0 === this._time || p >= this.totalDuration()) && (o && (s.length && a(), this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[l] && this._callback(l))) } else v !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate")) }, h.getActive = function (t, e, r) { null == t && (t = !0), null == e && (e = !0), null == r && (r = !1); var n, i, o = [], s = this.getChildren(t, e, r), a = 0, u = s.length; for (n = 0; u > n; n++)(i = s[n]).isActive() && (o[a++] = i); return o }, h.getLabelAfter = function (t) { t || 0 !== t && (t = this._time); var e, r = this.getLabelsArray(), n = r.length; for (e = 0; n > e; e++)if (r[e].time > t) return r[e].name; return null }, h.getLabelBefore = function (t) { null == t && (t = this._time); for (var e = this.getLabelsArray(), r = e.length; --r > -1;)if (e[r].time < t) return e[r].name; return null }, h.getLabelsArray = function () { var t, e = [], r = 0; for (t in this._labels) e[r++] = { time: this._labels[t], name: t }; return e.sort(function (t, e) { return t.time - e.time }), e }, h.invalidate = function () { return this._locked = !1, t.prototype.invalidate.call(this) }, h.progress = function (t, e) { return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration() }, h.totalProgress = function (t, e) { return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration() }, h.totalDuration = function (e) { return arguments.length ? -1 !== this._repeat && e ? this.timeScale(this.totalDuration() / e) : this : (this._dirty && (t.prototype.totalDuration.call(this), this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat), this._totalDuration) }, h.time = function (t, e) { return arguments.length ? (this._dirty && this.totalDuration(), t > this._duration && (t = this._duration), this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)), this.totalTime(t, e)) : this._time }, h.repeat = function (t) { return arguments.length ? (this._repeat = t, this._uncache(!0)) : this._repeat }, h.repeatDelay = function (t) { return arguments.length ? (this._repeatDelay = t, this._uncache(!0)) : this._repeatDelay }, h.yoyo = function (t) { return arguments.length ? (this._yoyo = t, this) : this._yoyo }, h.currentLabel = function (t) { return arguments.length ? this.seek(t, !0) : this.getLabelBefore(this._time + 1e-8) }, n }, !0), t = 180 / Math.PI, e = [], r = [], n = [], i = {}, o = _gsScope._gsDefine.globals, s = function (t, e, r, n) { r === n && (r = n - (n - e) / 1e6), t === e && (e = t + (r - t) / 1e6), this.a = t, this.b = e, this.c = r, this.d = n, this.da = n - t, this.ca = r - t, this.ba = e - t }, a = function (t, e, r, n) { var i = { a: t }, o = {}, s = {}, a = { c: n }, u = (t + e) / 2, l = (e + r) / 2, h = (r + n) / 2, c = (u + l) / 2, f = (l + h) / 2, d = (f - c) / 8; return i.b = u + (t - u) / 4, o.b = c + d, i.c = o.a = (i.b + o.b) / 2, o.c = s.a = (c + f) / 2, s.b = f - d, a.b = h + (n - h) / 4, s.c = a.a = (s.b + a.b) / 2, [i, o, s, a] }, u = function (t, i, o, s, u) { var l, h, c, f, d, p, g, m, v, y, _, x, b, T = t.length - 1, w = 0, S = t[0].a; for (l = 0; T > l; l++)h = (d = t[w]).a, c = d.d, f = t[w + 1].d, u ? (_ = e[l], b = ((x = r[l]) + _) * i * .25 / (s ? .5 : n[l] || .5), m = c - ((p = c - (c - h) * (s ? .5 * i : 0 !== _ ? b / _ : 0)) + (((g = c + (f - c) * (s ? .5 * i : 0 !== x ? b / x : 0)) - p) * (3 * _ / (_ + x) + .5) / 4 || 0))) : m = c - ((p = c - (c - h) * i * .5) + (g = c + (f - c) * i * .5)) / 2, p += m, g += m, d.c = v = p, d.b = 0 !== l ? S : S = d.a + .6 * (d.c - d.a), d.da = c - h, d.ca = v - h, d.ba = S - h, o ? (y = a(h, S, v, c), t.splice(w, 1, y[0], y[1], y[2], y[3]), w += 4) : w++, S = g; (d = t[w]).b = S, d.c = S + .4 * (d.d - S), d.da = d.d - d.a, d.ca = d.c - d.a, d.ba = S - d.a, o && (y = a(d.a, S, d.c, d.d), t.splice(w, 1, y[0], y[1], y[2], y[3])) }, l = function (t, n, i, o) { var a, u, l, h, c, f, d = []; if (o) for (u = (t = [o].concat(t)).length; --u > -1;)"string" == typeof (f = t[u][n]) && "=" === f.charAt(1) && (t[u][n] = o[n] + Number(f.charAt(0) + f.substr(2))); if (0 > (a = t.length - 2)) return d[0] = new s(t[0][n], 0, 0, t[-1 > a ? 0 : 1][n]), d; for (u = 0; a > u; u++)l = t[u][n], h = t[u + 1][n], d[u] = new s(l, 0, 0, h), i && (c = t[u + 2][n], e[u] = (e[u] || 0) + (h - l) * (h - l), r[u] = (r[u] || 0) + (c - h) * (c - h)); return d[u] = new s(t[u][n], 0, 0, t[u + 1][n]), d }, h = function (t, o, s, a, h, c) { var f, d, p, g, m, v, y, _, x = {}, b = [], T = c || t[0]; for (d in h = "string" == typeof h ? "," + h + "," : ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,", null == o && (o = 1), t[0]) b.push(d); if (t.length > 1) { for (_ = t[t.length - 1], y = !0, f = b.length; --f > -1;)if (d = b[f], Math.abs(T[d] - _[d]) > .05) { y = !1; break } y && (t = t.concat(), c && t.unshift(c), t.push(t[1]), c = t[t.length - 3]) } for (e.length = r.length = n.length = 0, f = b.length; --f > -1;)d = b[f], i[d] = -1 !== h.indexOf("," + d + ","), x[d] = l(t, d, i[d], c); for (f = e.length; --f > -1;)e[f] = Math.sqrt(e[f]), r[f] = Math.sqrt(r[f]); if (!a) { for (f = b.length; --f > -1;)if (i[d]) for (v = (p = x[b[f]]).length - 1, g = 0; v > g; g++)m = p[g + 1].da / r[g] + p[g].da / e[g] || 0, n[g] = (n[g] || 0) + m * m; for (f = n.length; --f > -1;)n[f] = Math.sqrt(n[f]) } for (f = b.length, g = s ? 4 : 1; --f > -1;)p = x[d = b[f]], u(p, o, s, a, i[d]), y && (p.splice(0, g), p.splice(p.length - g, g)); return x }, c = function (t, e, r) { var n, i, o, a, u, l, h, c, f, d, p, g = {}, m = "cubic" === (e = e || "soft") ? 3 : 2, v = "soft" === e, y = []; if (v && r && (t = [r].concat(t)), null == t || t.length < m + 1) throw "invalid Bezier data"; for (f in t[0]) y.push(f); for (l = y.length; --l > -1;) { for (g[f = y[l]] = u = [], d = 0, c = t.length, h = 0; c > h; h++)n = null == r ? t[h][f] : "string" == typeof (p = t[h][f]) && "=" === p.charAt(1) ? r[f] + Number(p.charAt(0) + p.substr(2)) : Number(p), v && h > 1 && c - 1 > h && (u[d++] = (n + u[d - 2]) / 2), u[d++] = n; for (c = d - m + 1, d = 0, h = 0; c > h; h += m)n = u[h], i = u[h + 1], o = u[h + 2], a = 2 === m ? 0 : u[h + 3], u[d++] = p = 3 === m ? new s(n, i, o, a) : new s(n, (2 * i + n) / 3, (2 * i + o) / 3, o); u.length = d } return g }, f = function (t, e, r) { for (var n, i, o, s, a, u, l, h, c, f, d, p = 1 / r, g = t.length; --g > -1;)for (o = (f = t[g]).a, s = f.d - o, a = f.c - o, u = f.b - o, n = i = 0, h = 1; r >= h; h++)n = i - (i = ((l = p * h) * l * s + 3 * (c = 1 - l) * (l * a + c * u)) * l), e[d = g * r + h - 1] = (e[d] || 0) + n * n }, d = function (t, e) { var r, n, i, o, s = [], a = [], u = 0, l = 0, h = (e = e >> 0 || 6) - 1, c = [], d = []; for (r in t) f(t[r], s, e); for (i = s.length, n = 0; i > n; n++)u += Math.sqrt(s[n]), d[o = n % e] = u, o === h && (l += u, c[o = n / e >> 0] = d, a[o] = l, u = 0, d = []); return { length: l, lengths: a, segments: c } }, p = _gsScope._gsDefine.plugin({ propName: "bezier", priority: -1, version: "1.3.7", API: 2, global: !0, init: function (t, e, r) { this._target = t, e instanceof Array && (e = { values: e }), this._func = {}, this._mod = {}, this._props = [], this._timeRes = null == e.timeResolution ? 6 : parseInt(e.timeResolution, 10); var n, i, o, s, a, u = e.values || [], l = {}, f = u[0], p = e.autoRotate || r.vars.orientToBezier; for (n in this._autoRotate = p ? p instanceof Array ? p : [["x", "y", "rotation", !0 === p ? 0 : Number(p) || 0]] : null, f) this._props.push(n); for (o = this._props.length; --o > -1;)n = this._props[o], this._overwriteProps.push(n), i = this._func[n] = "function" == typeof t[n], l[n] = i ? t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)]() : parseFloat(t[n]), a || l[n] !== u[0][n] && (a = l); if (this._beziers = "cubic" !== e.type && "quadratic" !== e.type && "soft" !== e.type ? h(u, isNaN(e.curviness) ? 1 : e.curviness, !1, "thruBasic" === e.type, e.correlate, a) : c(u, e.type, l), this._segCount = this._beziers[n].length, this._timeRes) { var g = d(this._beziers, this._timeRes); this._length = g.length, this._lengths = g.lengths, this._segments = g.segments, this._l1 = this._li = this._s1 = this._si = 0, this._l2 = this._lengths[0], this._curSeg = this._segments[0], this._s2 = this._curSeg[0], this._prec = 1 / this._curSeg.length } if (p = this._autoRotate) for (this._initialRotations = [], p[0] instanceof Array || (this._autoRotate = p = [p]), o = p.length; --o > -1;) { for (s = 0; 3 > s; s++)n = p[o][s], this._func[n] = "function" == typeof t[n] && t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)]; n = p[o][2], this._initialRotations[o] = (this._func[n] ? this._func[n].call(this._target) : this._target[n]) || 0, this._overwriteProps.push(n) } return this._startRatio = r.vars.runBackwards ? 1 : 0, !0 }, set: function (e) { var r, n, i, o, s, a, u, l, h, c, f = this._segCount, d = this._func, p = this._target, g = e !== this._startRatio; if (this._timeRes) { if (h = this._lengths, c = this._curSeg, e *= this._length, i = this._li, e > this._l2 && f - 1 > i) { for (l = f - 1; l > i && (this._l2 = h[++i]) <= e;); this._l1 = h[i - 1], this._li = i, this._curSeg = c = this._segments[i], this._s2 = c[this._s1 = this._si = 0] } else if (e < this._l1 && i > 0) { for (; i > 0 && (this._l1 = h[--i]) >= e;); 0 === i && e < this._l1 ? this._l1 = 0 : i++, this._l2 = h[i], this._li = i, this._curSeg = c = this._segments[i], this._s1 = c[(this._si = c.length - 1) - 1] || 0, this._s2 = c[this._si] } if (r = i, e -= this._l1, i = this._si, e > this._s2 && i < c.length - 1) { for (l = c.length - 1; l > i && (this._s2 = c[++i]) <= e;); this._s1 = c[i - 1], this._si = i } else if (e < this._s1 && i > 0) { for (; i > 0 && (this._s1 = c[--i]) >= e;); 0 === i && e < this._s1 ? this._s1 = 0 : i++, this._s2 = c[i], this._si = i } a = (i + (e - this._s1) / (this._s2 - this._s1)) * this._prec || 0 } else a = (e - (r = 0 > e ? 0 : e >= 1 ? f - 1 : f * e >> 0) * (1 / f)) * f; for (n = 1 - a, i = this._props.length; --i > -1;)o = this._props[i], u = (a * a * (s = this._beziers[o][r]).da + 3 * n * (a * s.ca + n * s.ba)) * a + s.a, this._mod[o] && (u = this._mod[o](u, p)), d[o] ? p[o](u) : p[o] = u; if (this._autoRotate) { var m, v, y, _, x, b, T, w = this._autoRotate; for (i = w.length; --i > -1;)o = w[i][2], b = w[i][3] || 0, T = !0 === w[i][4] ? 1 : t, s = this._beziers[w[i][0]], m = this._beziers[w[i][1]], s && m && (s = s[r], m = m[r], v = s.a + (s.b - s.a) * a, v += ((_ = s.b + (s.c - s.b) * a) - v) * a, _ += (s.c + (s.d - s.c) * a - _) * a, y = m.a + (m.b - m.a) * a, y += ((x = m.b + (m.c - m.b) * a) - y) * a, x += (m.c + (m.d - m.c) * a - x) * a, u = g ? Math.atan2(x - y, _ - v) * T + b : this._initialRotations[i], this._mod[o] && (u = this._mod[o](u, p)), d[o] ? p[o](u) : p[o] = u) } } }), g = p.prototype, p.bezierThrough = h, p.cubicToQuadratic = a, p._autoCSS = !0, p.quadraticToCubic = function (t, e, r) { return new s(t, (2 * e + t) / 3, (2 * e + r) / 3, r) }, p._cssRegister = function () { var t = o.CSSPlugin; if (t) { var e = t._internals, r = e._parseToProxy, n = e._setPluginRatio, i = e.CSSPropTween; e._registerComplexSpecialProp("bezier", { parser: function (t, e, o, s, a, u) { e instanceof Array && (e = { values: e }), u = new p; var l, h, c, f = e.values, d = f.length - 1, g = [], m = {}; if (0 > d) return a; for (l = 0; d >= l; l++)c = r(t, f[l], s, a, u, d !== l), g[l] = c.end; for (h in e) m[h] = e[h]; return m.values = g, (a = new i(t, "bezier", 0, 0, c.pt, 2)).data = c, a.plugin = u, a.setRatio = n, 0 === m.autoRotate && (m.autoRotate = !0), !m.autoRotate || m.autoRotate instanceof Array || (l = !0 === m.autoRotate ? 0 : Number(m.autoRotate), m.autoRotate = null != c.end.left ? [["left", "top", "rotation", l, !1]] : null != c.end.x && [["x", "y", "rotation", l, !1]]), m.autoRotate && (s._transform || s._enableTransforms(!1), c.autoRotate = s._target._gsTransform, c.proxy.rotation = c.autoRotate.rotation || 0, s._overwriteProps.push("rotation")), u._onInitTween(c.proxy, m, s._tween), a } }) } }, g._mod = function (t) { for (var e, r = this._overwriteProps, n = r.length; --n > -1;)(e = t[r[n]]) && "function" == typeof e && (this._mod[r[n]] = e) }, g._kill = function (t) { var e, r, n = this._props; for (e in this._beziers) if (e in t) for (delete this._beziers[e], delete this._func[e], r = n.length; --r > -1;)n[r] === e && n.splice(r, 1); if (n = this._autoRotate) for (r = n.length; --r > -1;)t[n[r][2]] && n.splice(r, 1); return this._super._kill.call(this, t) }, _gsScope._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function (t, e) { var r, n, i, o, s = function () { t.call(this, "css"), this._overwriteProps.length = 0, this.setRatio = s.prototype.setRatio }, a = _gsScope._gsDefine.globals, u = {}, l = s.prototype = new t("css"); l.constructor = s, s.version = "1.19.1", s.API = 2, s.defaultTransformPerspective = 0, s.defaultSkewType = "compensated", s.defaultSmoothOrigin = !0, l = "px", s.suffixMap = { top: l, right: l, bottom: l, left: l, width: l, height: l, fontSize: l, padding: l, margin: l, perspective: l, lineHeight: "" }; var h, c, f, d, p, g, m, v, y = /(?:\-|\.|\b)(\d|\.|e\-)+/g, _ = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g, x = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi, b = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g, T = /(?:\d|\-|\+|=|#|\.)*/g, w = /opacity *= *([^)]*)/i, S = /opacity:([^;]*)/i, C = /alpha\(opacity *=.+?\)/i, E = /^(rgb|hsl)/, O = /([A-Z])/g, P = /-([a-z])/gi, A = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, M = function (t, e) { return e.toUpperCase() }, R = /(?:Left|Right|Width)/i, D = /(M11|M12|M21|M22)=[\d\-\.e]+/gi, I = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, L = /,(?=[^\)]*(?:\(|$))/gi, F = /[\s,\(]/i, k = Math.PI / 180, j = 180 / Math.PI, N = {}, B = { style: {} }, U = _gsScope.document || { createElement: function () { return B } }, z = function (t, e) { return U.createElementNS ? U.createElementNS(e || "http://www.w3.org/1999/xhtml", t) : U.createElement(t) }, X = z("div"), W = z("img"), H = s._internals = { _specialProps: u }, G = (_gsScope.navigator || {}).userAgent || "", Y = function () { var t = G.indexOf("Android"), e = z("a"); return f = -1 !== G.indexOf("Safari") && -1 === G.indexOf("Chrome") && (-1 === t || parseFloat(G.substr(t + 8, 2)) > 3), p = f && parseFloat(G.substr(G.indexOf("Version/") + 8, 2)) < 6, d = -1 !== G.indexOf("Firefox"), (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(G) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(G)) && (g = parseFloat(RegExp.$1)), !!e && (e.style.cssText = "top:1px;opacity:.55;", /^0.55/.test(e.style.opacity)) }(), q = function (t) { return w.test("string" == typeof t ? t : (t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1 }, V = function (t) { _gsScope.console && console.log(t) }, $ = "", K = "", Z = function (t, e) { var r, n, i = (e = e || X).style; if (void 0 !== i[t]) return t; for (t = t.charAt(0).toUpperCase() + t.substr(1), r = ["O", "Moz", "ms", "Ms", "Webkit"], n = 5; --n > -1 && void 0 === i[r[n] + t];); return n >= 0 ? ($ = "-" + (K = 3 === n ? "ms" : r[n]).toLowerCase() + "-", K + t) : null }, Q = U.defaultView ? U.defaultView.getComputedStyle : function () { }, J = s.getStyle = function (t, e, r, n, i) { var o; return Y || "opacity" !== e ? (!n && t.style[e] ? o = t.style[e] : (r = r || Q(t)) ? o = r[e] || r.getPropertyValue(e) || r.getPropertyValue(e.replace(O, "-$1").toLowerCase()) : t.currentStyle && (o = t.currentStyle[e]), null == i || o && "none" !== o && "auto" !== o && "auto auto" !== o ? o : i) : q(t) }, tt = H.convertToPixels = function (t, r, n, i, o) { if ("px" === i || !i) return n; if ("auto" === i || !n) return 0; var a, u, l, h = R.test(r), c = t, f = X.style, d = 0 > n, p = 1 === n; if (d && (n = -n), p && (n *= 100), "%" === i && -1 !== r.indexOf("border")) a = n / 100 * (h ? t.clientWidth : t.clientHeight); else { if (f.cssText = "border:0 solid red;position:" + J(t, "position") + ";line-height:0;", "%" !== i && c.appendChild && "v" !== i.charAt(0) && "rem" !== i) f[h ? "borderLeftWidth" : "borderTopWidth"] = n + i; else { if (u = (c = t.parentNode || U.body)._gsCache, l = e.ticker.frame, u && h && u.time === l) return u.width * n / 100; f[h ? "width" : "height"] = n + i } c.appendChild(X), a = parseFloat(X[h ? "offsetWidth" : "offsetHeight"]), c.removeChild(X), h && "%" === i && !1 !== s.cacheWidths && ((u = c._gsCache = c._gsCache || {}).time = l, u.width = a / n * 100), 0 !== a || o || (a = tt(t, r, n, i, !0)) } return p && (a /= 100), d ? -a : a }, et = H.calculateOffset = function (t, e, r) { if ("absolute" !== J(t, "position", r)) return 0; var n = "left" === e ? "Left" : "Top", i = J(t, "margin" + n, r); return t["offset" + n] - (tt(t, e, parseFloat(i), i.replace(T, "")) || 0) }, rt = function (t, e) { var r, n, i, o = {}; if (e = e || Q(t, null)) if (r = e.length) for (; --r > -1;)(-1 === (i = e[r]).indexOf("-transform") || At === i) && (o[i.replace(P, M)] = e.getPropertyValue(i)); else for (r in e) (-1 === r.indexOf("Transform") || Pt === r) && (o[r] = e[r]); else if (e = t.currentStyle || t.style) for (r in e) "string" == typeof r && void 0 === o[r] && (o[r.replace(P, M)] = e[r]); return Y || (o.opacity = q(t)), n = Xt(t, e, !1), o.rotation = n.rotation, o.skewX = n.skewX, o.scaleX = n.scaleX, o.scaleY = n.scaleY, o.x = n.x, o.y = n.y, Rt && (o.z = n.z, o.rotationX = n.rotationX, o.rotationY = n.rotationY, o.scaleZ = n.scaleZ), o.filters && delete o.filters, o }, nt = function (t, e, r, n, i) { var o, s, a, u = {}, l = t.style; for (s in r) "cssText" !== s && "length" !== s && isNaN(s) && (e[s] !== (o = r[s]) || i && i[s]) && -1 === s.indexOf("Origin") && ("number" == typeof o || "string" == typeof o) && (u[s] = "auto" !== o || "left" !== s && "top" !== s ? "" !== o && "auto" !== o && "none" !== o || "string" != typeof e[s] || "" === e[s].replace(b, "") ? o : 0 : et(t, s), void 0 !== l[s] && (a = new yt(l, s, l[s], a))); if (n) for (s in n) "className" !== s && (u[s] = n[s]); return { difs: u, firstMPT: a } }, it = { width: ["Left", "Right"], height: ["Top", "Bottom"] }, ot = ["marginLeft", "marginRight", "marginTop", "marginBottom"], st = function (t, e, r) { if ("svg" === (t.nodeName + "").toLowerCase()) return (r || Q(t))[e] || 0; if (t.getCTM && Bt(t)) return t.getBBox()[e] || 0; var n = parseFloat("width" === e ? t.offsetWidth : t.offsetHeight), i = it[e], o = i.length; for (r = r || Q(t, null); --o > -1;)n -= parseFloat(J(t, "padding" + i[o], r, !0)) || 0, n -= parseFloat(J(t, "border" + i[o] + "Width", r, !0)) || 0; return n }, at = function (t, e) { if ("contain" === t || "auto" === t || "auto auto" === t) return t + " "; (null == t || "" === t) && (t = "0 0"); var r, n = t.split(" "), i = -1 !== t.indexOf("left") ? "0%" : -1 !== t.indexOf("right") ? "100%" : n[0], o = -1 !== t.indexOf("top") ? "0%" : -1 !== t.indexOf("bottom") ? "100%" : n[1]; if (n.length > 3 && !e) { for (n = t.split(", ").join(",").split(","), t = [], r = 0; r < n.length; r++)t.push(at(n[r])); return t.join(",") } return null == o ? o = "center" === i ? "50%" : "0" : "center" === o && (o = "50%"), ("center" === i || isNaN(parseFloat(i)) && -1 === (i + "").indexOf("=")) && (i = "50%"), t = i + " " + o + (n.length > 2 ? " " + n[2] : ""), e && (e.oxp = -1 !== i.indexOf("%"), e.oyp = -1 !== o.indexOf("%"), e.oxr = "=" === i.charAt(1), e.oyr = "=" === o.charAt(1), e.ox = parseFloat(i.replace(b, "")), e.oy = parseFloat(o.replace(b, "")), e.v = t), e || t }, ut = function (t, e) { return "function" == typeof t && (t = t(v, m)), "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) : parseFloat(t) - parseFloat(e) || 0 }, lt = function (t, e) { return "function" == typeof t && (t = t(v, m)), null == t ? e : "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) + e : parseFloat(t) || 0 }, ht = function (t, e, r, n) { var i, o, s, a, u; return "function" == typeof t && (t = t(v, m)), null == t ? a = e : "number" == typeof t ? a = t : (i = 360, o = t.split("_"), s = ((u = "=" === t.charAt(1)) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(o[0].substr(2)) : parseFloat(o[0])) * (-1 === t.indexOf("rad") ? 1 : j) - (u ? 0 : e), o.length && (n && (n[r] = e + s), -1 !== t.indexOf("short") && ((s %= i) !== s % 180 && (s = 0 > s ? s + i : s - i)), -1 !== t.indexOf("_cw") && 0 > s ? s = (s + 9999999999 * i) % i - (s / i | 0) * i : -1 !== t.indexOf("ccw") && s > 0 && (s = (s - 9999999999 * i) % i - (s / i | 0) * i)), a = e + s), 1e-6 > a && a > -1e-6 && (a = 0), a }, ct = { aqua: [0, 255, 255], lime: [0, 255, 0], silver: [192, 192, 192], black: [0, 0, 0], maroon: [128, 0, 0], teal: [0, 128, 128], blue: [0, 0, 255], navy: [0, 0, 128], white: [255, 255, 255], fuchsia: [255, 0, 255], olive: [128, 128, 0], yellow: [255, 255, 0], orange: [255, 165, 0], gray: [128, 128, 128], purple: [128, 0, 128], green: [0, 128, 0], red: [255, 0, 0], pink: [255, 192, 203], cyan: [0, 255, 255], transparent: [255, 255, 255, 0] }, ft = function (t, e, r) { return 255 * (1 > 6 * (t = 0 > t ? t + 1 : t > 1 ? t - 1 : t) ? e + (r - e) * t * 6 : .5 > t ? r : 2 > 3 * t ? e + (r - e) * (2 / 3 - t) * 6 : e) + .5 | 0 }, dt = s.parseColor = function (t, e) { var r, n, i, o, s, a, u, l, h, c, f; if (t) if ("number" == typeof t) r = [t >> 16, t >> 8 & 255, 255 & t]; else { if ("," === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)), ct[t]) r = ct[t]; else if ("#" === t.charAt(0)) 4 === t.length && (n = t.charAt(1), i = t.charAt(2), o = t.charAt(3), t = "#" + n + n + i + i + o + o), r = [(t = parseInt(t.substr(1), 16)) >> 16, t >> 8 & 255, 255 & t]; else if ("hsl" === t.substr(0, 3)) if (r = f = t.match(y), e) { if (-1 !== t.indexOf("=")) return t.match(_) } else s = Number(r[0]) % 360 / 360, a = Number(r[1]) / 100, n = 2 * (u = Number(r[2]) / 100) - (i = .5 >= u ? u * (a + 1) : u + a - u * a), r.length > 3 && (r[3] = Number(t[3])), r[0] = ft(s + 1 / 3, n, i), r[1] = ft(s, n, i), r[2] = ft(s - 1 / 3, n, i); else r = t.match(y) || ct.transparent; r[0] = Number(r[0]), r[1] = Number(r[1]), r[2] = Number(r[2]), r.length > 3 && (r[3] = Number(r[3])) } else r = ct.black; return e && !f && (n = r[0] / 255, i = r[1] / 255, o = r[2] / 255, u = ((l = Math.max(n, i, o)) + (h = Math.min(n, i, o))) / 2, l === h ? s = a = 0 : (c = l - h, a = u > .5 ? c / (2 - l - h) : c / (l + h), s = l === n ? (i - o) / c + (o > i ? 6 : 0) : l === i ? (o - n) / c + 2 : (n - i) / c + 4, s *= 60), r[0] = s + .5 | 0, r[1] = 100 * a + .5 | 0, r[2] = 100 * u + .5 | 0), r }, pt = function (t, e) { var r, n, i, o = t.match(gt) || [], s = 0, a = o.length ? "" : t; for (r = 0; r < o.length; r++)n = o[r], s += (i = t.substr(s, t.indexOf(n, s) - s)).length + n.length, 3 === (n = dt(n, e)).length && n.push(1), a += i + (e ? "hsla(" + n[0] + "," + n[1] + "%," + n[2] + "%," + n[3] : "rgba(" + n.join(",")) + ")"; return a + t.substr(s) }, gt = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b"; for (l in ct) gt += "|" + l + "\\b"; gt = new RegExp(gt + ")", "gi"), s.colorStringFilter = function (t) { var e, r = t[0] + t[1]; gt.test(r) && (e = -1 !== r.indexOf("hsl(") || -1 !== r.indexOf("hsla("), t[0] = pt(t[0], e), t[1] = pt(t[1], e)), gt.lastIndex = 0 }, e.defaultStringFilter || (e.defaultStringFilter = s.colorStringFilter); var mt = function (t, e, r, n) { if (null == t) return function (t) { return t }; var i, o = e ? (t.match(gt) || [""])[0] : "", s = t.split(o).join("").match(x) || [], a = t.substr(0, t.indexOf(s[0])), u = ")" === t.charAt(t.length - 1) ? ")" : "", l = -1 !== t.indexOf(" ") ? " " : ",", h = s.length, c = h > 0 ? s[0].replace(y, "") : ""; return h ? i = e ? function (t) { var e, f, d, p; if ("number" == typeof t) t += c; else if (n && L.test(t)) { for (p = t.replace(L, "|").split("|"), d = 0; d < p.length; d++)p[d] = i(p[d]); return p.join(",") } if (e = (t.match(gt) || [o])[0], d = (f = t.split(e).join("").match(x) || []).length, h > d--) for (; ++d < h;)f[d] = r ? f[(d - 1) / 2 | 0] : s[d]; return a + f.join(l) + l + e + u + (-1 !== t.indexOf("inset") ? " inset" : "") } : function (t) { var e, o, f; if ("number" == typeof t) t += c; else if (n && L.test(t)) { for (o = t.replace(L, "|").split("|"), f = 0; f < o.length; f++)o[f] = i(o[f]); return o.join(",") } if (f = (e = t.match(x) || []).length, h > f--) for (; ++f < h;)e[f] = r ? e[(f - 1) / 2 | 0] : s[f]; return a + e.join(l) + u } : function (t) { return t } }, vt = function (t) { return t = t.split(","), function (e, r, n, i, o, s, a) { var u, l = (r + "").split(" "); for (a = {}, u = 0; 4 > u; u++)a[t[u]] = l[u] = l[u] || l[(u - 1) / 2 >> 0]; return i.parse(e, a, o, s) } }, yt = (H._setPluginRatio = function (t) { this.plugin.setRatio(t); for (var e, r, n, i, o, s = this.data, a = s.proxy, u = s.firstMPT; u;)e = a[u.v], u.r ? e = Math.round(e) : 1e-6 > e && e > -1e-6 && (e = 0), u.t[u.p] = e, u = u._next; if (s.autoRotate && (s.autoRotate.rotation = s.mod ? s.mod(a.rotation, this.t) : a.rotation), 1 === t || 0 === t) for (u = s.firstMPT, o = 1 === t ? "e" : "b"; u;) { if ((r = u.t).type) { if (1 === r.type) { for (i = r.xs0 + r.s + r.xs1, n = 1; n < r.l; n++)i += r["xn" + n] + r["xs" + (n + 1)]; r[o] = i } } else r[o] = r.s + r.xs0; u = u._next } }, function (t, e, r, n, i) { this.t = t, this.p = e, this.v = r, this.r = i, n && (n._prev = this, this._next = n) }), _t = (H._parseToProxy = function (t, e, r, n, i, o) { var s, a, u, l, h, c = n, f = {}, d = {}, p = r._transform, g = N; for (r._transform = null, N = e, n = h = r.parse(t, e, n, i), N = g, o && (r._transform = p, c && (c._prev = null, c._prev && (c._prev._next = null))); n && n !== c;) { if (n.type <= 1 && (d[a = n.p] = n.s + n.c, f[a] = n.s, o || (l = new yt(n, "s", a, l, n.r), n.c = 0), 1 === n.type)) for (s = n.l; --s > 0;)u = "xn" + s, d[a = n.p + "_" + u] = n.data[u], f[a] = n[u], o || (l = new yt(n, u, a, l, n.rxp[u])); n = n._next } return { proxy: f, end: d, firstMPT: l, pt: h } }, H.CSSPropTween = function (t, e, n, i, s, a, u, l, h, c, f) { this.t = t, this.p = e, this.s = n, this.c = i, this.n = u || e, t instanceof _t || o.push(this.n), this.r = l, this.type = a || 0, h && (this.pr = h, r = !0), this.b = void 0 === c ? n : c, this.e = void 0 === f ? n + i : f, s && (this._next = s, s._prev = this) }), xt = function (t, e, r, n, i, o) { var s = new _t(t, e, r, n - r, i, -1, o); return s.b = r, s.e = s.xs0 = n, s }, bt = s.parseComplex = function (t, e, r, n, i, o, a, u, l, c) { r = r || o || "", "function" == typeof n && (n = n(v, m)), a = new _t(t, e, 0, 0, a, c ? 2 : 1, null, !1, u, r, n), n += "", i && gt.test(n + r) && (n = [r, n], s.colorStringFilter(n), r = n[0], n = n[1]); var f, d, p, g, x, b, T, w, S, C, E, O, P, A = r.split(", ").join(",").split(" "), M = n.split(", ").join(",").split(" "), R = A.length, D = !1 !== h; for ((-1 !== n.indexOf(",") || -1 !== r.indexOf(",")) && (A = A.join(" ").replace(L, ", ").split(" "), M = M.join(" ").replace(L, ", ").split(" "), R = A.length), R !== M.length && (R = (A = (o || "").split(" ")).length), a.plugin = l, a.setRatio = c, gt.lastIndex = 0, f = 0; R > f; f++)if (g = A[f], x = M[f], (w = parseFloat(g)) || 0 === w) a.appendXtra("", w, ut(x, w), x.replace(_, ""), D && -1 !== x.indexOf("px"), !0); else if (i && gt.test(g)) O = ")" + ((O = x.indexOf(")") + 1) ? x.substr(O) : ""), P = -1 !== x.indexOf("hsl") && Y, g = dt(g, P), x = dt(x, P), (S = g.length + x.length > 6) && !Y && 0 === x[3] ? (a["xs" + a.l] += a.l ? " transparent" : "transparent", a.e = a.e.split(M[f]).join("transparent")) : (Y || (S = !1), P ? a.appendXtra(S ? "hsla(" : "hsl(", g[0], ut(x[0], g[0]), ",", !1, !0).appendXtra("", g[1], ut(x[1], g[1]), "%,", !1).appendXtra("", g[2], ut(x[2], g[2]), S ? "%," : "%" + O, !1) : a.appendXtra(S ? "rgba(" : "rgb(", g[0], x[0] - g[0], ",", !0, !0).appendXtra("", g[1], x[1] - g[1], ",", !0).appendXtra("", g[2], x[2] - g[2], S ? "," : O, !0), S && (g = g.length < 4 ? 1 : g[3], a.appendXtra("", g, (x.length < 4 ? 1 : x[3]) - g, O, !1))), gt.lastIndex = 0; else if (b = g.match(y)) { if (!(T = x.match(_)) || T.length !== b.length) return a; for (p = 0, d = 0; d < b.length; d++)E = b[d], C = g.indexOf(E, p), a.appendXtra(g.substr(p, C - p), Number(E), ut(T[d], E), "", D && "px" === g.substr(C + E.length, 2), 0 === d), p = C + E.length; a["xs" + a.l] += g.substr(p) } else a["xs" + a.l] += a.l || a["xs" + a.l] ? " " + x : x; if (-1 !== n.indexOf("=") && a.data) { for (O = a.xs0 + a.data.s, f = 1; f < a.l; f++)O += a["xs" + f] + a.data["xn" + f]; a.e = O + a["xs" + f] } return a.l || (a.type = -1, a.xs0 = a.e), a.xfirst || a }, Tt = 9; for ((l = _t.prototype).l = l.pr = 0; --Tt > 0;)l["xn" + Tt] = 0, l["xs" + Tt] = ""; l.xs0 = "", l._next = l._prev = l.xfirst = l.data = l.plugin = l.setRatio = l.rxp = null, l.appendXtra = function (t, e, r, n, i, o) { var s = this, a = s.l; return s["xs" + a] += o && (a || s["xs" + a]) ? " " + t : t || "", r || 0 === a || s.plugin ? (s.l++, s.type = s.setRatio ? 2 : 1, s["xs" + s.l] = n || "", a > 0 ? (s.data["xn" + a] = e + r, s.rxp["xn" + a] = i, s["xn" + a] = e, s.plugin || (s.xfirst = new _t(s, "xn" + a, e, r, s.xfirst || s, 0, s.n, i, s.pr), s.xfirst.xs0 = 0), s) : (s.data = { s: e + r }, s.rxp = {}, s.s = e, s.c = r, s.r = i, s)) : (s["xs" + a] += e + (n || ""), s) }; var wt = function (t, e) { e = e || {}, this.p = e.prefix && Z(t) || t, u[t] = u[this.p] = this, this.format = e.formatter || mt(e.defaultValue, e.color, e.collapsible, e.multi), e.parser && (this.parse = e.parser), this.clrs = e.color, this.multi = e.multi, this.keyword = e.keyword, this.dflt = e.defaultValue, this.pr = e.priority || 0 }, St = H._registerComplexSpecialProp = function (t, e, r) { "object" != typeof e && (e = { parser: r }); var n, i = t.split(","), o = e.defaultValue; for (r = r || [o], n = 0; n < i.length; n++)e.prefix = 0 === n && e.prefix, e.defaultValue = r[n] || o, new wt(i[n], e) }, Ct = H._registerPluginProp = function (t) { if (!u[t]) { var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin"; St(t, { parser: function (t, r, n, i, o, s, l) { var h = a.com.greensock.plugins[e]; return h ? (h._cssRegister(), u[n].parse(t, r, n, i, o, s, l)) : (V("Error: " + e + " js file not loaded."), o) } }) } }; (l = wt.prototype).parseComplex = function (t, e, r, n, i, o) { var s, a, u, l, h, c, f = this.keyword; if (this.multi && (L.test(r) || L.test(e) ? (a = e.replace(L, "|").split("|"), u = r.replace(L, "|").split("|")) : f && (a = [e], u = [r])), u) { for (l = u.length > a.length ? u.length : a.length, s = 0; l > s; s++)e = a[s] = a[s] || this.dflt, r = u[s] = u[s] || this.dflt, f && ((h = e.indexOf(f)) !== (c = r.indexOf(f)) && (-1 === c ? a[s] = a[s].split(f).join("") : -1 === h && (a[s] += " " + f))); e = a.join(", "), r = u.join(", ") } return bt(t, this.p, e, r, this.clrs, this.dflt, n, this.pr, i, o) }, l.parse = function (t, e, r, n, o, s, a) { return this.parseComplex(t.style, this.format(J(t, this.p, i, !1, this.dflt)), this.format(e), o, s) }, s.registerSpecialProp = function (t, e, r) { St(t, { parser: function (t, n, i, o, s, a, u) { var l = new _t(t, i, 0, 0, s, 2, i, !1, r); return l.plugin = a, l.setRatio = e(t, n, o._tween, i), l }, priority: r }) }, s.useSVGTransformAttr = !0; var Et, Ot = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","), Pt = Z("transform"), At = $ + "transform", Mt = Z("transformOrigin"), Rt = null !== Z("perspective"), Dt = H.Transform = function () { this.perspective = parseFloat(s.defaultTransformPerspective) || 0, this.force3D = !(!1 === s.defaultForce3D || !Rt) && (s.defaultForce3D || "auto") }, It = _gsScope.SVGElement, Lt = function (t, e, r) { var n, i = U.createElementNS("http://www.w3.org/2000/svg", t), o = /([a-z])([A-Z])/g; for (n in r) i.setAttributeNS(null, n.replace(o, "$1-$2").toLowerCase(), r[n]); return e.appendChild(i), i }, Ft = U.documentElement || {}, kt = function () { var t, e, r, n = g || /Android/i.test(G) && !_gsScope.chrome; return U.createElementNS && !n && (t = Lt("svg", Ft), r = (e = Lt("rect", t, { width: 100, height: 50, x: 100 })).getBoundingClientRect().width, e.style[Mt] = "50% 50%", e.style[Pt] = "scaleX(0.5)", n = r === e.getBoundingClientRect().width && !(d && Rt), Ft.removeChild(t)), n }(), jt = function (t, e, r, n, i, o) { var a, u, l, h, c, f, d, p, g, m, v, y, _, x, b = t._gsTransform, T = zt(t, !0); b && (_ = b.xOrigin, x = b.yOrigin), (!n || (a = n.split(" ")).length < 2) && (0 === (d = t.getBBox()).x && 0 === d.y && d.width + d.height === 0 && (d = { x: parseFloat(t.hasAttribute("x") ? t.getAttribute("x") : t.hasAttribute("cx") ? t.getAttribute("cx") : 0) || 0, y: parseFloat(t.hasAttribute("y") ? t.getAttribute("y") : t.hasAttribute("cy") ? t.getAttribute("cy") : 0) || 0, width: 0, height: 0 }), a = [(-1 !== (e = at(e).split(" "))[0].indexOf("%") ? parseFloat(e[0]) / 100 * d.width : parseFloat(e[0])) + d.x, (-1 !== e[1].indexOf("%") ? parseFloat(e[1]) / 100 * d.height : parseFloat(e[1])) + d.y]), r.xOrigin = h = parseFloat(a[0]), r.yOrigin = c = parseFloat(a[1]), n && T !== Ut && (f = T[0], d = T[1], p = T[2], g = T[3], m = T[4], v = T[5], (y = f * g - d * p) && (u = h * (g / y) + c * (-p / y) + (p * v - g * m) / y, l = h * (-d / y) + c * (f / y) - (f * v - d * m) / y, h = r.xOrigin = a[0] = u, c = r.yOrigin = a[1] = l)), b && (o && (r.xOffset = b.xOffset, r.yOffset = b.yOffset, b = r), i || !1 !== i && !1 !== s.defaultSmoothOrigin ? (u = h - _, l = c - x, b.xOffset += u * T[0] + l * T[2] - u, b.yOffset += u * T[1] + l * T[3] - l) : b.xOffset = b.yOffset = 0), o || t.setAttribute("data-svg-origin", a.join(" ")) }, Nt = function (t) { var e, r = z("svg", this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"), n = this.parentNode, i = this.nextSibling, o = this.style.cssText; if (Ft.appendChild(r), r.appendChild(this), this.style.display = "block", t) try { e = this.getBBox(), this._originalGetBBox = this.getBBox, this.getBBox = Nt } catch (t) { } else this._originalGetBBox && (e = this._originalGetBBox()); return i ? n.insertBefore(this, i) : n.appendChild(this), Ft.removeChild(r), this.style.cssText = o, e }, Bt = function (t) { return !(!(It && t.getCTM && function (t) { try { return t.getBBox() } catch (e) { return Nt.call(t, !0) } }(t)) || t.parentNode && !t.ownerSVGElement) }, Ut = [1, 0, 0, 1, 0, 0], zt = function (t, e) { var r, n, i, o, s, a, u = t._gsTransform || new Dt, l = t.style; if (Pt ? n = J(t, At, null, !0) : t.currentStyle && (n = (n = t.currentStyle.filter.match(D)) && 4 === n.length ? [n[0].substr(4), Number(n[2].substr(4)), Number(n[1].substr(4)), n[3].substr(4), u.x || 0, u.y || 0].join(",") : ""), (r = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n) && Pt && ((a = "none" === Q(t).display) || !t.parentNode) && (a && (o = l.display, l.display = "block"), t.parentNode || (s = 1, Ft.appendChild(t)), r = !(n = J(t, At, null, !0)) || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n, o ? l.display = o : a && Yt(l, "display"), s && Ft.removeChild(t)), (u.svg || t.getCTM && Bt(t)) && (r && -1 !== (l[Pt] + "").indexOf("matrix") && (n = l[Pt], r = 0), i = t.getAttribute("transform"), r && i && (-1 !== i.indexOf("matrix") ? (n = i, r = 0) : -1 !== i.indexOf("translate") && (n = "matrix(1,0,0,1," + i.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")", r = 0))), r) return Ut; for (i = (n || "").match(y) || [], Tt = i.length; --Tt > -1;)o = Number(i[Tt]), i[Tt] = (s = o - (o |= 0)) ? (1e5 * s + (0 > s ? -.5 : .5) | 0) / 1e5 + o : o; return e && i.length > 6 ? [i[0], i[1], i[4], i[5], i[12], i[13]] : i }, Xt = H.getTransform = function (t, r, n, i) { if (t._gsTransform && n && !i) return t._gsTransform; var o, a, u, l, h, c, f = n && t._gsTransform || new Dt, d = f.scaleX < 0, p = 1e5, g = Rt && (parseFloat(J(t, Mt, r, !1, "0 0 0").split(" ")[2]) || f.zOrigin) || 0, m = parseFloat(s.defaultTransformPerspective) || 0; if (f.svg = !(!t.getCTM || !Bt(t)), f.svg && (jt(t, J(t, Mt, r, !1, "50% 50%") + "", f, t.getAttribute("data-svg-origin")), Et = s.useSVGTransformAttr || kt), (o = zt(t)) !== Ut) { if (16 === o.length) { var v, y, _, x, b, T = o[0], w = o[1], S = o[2], C = o[3], E = o[4], O = o[5], P = o[6], A = o[7], M = o[8], R = o[9], D = o[10], I = o[12], L = o[13], F = o[14], k = o[11], N = Math.atan2(P, D); f.zOrigin && (I = M * (F = -f.zOrigin) - o[12], L = R * F - o[13], F = D * F + f.zOrigin - o[14]), f.rotationX = N * j, N && (v = E * (x = Math.cos(-N)) + M * (b = Math.sin(-N)), y = O * x + R * b, _ = P * x + D * b, M = E * -b + M * x, R = O * -b + R * x, D = P * -b + D * x, k = A * -b + k * x, E = v, O = y, P = _), N = Math.atan2(-S, D), f.rotationY = N * j, N && (y = w * (x = Math.cos(-N)) - R * (b = Math.sin(-N)), _ = S * x - D * b, R = w * b + R * x, D = S * b + D * x, k = C * b + k * x, T = v = T * x - M * b, w = y, S = _), N = Math.atan2(w, T), f.rotation = N * j, N && (T = T * (x = Math.cos(-N)) + E * (b = Math.sin(-N)), y = w * x + O * b, O = w * -b + O * x, P = S * -b + P * x, w = y), f.rotationX && Math.abs(f.rotationX) + Math.abs(f.rotation) > 359.9 && (f.rotationX = f.rotation = 0, f.rotationY = 180 - f.rotationY), f.scaleX = (Math.sqrt(T * T + w * w) * p + .5 | 0) / p, f.scaleY = (Math.sqrt(O * O + R * R) * p + .5 | 0) / p, f.scaleZ = (Math.sqrt(P * P + D * D) * p + .5 | 0) / p, f.rotationX || f.rotationY ? f.skewX = 0 : (f.skewX = E || O ? Math.atan2(E, O) * j + f.rotation : f.skewX || 0, Math.abs(f.skewX) > 90 && Math.abs(f.skewX) < 270 && (d ? (f.scaleX *= -1, f.skewX += f.rotation <= 0 ? 180 : -180, f.rotation += f.rotation <= 0 ? 180 : -180) : (f.scaleY *= -1, f.skewX += f.skewX <= 0 ? 180 : -180))), f.perspective = k ? 1 / (0 > k ? -k : k) : 0, f.x = I, f.y = L, f.z = F, f.svg && (f.x -= f.xOrigin - (f.xOrigin * T - f.yOrigin * E), f.y -= f.yOrigin - (f.yOrigin * w - f.xOrigin * O)) } else if (!Rt || i || !o.length || f.x !== o[4] || f.y !== o[5] || !f.rotationX && !f.rotationY) { var B = o.length >= 6, U = B ? o[0] : 1, z = o[1] || 0, X = o[2] || 0, W = B ? o[3] : 1; f.x = o[4] || 0, f.y = o[5] || 0, u = Math.sqrt(U * U + z * z), l = Math.sqrt(W * W + X * X), h = U || z ? Math.atan2(z, U) * j : f.rotation || 0, c = X || W ? Math.atan2(X, W) * j + h : f.skewX || 0, Math.abs(c) > 90 && Math.abs(c) < 270 && (d ? (u *= -1, c += 0 >= h ? 180 : -180, h += 0 >= h ? 180 : -180) : (l *= -1, c += 0 >= c ? 180 : -180)), f.scaleX = u, f.scaleY = l, f.rotation = h, f.skewX = c, Rt && (f.rotationX = f.rotationY = f.z = 0, f.perspective = m, f.scaleZ = 1), f.svg && (f.x -= f.xOrigin - (f.xOrigin * U + f.yOrigin * X), f.y -= f.yOrigin - (f.xOrigin * z + f.yOrigin * W)) } for (a in f.zOrigin = g, f) f[a] < 2e-5 && f[a] > -2e-5 && (f[a] = 0) } return n && (t._gsTransform = f, f.svg && (Et && t.style[Pt] ? e.delayedCall(.001, function () { Yt(t.style, Pt) }) : !Et && t.getAttribute("transform") && e.delayedCall(.001, function () { t.removeAttribute("transform") }))), f }, Wt = function (t) { var e, r, n = this.data, i = -n.rotation * k, o = i + n.skewX * k, s = 1e5, a = (Math.cos(i) * n.scaleX * s | 0) / s, u = (Math.sin(i) * n.scaleX * s | 0) / s, l = (Math.sin(o) * -n.scaleY * s | 0) / s, h = (Math.cos(o) * n.scaleY * s | 0) / s, c = this.t.style, f = this.t.currentStyle; if (f) { r = u, u = -l, l = -r, e = f.filter, c.filter = ""; var d, p, m = this.t.offsetWidth, v = this.t.offsetHeight, y = "absolute" !== f.position, _ = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + u + ", M21=" + l + ", M22=" + h, x = n.x + m * n.xPercent / 100, b = n.y + v * n.yPercent / 100; if (null != n.ox && (x += (d = (n.oxp ? m * n.ox * .01 : n.ox) - m / 2) - (d * a + (p = (n.oyp ? v * n.oy * .01 : n.oy) - v / 2) * u), b += p - (d * l + p * h)), y ? _ += ", Dx=" + ((d = m / 2) - (d * a + (p = v / 2) * u) + x) + ", Dy=" + (p - (d * l + p * h) + b) + ")" : _ += ", sizingMethod='auto expand')", -1 !== e.indexOf("DXImageTransform.Microsoft.Matrix(") ? c.filter = e.replace(I, _) : c.filter = _ + " " + e, (0 === t || 1 === t) && 1 === a && 0 === u && 0 === l && 1 === h && (y && -1 === _.indexOf("Dx=0, Dy=0") || w.test(e) && 100 !== parseFloat(RegExp.$1) || -1 === e.indexOf(e.indexOf("Alpha")) && c.removeAttribute("filter")), !y) { var S, C, E, O = 8 > g ? 1 : -1; for (d = n.ieOffsetX || 0, p = n.ieOffsetY || 0, n.ieOffsetX = Math.round((m - ((0 > a ? -a : a) * m + (0 > u ? -u : u) * v)) / 2 + x), n.ieOffsetY = Math.round((v - ((0 > h ? -h : h) * v + (0 > l ? -l : l) * m)) / 2 + b), Tt = 0; 4 > Tt; Tt++)E = (r = -1 !== (S = f[C = ot[Tt]]).indexOf("px") ? parseFloat(S) : tt(this.t, C, parseFloat(S), S.replace(T, "")) || 0) !== n[C] ? 2 > Tt ? -n.ieOffsetX : -n.ieOffsetY : 2 > Tt ? d - n.ieOffsetX : p - n.ieOffsetY, c[C] = (n[C] = Math.round(r - E * (0 === Tt || 2 === Tt ? 1 : O))) + "px" } } }, Ht = H.set3DTransformRatio = H.setTransformRatio = function (t) { var e, r, n, i, o, s, a, u, l, h, c, f, p, g, m, v, y, _, x, b, T, w, S, C = this.data, E = this.t.style, O = C.rotation, P = C.rotationX, A = C.rotationY, M = C.scaleX, R = C.scaleY, D = C.scaleZ, I = C.x, L = C.y, F = C.z, j = C.svg, N = C.perspective, B = C.force3D, U = C.skewY, z = C.skewX; if (U && (z += U, O += U), !((1 !== t && 0 !== t || "auto" !== B || this.tween._totalTime !== this.tween._totalDuration && this.tween._totalTime) && B || F || N || A || P || 1 !== D) || Et && j || !Rt) O || z || j ? (O *= k, w = z * k, S = 1e5, r = Math.cos(O) * M, o = Math.sin(O) * M, n = Math.sin(O - w) * -R, s = Math.cos(O - w) * R, w && "simple" === C.skewType && (e = Math.tan(w - U * k), n *= e = Math.sqrt(1 + e * e), s *= e, U && (e = Math.tan(U * k), r *= e = Math.sqrt(1 + e * e), o *= e)), j && (I += C.xOrigin - (C.xOrigin * r + C.yOrigin * n) + C.xOffset, L += C.yOrigin - (C.xOrigin * o + C.yOrigin * s) + C.yOffset, Et && (C.xPercent || C.yPercent) && (m = this.t.getBBox(), I += .01 * C.xPercent * m.width, L += .01 * C.yPercent * m.height), (m = 1e-6) > I && I > -m && (I = 0), m > L && L > -m && (L = 0)), x = (r * S | 0) / S + "," + (o * S | 0) / S + "," + (n * S | 0) / S + "," + (s * S | 0) / S + "," + I + "," + L + ")", j && Et ? this.t.setAttribute("transform", "matrix(" + x) : E[Pt] = (C.xPercent || C.yPercent ? "translate(" + C.xPercent + "%," + C.yPercent + "%) matrix(" : "matrix(") + x) : E[Pt] = (C.xPercent || C.yPercent ? "translate(" + C.xPercent + "%," + C.yPercent + "%) matrix(" : "matrix(") + M + ",0,0," + R + "," + I + "," + L + ")"; else { if (d && ((m = 1e-4) > M && M > -m && (M = D = 2e-5), m > R && R > -m && (R = D = 2e-5), !N || C.z || C.rotationX || C.rotationY || (N = 0)), O || z) O *= k, v = r = Math.cos(O), y = o = Math.sin(O), z && (O -= z * k, v = Math.cos(O), y = Math.sin(O), "simple" === C.skewType && (e = Math.tan((z - U) * k), v *= e = Math.sqrt(1 + e * e), y *= e, C.skewY && (e = Math.tan(U * k), r *= e = Math.sqrt(1 + e * e), o *= e))), n = -y, s = v; else { if (!(A || P || 1 !== D || N || j)) return void (E[Pt] = (C.xPercent || C.yPercent ? "translate(" + C.xPercent + "%," + C.yPercent + "%) translate3d(" : "translate3d(") + I + "px," + L + "px," + F + "px)" + (1 !== M || 1 !== R ? " scale(" + M + "," + R + ")" : "")); r = s = 1, n = o = 0 } h = 1, i = a = u = l = c = f = 0, p = N ? -1 / N : 0, g = C.zOrigin, m = 1e-6, b = ",", T = "0", (O = A * k) && (v = Math.cos(O), u = -(y = Math.sin(O)), c = p * -y, i = r * y, a = o * y, h = v, p *= v, r *= v, o *= v), (O = P * k) && (e = n * (v = Math.cos(O)) + i * (y = Math.sin(O)), _ = s * v + a * y, l = h * y, f = p * y, i = n * -y + i * v, a = s * -y + a * v, h *= v, p *= v, n = e, s = _), 1 !== D && (i *= D, a *= D, h *= D, p *= D), 1 !== R && (n *= R, s *= R, l *= R, f *= R), 1 !== M && (r *= M, o *= M, u *= M, c *= M), (g || j) && (g && (I += i * -g, L += a * -g, F += h * -g + g), j && (I += C.xOrigin - (C.xOrigin * r + C.yOrigin * n) + C.xOffset, L += C.yOrigin - (C.xOrigin * o + C.yOrigin * s) + C.yOffset), m > I && I > -m && (I = T), m > L && L > -m && (L = T), m > F && F > -m && (F = 0)), x = C.xPercent || C.yPercent ? "translate(" + C.xPercent + "%," + C.yPercent + "%) matrix3d(" : "matrix3d(", x += (m > r && r > -m ? T : r) + b + (m > o && o > -m ? T : o) + b + (m > u && u > -m ? T : u), x += b + (m > c && c > -m ? T : c) + b + (m > n && n > -m ? T : n) + b + (m > s && s > -m ? T : s), P || A || 1 !== D ? (x += b + (m > l && l > -m ? T : l) + b + (m > f && f > -m ? T : f) + b + (m > i && i > -m ? T : i), x += b + (m > a && a > -m ? T : a) + b + (m > h && h > -m ? T : h) + b + (m > p && p > -m ? T : p) + b) : x += ",0,0,0,0,1,0,", x += I + b + L + b + F + b + (N ? 1 + -F / N : 1) + ")", E[Pt] = x } }; (l = Dt.prototype).x = l.y = l.z = l.skewX = l.skewY = l.rotation = l.rotationX = l.rotationY = l.zOrigin = l.xPercent = l.yPercent = l.xOffset = l.yOffset = 0, l.scaleX = l.scaleY = l.scaleZ = 1, St("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", { parser: function (t, e, r, n, o, a, u) { if (n._lastParsedTransform === u) return o; n._lastParsedTransform = u; var l, h = u.scale && "function" == typeof u.scale ? u.scale : 0; "function" == typeof u[r] && (l = u[r], u[r] = e), h && (u.scale = h(v, t)); var c, f, d, p, g, y, _, x, b, T = t._gsTransform, w = t.style, S = Ot.length, C = u, E = {}, O = "transformOrigin", P = Xt(t, i, !0, C.parseTransform), A = C.transform && ("function" == typeof C.transform ? C.transform(v, m) : C.transform); if (n._transform = P, A && "string" == typeof A && Pt) (f = X.style)[Pt] = A, f.display = "block", f.position = "absolute", U.body.appendChild(X), c = Xt(X, null, !1), P.svg && (y = P.xOrigin, _ = P.yOrigin, c.x -= P.xOffset, c.y -= P.yOffset, (C.transformOrigin || C.svgOrigin) && (A = {}, jt(t, at(C.transformOrigin), A, C.svgOrigin, C.smoothOrigin, !0), y = A.xOrigin, _ = A.yOrigin, c.x -= A.xOffset - P.xOffset, c.y -= A.yOffset - P.yOffset), (y || _) && (x = zt(X, !0), c.x -= y - (y * x[0] + _ * x[2]), c.y -= _ - (y * x[1] + _ * x[3]))), U.body.removeChild(X), c.perspective || (c.perspective = P.perspective), null != C.xPercent && (c.xPercent = lt(C.xPercent, P.xPercent)), null != C.yPercent && (c.yPercent = lt(C.yPercent, P.yPercent)); else if ("object" == typeof C) { if (c = { scaleX: lt(null != C.scaleX ? C.scaleX : C.scale, P.scaleX), scaleY: lt(null != C.scaleY ? C.scaleY : C.scale, P.scaleY), scaleZ: lt(C.scaleZ, P.scaleZ), x: lt(C.x, P.x), y: lt(C.y, P.y), z: lt(C.z, P.z), xPercent: lt(C.xPercent, P.xPercent), yPercent: lt(C.yPercent, P.yPercent), perspective: lt(C.transformPerspective, P.perspective) }, null != (g = C.directionalRotation)) if ("object" == typeof g) for (f in g) C[f] = g[f]; else C.rotation = g; "string" == typeof C.x && -1 !== C.x.indexOf("%") && (c.x = 0, c.xPercent = lt(C.x, P.xPercent)), "string" == typeof C.y && -1 !== C.y.indexOf("%") && (c.y = 0, c.yPercent = lt(C.y, P.yPercent)), c.rotation = ht("rotation" in C ? C.rotation : "shortRotation" in C ? C.shortRotation + "_short" : "rotationZ" in C ? C.rotationZ : P.rotation, P.rotation, "rotation", E), Rt && (c.rotationX = ht("rotationX" in C ? C.rotationX : "shortRotationX" in C ? C.shortRotationX + "_short" : P.rotationX || 0, P.rotationX, "rotationX", E), c.rotationY = ht("rotationY" in C ? C.rotationY : "shortRotationY" in C ? C.shortRotationY + "_short" : P.rotationY || 0, P.rotationY, "rotationY", E)), c.skewX = ht(C.skewX, P.skewX), c.skewY = ht(C.skewY, P.skewY) } for (Rt && null != C.force3D && (P.force3D = C.force3D, p = !0), P.skewType = C.skewType || P.skewType || s.defaultSkewType, (d = P.force3D || P.z || P.rotationX || P.rotationY || c.z || c.rotationX || c.rotationY || c.perspective) || null == C.scale || (c.scaleZ = 1); --S > -1;)((A = c[b = Ot[S]] - P[b]) > 1e-6 || -1e-6 > A || null != C[b] || null != N[b]) && (p = !0, o = new _t(P, b, P[b], A, o), b in E && (o.e = E[b]), o.xs0 = 0, o.plugin = a, n._overwriteProps.push(o.n)); return A = C.transformOrigin, P.svg && (A || C.svgOrigin) && (y = P.xOffset, _ = P.yOffset, jt(t, at(A), c, C.svgOrigin, C.smoothOrigin), o = xt(P, "xOrigin", (T ? P : c).xOrigin, c.xOrigin, o, O), o = xt(P, "yOrigin", (T ? P : c).yOrigin, c.yOrigin, o, O), (y !== P.xOffset || _ !== P.yOffset) && (o = xt(P, "xOffset", T ? y : P.xOffset, P.xOffset, o, O), o = xt(P, "yOffset", T ? _ : P.yOffset, P.yOffset, o, O)), A = "0px 0px"), (A || Rt && d && P.zOrigin) && (Pt ? (p = !0, b = Mt, A = (A || J(t, b, i, !1, "50% 50%")) + "", (o = new _t(w, b, 0, 0, o, -1, O)).b = w[b], o.plugin = a, Rt ? (f = P.zOrigin, A = A.split(" "), P.zOrigin = (A.length > 2 && (0 === f || "0px" !== A[2]) ? parseFloat(A[2]) : f) || 0, o.xs0 = o.e = A[0] + " " + (A[1] || "50%") + " 0px", (o = new _t(P, "zOrigin", 0, 0, o, -1, o.n)).b = f, o.xs0 = o.e = P.zOrigin) : o.xs0 = o.e = A) : at(A + "", P)), p && (n._transformType = P.svg && Et || !d && 3 !== this._transformType ? 2 : 3), l && (u[r] = l), h && (u.scale = h), o }, prefix: !0 }), St("boxShadow", { defaultValue: "0px 0px 0px 0px #999", prefix: !0, color: !0, multi: !0, keyword: "inset" }), St("borderRadius", { defaultValue: "0px", parser: function (t, e, r, o, s, a) { e = this.format(e); var u, l, h, c, f, d, p, g, m, v, y, _, x, b, T, w, S = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"], C = t.style; for (m = parseFloat(t.offsetWidth), v = parseFloat(t.offsetHeight), u = e.split(" "), l = 0; l < S.length; l++)this.p.indexOf("border") && (S[l] = Z(S[l])), -1 !== (f = c = J(t, S[l], i, !1, "0px")).indexOf(" ") && (c = f.split(" "), f = c[0], c = c[1]), d = h = u[l], p = parseFloat(f), _ = f.substr((p + "").length), (x = "=" === d.charAt(1)) ? (g = parseInt(d.charAt(0) + "1", 10), d = d.substr(2), g *= parseFloat(d), y = d.substr((g + "").length - (0 > g ? 1 : 0)) || "") : (g = parseFloat(d), y = d.substr((g + "").length)), "" === y && (y = n[r] || _), y !== _ && (b = tt(t, "borderLeft", p, _), T = tt(t, "borderTop", p, _), "%" === y ? (f = b / m * 100 + "%", c = T / v * 100 + "%") : "em" === y ? (f = b / (w = tt(t, "borderLeft", 1, "em")) + "em", c = T / w + "em") : (f = b + "px", c = T + "px"), x && (d = parseFloat(f) + g + y, h = parseFloat(c) + g + y)), s = bt(C, S[l], f + " " + c, d + " " + h, !1, "0px", s); return s }, prefix: !0, formatter: mt("0px 0px 0px 0px", !1, !0) }), St("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", { defaultValue: "0px", parser: function (t, e, r, n, o, s) { return bt(t.style, r, this.format(J(t, r, i, !1, "0px 0px")), this.format(e), !1, "0px", o) }, prefix: !0, formatter: mt("0px 0px", !1, !0) }), St("backgroundPosition", { defaultValue: "0 0", parser: function (t, e, r, n, o, s) { var a, u, l, h, c, f, d = "background-position", p = i || Q(t, null), m = this.format((p ? g ? p.getPropertyValue(d + "-x") + " " + p.getPropertyValue(d + "-y") : p.getPropertyValue(d) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"), v = this.format(e); if (-1 !== m.indexOf("%") != (-1 !== v.indexOf("%")) && v.split(",").length < 2 && ((f = J(t, "backgroundImage").replace(A, "")) && "none" !== f)) { for (a = m.split(" "), u = v.split(" "), W.setAttribute("src", f), l = 2; --l > -1;)(h = -1 !== (m = a[l]).indexOf("%")) !== (-1 !== u[l].indexOf("%")) && (c = 0 === l ? t.offsetWidth - W.width : t.offsetHeight - W.height, a[l] = h ? parseFloat(m) / 100 * c + "px" : parseFloat(m) / c * 100 + "%"); m = a.join(" ") } return this.parseComplex(t.style, m, v, o, s) }, formatter: at }), St("backgroundSize", { defaultValue: "0 0", formatter: function (t) { return at(-1 === (t += "").indexOf(" ") ? t + " " + t : t) } }), St("perspective", { defaultValue: "0px", prefix: !0 }), St("perspectiveOrigin", { defaultValue: "50% 50%", prefix: !0 }), St("transformStyle", { prefix: !0 }), St("backfaceVisibility", { prefix: !0 }), St("userSelect", { prefix: !0 }), St("margin", { parser: vt("marginTop,marginRight,marginBottom,marginLeft") }), St("padding", { parser: vt("paddingTop,paddingRight,paddingBottom,paddingLeft") }), St("clip", { defaultValue: "rect(0px,0px,0px,0px)", parser: function (t, e, r, n, o, s) { var a, u, l; return 9 > g ? (u = t.currentStyle, l = 8 > g ? " " : ",", a = "rect(" + u.clipTop + l + u.clipRight + l + u.clipBottom + l + u.clipLeft + ")", e = this.format(e).split(",").join(l)) : (a = this.format(J(t, this.p, i, !1, this.dflt)), e = this.format(e)), this.parseComplex(t.style, a, e, o, s) } }), St("textShadow", { defaultValue: "0px 0px 0px #999", color: !0, multi: !0 }), St("autoRound,strictUnits", { parser: function (t, e, r, n, i) { return i } }), St("border", { defaultValue: "0px solid #000", parser: function (t, e, r, n, o, s) { var a = J(t, "borderTopWidth", i, !1, "0px"), u = this.format(e).split(" "), l = u[0].replace(T, ""); return "px" !== l && (a = parseFloat(a) / tt(t, "borderTopWidth", 1, l) + l), this.parseComplex(t.style, this.format(a + " " + J(t, "borderTopStyle", i, !1, "solid") + " " + J(t, "borderTopColor", i, !1, "#000")), u.join(" "), o, s) }, color: !0, formatter: function (t) { var e = t.split(" "); return e[0] + " " + (e[1] || "solid") + " " + (t.match(gt) || ["#000"])[0] } }), St("borderWidth", { parser: vt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth") }), St("float,cssFloat,styleFloat", { parser: function (t, e, r, n, i, o) { var s = t.style, a = "cssFloat" in s ? "cssFloat" : "styleFloat"; return new _t(s, a, 0, 0, i, -1, r, !1, 0, s[a], e) } }); var Gt = function (t) { var e, r = this.t, n = r.filter || J(this.data, "filter") || "", i = this.s + this.c * t | 0; 100 === i && (-1 === n.indexOf("atrix(") && -1 === n.indexOf("radient(") && -1 === n.indexOf("oader(") ? (r.removeAttribute("filter"), e = !J(this.data, "filter")) : (r.filter = n.replace(C, ""), e = !0)), e || (this.xn1 && (r.filter = n = n || "alpha(opacity=" + i + ")"), -1 === n.indexOf("pacity") ? 0 === i && this.xn1 || (r.filter = n + " alpha(opacity=" + i + ")") : r.filter = n.replace(w, "opacity=" + i)) }; St("opacity,alpha,autoAlpha", { defaultValue: "1", parser: function (t, e, r, n, o, s) { var a = parseFloat(J(t, "opacity", i, !1, "1")), u = t.style, l = "autoAlpha" === r; return "string" == typeof e && "=" === e.charAt(1) && (e = ("-" === e.charAt(0) ? -1 : 1) * parseFloat(e.substr(2)) + a), l && 1 === a && "hidden" === J(t, "visibility", i) && 0 !== e && (a = 0), Y ? o = new _t(u, "opacity", a, e - a, o) : ((o = new _t(u, "opacity", 100 * a, 100 * (e - a), o)).xn1 = l ? 1 : 0, u.zoom = 1, o.type = 2, o.b = "alpha(opacity=" + o.s + ")", o.e = "alpha(opacity=" + (o.s + o.c) + ")", o.data = t, o.plugin = s, o.setRatio = Gt), l && ((o = new _t(u, "visibility", 0, 0, o, -1, null, !1, 0, 0 !== a ? "inherit" : "hidden", 0 === e ? "hidden" : "inherit")).xs0 = "inherit", n._overwriteProps.push(o.n), n._overwriteProps.push(r)), o } }); var Yt = function (t, e) { e && (t.removeProperty ? (("ms" === e.substr(0, 2) || "webkit" === e.substr(0, 6)) && (e = "-" + e), t.removeProperty(e.replace(O, "-$1").toLowerCase())) : t.removeAttribute(e)) }, qt = function (t) { if (this.t._gsClassPT = this, 1 === t || 0 === t) { this.t.setAttribute("class", 0 === t ? this.b : this.e); for (var e = this.data, r = this.t.style; e;)e.v ? r[e.p] = e.v : Yt(r, e.p), e = e._next; 1 === t && this.t._gsClassPT === this && (this.t._gsClassPT = null) } else this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e) }; St("className", { parser: function (t, e, n, o, s, a, u) { var l, h, c, f, d, p = t.getAttribute("class") || "", g = t.style.cssText; if ((s = o._classNamePT = new _t(t, n, 0, 0, s, 2)).setRatio = qt, s.pr = -11, r = !0, s.b = p, h = rt(t, i), c = t._gsClassPT) { for (f = {}, d = c.data; d;)f[d.p] = 1, d = d._next; c.setRatio(1) } return t._gsClassPT = s, s.e = "=" !== e.charAt(1) ? e : p.replace(new RegExp("(?:\\s|^)" + e.substr(2) + "(?![\\w-])"), "") + ("+" === e.charAt(0) ? " " + e.substr(2) : ""), t.setAttribute("class", s.e), l = nt(t, h, rt(t), u, f), t.setAttribute("class", p), s.data = l.firstMPT, t.style.cssText = g, s.xfirst = o.parse(t, l.difs, s, a) } }); var Vt = function (t) { if ((1 === t || 0 === t) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) { var e, r, n, i, o, s = this.t.style, a = u.transform.parse; if ("all" === this.e) s.cssText = "", i = !0; else for (n = (e = this.e.split(" ").join("").split(",")).length; --n > -1;)r = e[n], u[r] && (u[r].parse === a ? i = !0 : r = "transformOrigin" === r ? Mt : u[r].p), Yt(s, r); i && (Yt(s, Pt), (o = this.t._gsTransform) && (o.svg && (this.t.removeAttribute("data-svg-origin"), this.t.removeAttribute("transform")), delete this.t._gsTransform)) } }; for (St("clearProps", { parser: function (t, e, n, i, o) { return (o = new _t(t, n, 0, 0, o, 2)).setRatio = Vt, o.e = e, o.pr = -10, o.data = i._tween, r = !0, o } }), l = "bezier,throwProps,physicsProps,physics2D".split(","), Tt = l.length; Tt--;)Ct(l[Tt]); (l = s.prototype)._firstPT = l._lastParsedTransform = l._transform = null, l._onInitTween = function (t, e, a, l) { if (!t.nodeType) return !1; this._target = m = t, this._tween = a, this._vars = e, v = l, h = e.autoRound, r = !1, n = e.suffixMap || s.suffixMap, i = Q(t, ""), o = this._overwriteProps; var d, g, y, _, x, b, T, w, C, E = t.style; if (c && "" === E.zIndex && (("auto" === (d = J(t, "zIndex", i)) || "" === d) && this._addLazySet(E, "zIndex", 0)), "string" == typeof e && (_ = E.cssText, d = rt(t, i), E.cssText = _ + ";" + e, d = nt(t, d, rt(t)).difs, !Y && S.test(e) && (d.opacity = parseFloat(RegExp.$1)), e = d, E.cssText = _), e.className ? this._firstPT = g = u.className.parse(t, e.className, "className", this, null, null, e) : this._firstPT = g = this.parse(t, e, null), this._transformType) { for (C = 3 === this._transformType, Pt ? f && (c = !0, "" === E.zIndex && (("auto" === (T = J(t, "zIndex", i)) || "" === T) && this._addLazySet(E, "zIndex", 0)), p && this._addLazySet(E, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (C ? "visible" : "hidden"))) : E.zoom = 1, y = g; y && y._next;)y = y._next; w = new _t(t, "transform", 0, 0, null, 2), this._linkCSSP(w, null, y), w.setRatio = Pt ? Ht : Wt, w.data = this._transform || Xt(t, i, !0), w.tween = a, w.pr = -1, o.pop() } if (r) { for (; g;) { for (b = g._next, y = _; y && y.pr > g.pr;)y = y._next; (g._prev = y ? y._prev : x) ? g._prev._next = g : _ = g, (g._next = y) ? y._prev = g : x = g, g = b } this._firstPT = _ } return !0 }, l.parse = function (t, e, r, o) { var s, a, l, c, f, d, p, g, y, _, x = t.style; for (s in e) "function" == typeof (d = e[s]) && (d = d(v, m)), (a = u[s]) ? r = a.parse(t, d, s, this, r, o, e) : (f = J(t, s, i) + "", y = "string" == typeof d, "color" === s || "fill" === s || "stroke" === s || -1 !== s.indexOf("Color") || y && E.test(d) ? (y || (d = ((d = dt(d)).length > 3 ? "rgba(" : "rgb(") + d.join(",") + ")"), r = bt(x, s, f, d, !0, "transparent", r, 0, o)) : y && F.test(d) ? r = bt(x, s, f, d, !0, null, r, 0, o) : (p = (l = parseFloat(f)) || 0 === l ? f.substr((l + "").length) : "", ("" === f || "auto" === f) && ("width" === s || "height" === s ? (l = st(t, s, i), p = "px") : "left" === s || "top" === s ? (l = et(t, s, i), p = "px") : (l = "opacity" !== s ? 0 : 1, p = "")), (_ = y && "=" === d.charAt(1)) ? (c = parseInt(d.charAt(0) + "1", 10), d = d.substr(2), c *= parseFloat(d), g = d.replace(T, "")) : (c = parseFloat(d), g = y ? d.replace(T, "") : ""), "" === g && (g = s in n ? n[s] : p), d = c || 0 === c ? (_ ? c + l : c) + g : e[s], p !== g && "" !== g && (c || 0 === c) && l && (l = tt(t, s, l, p), "%" === g ? (l /= tt(t, s, 100, "%") / 100, !0 !== e.strictUnits && (f = l + "%")) : "em" === g || "rem" === g || "vw" === g || "vh" === g ? l /= tt(t, s, 1, g) : "px" !== g && (c = tt(t, s, c, g), g = "px"), _ && (c || 0 === c) && (d = c + l + g)), _ && (c += l), !l && 0 !== l || !c && 0 !== c ? void 0 !== x[s] && (d || d + "" != "NaN" && null != d) ? (r = new _t(x, s, c || l || 0, 0, r, -1, s, !1, 0, f, d)).xs0 = "none" !== d || "display" !== s && -1 === s.indexOf("Style") ? d : f : V("invalid " + s + " tween value: " + e[s]) : (r = new _t(x, s, l, c - l, r, 0, s, !1 !== h && ("px" === g || "zIndex" === s), 0, f, d)).xs0 = g)), o && r && !r.plugin && (r.plugin = o); return r }, l.setRatio = function (t) { var e, r, n, i = this._firstPT; if (1 !== t || this._tween._time !== this._tween._duration && 0 !== this._tween._time) if (t || this._tween._time !== this._tween._duration && 0 !== this._tween._time || -1e-6 === this._tween._rawPrevTime) for (; i;) { if (e = i.c * t + i.s, i.r ? e = Math.round(e) : 1e-6 > e && e > -1e-6 && (e = 0), i.type) if (1 === i.type) if (2 === (n = i.l)) i.t[i.p] = i.xs0 + e + i.xs1 + i.xn1 + i.xs2; else if (3 === n) i.t[i.p] = i.xs0 + e + i.xs1 + i.xn1 + i.xs2 + i.xn2 + i.xs3; else if (4 === n) i.t[i.p] = i.xs0 + e + i.xs1 + i.xn1 + i.xs2 + i.xn2 + i.xs3 + i.xn3 + i.xs4; else if (5 === n) i.t[i.p] = i.xs0 + e + i.xs1 + i.xn1 + i.xs2 + i.xn2 + i.xs3 + i.xn3 + i.xs4 + i.xn4 + i.xs5; else { for (r = i.xs0 + e + i.xs1, n = 1; n < i.l; n++)r += i["xn" + n] + i["xs" + (n + 1)]; i.t[i.p] = r } else -1 === i.type ? i.t[i.p] = i.xs0 : i.setRatio && i.setRatio(t); else i.t[i.p] = e + i.xs0; i = i._next } else for (; i;)2 !== i.type ? i.t[i.p] = i.b : i.setRatio(t), i = i._next; else for (; i;) { if (2 !== i.type) if (i.r && -1 !== i.type) if (e = Math.round(i.s + i.c), i.type) { if (1 === i.type) { for (n = i.l, r = i.xs0 + e + i.xs1, n = 1; n < i.l; n++)r += i["xn" + n] + i["xs" + (n + 1)]; i.t[i.p] = r } } else i.t[i.p] = e + i.xs0; else i.t[i.p] = i.e; else i.setRatio(t); i = i._next } }, l._enableTransforms = function (t) { this._transform = this._transform || Xt(this._target, i, !0), this._transformType = this._transform.svg && Et || !t && 3 !== this._transformType ? 2 : 3 }; var $t = function (t) { this.t[this.p] = this.e, this.data._linkCSSP(this, this._next, null, !0) }; l._addLazySet = function (t, e, r) { var n = this._firstPT = new _t(t, e, 0, 0, this._firstPT, 2); n.e = r, n.setRatio = $t, n.data = this }, l._linkCSSP = function (t, e, r, n) { return t && (e && (e._prev = t), t._next && (t._next._prev = t._prev), t._prev ? t._prev._next = t._next : this._firstPT === t && (this._firstPT = t._next, n = !0), r ? r._next = t : n || null !== this._firstPT || (this._firstPT = t), t._next = e, t._prev = r), t }, l._mod = function (t) { for (var e = this._firstPT; e;)"function" == typeof t[e.p] && t[e.p] === Math.round && (e.r = 1), e = e._next }, l._kill = function (e) { var r, n, i, o = e; if (e.autoAlpha || e.alpha) { for (n in o = {}, e) o[n] = e[n]; o.opacity = 1, o.autoAlpha && (o.visibility = 1) } for (e.className && (r = this._classNamePT) && ((i = r.xfirst) && i._prev ? this._linkCSSP(i._prev, r._next, i._prev._prev) : i === this._firstPT && (this._firstPT = r._next), r._next && this._linkCSSP(r._next, r._next._next, i._prev), this._classNamePT = null), r = this._firstPT; r;)r.plugin && r.plugin !== n && r.plugin._kill && (r.plugin._kill(e), n = r.plugin), r = r._next; return t.prototype._kill.call(this, o) }; var Kt = function (t, e, r) { var n, i, o, s; if (t.slice) for (i = t.length; --i > -1;)Kt(t[i], e, r); else for (i = (n = t.childNodes).length; --i > -1;)s = (o = n[i]).type, o.style && (e.push(rt(o)), r && r.push(o)), 1 !== s && 9 !== s && 11 !== s || !o.childNodes.length || Kt(o, e, r) }; return s.cascadeTo = function (t, r, n) { var i, o, s, a, u = e.to(t, r, n), l = [u], h = [], c = [], f = [], d = e._internals.reservedProps; for (t = u._targets || u.target, Kt(t, h, f), u.render(r, !0, !0), Kt(t, c), u.render(0, !0, !0), u._enabled(!0), i = f.length; --i > -1;)if ((o = nt(f[i], h[i], c[i])).firstMPT) { for (s in o = o.difs, n) d[s] && (o[s] = n[s]); for (s in a = {}, o) a[s] = h[i][s]; l.push(e.fromTo(f[i], r, a, o)) } return l }, t.activate([s]), s }, !0), function () { var t = _gsScope._gsDefine.plugin({ propName: "roundProps", version: "1.6.0", priority: -1, API: 2, init: function (t, e, r) { return this._tween = r, !0 } }), e = function (t) { for (; t;)t.f || t.blob || (t.m = Math.round), t = t._next }, r = t.prototype; r._onInitAllProps = function () { for (var t, r, n, i = this._tween, o = i.vars.roundProps.join ? i.vars.roundProps : i.vars.roundProps.split(","), s = o.length, a = {}, u = i._propLookup.roundProps; --s > -1;)a[o[s]] = Math.round; for (s = o.length; --s > -1;)for (t = o[s], r = i._firstPT; r;)n = r._next, r.pg ? r.t._mod(a) : r.n === t && (2 === r.f && r.t ? e(r.t._firstPT) : (this._add(r.t, t, r.s, r.c), n && (n._prev = r._prev), r._prev ? r._prev._next = n : i._firstPT === r && (i._firstPT = n), r._next = r._prev = null, i._propLookup[t] = u)), r = n; return !1 }, r._add = function (t, e, r, n) { this._addTween(t, e, r, r + n, e, Math.round), this._overwriteProps.push(e) } }(), _gsScope._gsDefine.plugin({ propName: "attr", API: 2, version: "0.6.0", init: function (t, e, r, n) { var i, o; if ("function" != typeof t.setAttribute) return !1; for (i in e) "function" == typeof (o = e[i]) && (o = o(n, t)), this._addTween(t, "setAttribute", t.getAttribute(i) + "", o + "", i, !1, i), this._overwriteProps.push(i); return !0 } }), _gsScope._gsDefine.plugin({ propName: "directionalRotation", version: "0.3.0", API: 2, init: function (t, e, r, n) { "object" != typeof e && (e = { rotation: e }), this.finals = {}; var i, o, s, a, u, l, h = !0 === e.useRadians ? 2 * Math.PI : 360; for (i in e) "useRadians" !== i && ("function" == typeof (a = e[i]) && (a = a(n, t)), o = (l = (a + "").split("_"))[0], s = parseFloat("function" != typeof t[i] ? t[i] : t[i.indexOf("set") || "function" != typeof t["get" + i.substr(3)] ? i : "get" + i.substr(3)]()), u = (a = this.finals[i] = "string" == typeof o && "=" === o.charAt(1) ? s + parseInt(o.charAt(0) + "1", 10) * Number(o.substr(2)) : Number(o) || 0) - s, l.length && (-1 !== (o = l.join("_")).indexOf("short") && ((u %= h) !== u % (h / 2) && (u = 0 > u ? u + h : u - h)), -1 !== o.indexOf("_cw") && 0 > u ? u = (u + 9999999999 * h) % h - (u / h | 0) * h : -1 !== o.indexOf("ccw") && u > 0 && (u = (u - 9999999999 * h) % h - (u / h | 0) * h)), (u > 1e-6 || -1e-6 > u) && (this._addTween(t, i, s, s + u, i), this._overwriteProps.push(i))); return !0 }, set: function (t) { var e; if (1 !== t) this._super.setRatio.call(this, t); else for (e = this._firstPT; e;)e.f ? e.t[e.p](this.finals[e.p]) : e.t[e.p] = this.finals[e.p], e = e._next } })._autoCSS = !0, _gsScope._gsDefine("easing.Back", ["easing.Ease"], function (t) { var e, r, n, i = _gsScope.GreenSockGlobals || _gsScope, o = i.com.greensock, s = 2 * Math.PI, a = Math.PI / 2, u = o._class, l = function (e, r) { var n = u("easing." + e, function () { }, !0), i = n.prototype = new t; return i.constructor = n, i.getRatio = r, n }, h = t.register || function () { }, c = function (t, e, r, n, i) { var o = u("easing." + t, { easeOut: new e, easeIn: new r, easeInOut: new n }, !0); return h(o, t), o }, f = function (t, e, r) { this.t = t, this.v = e, r && (this.next = r, r.prev = this, this.c = r.v - e, this.gap = r.t - t) }, d = function (e, r) { var n = u("easing." + e, function (t) { this._p1 = t || 0 === t ? t : 1.70158, this._p2 = 1.525 * this._p1 }, !0), i = n.prototype = new t; return i.constructor = n, i.getRatio = r, i.config = function (t) { return new n(t) }, n }, p = c("Back", d("BackOut", function (t) { return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1 }), d("BackIn", function (t) { return t * t * ((this._p1 + 1) * t - this._p1) }), d("BackInOut", function (t) { return (t *= 2) < 1 ? .5 * t * t * ((this._p2 + 1) * t - this._p2) : .5 * ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2) })), g = u("easing.SlowMo", function (t, e, r) { e = e || 0 === e ? e : .7, null == t ? t = .7 : t > 1 && (t = 1), this._p = 1 !== t ? e : 0, this._p1 = (1 - t) / 2, this._p2 = t, this._p3 = this._p1 + this._p2, this._calcEnd = !0 === r }, !0), m = g.prototype = new t; return m.constructor = g, m.getRatio = function (t) { var e = t + (.5 - t) * this._p; return t < this._p1 ? this._calcEnd ? 1 - (t = 1 - t / this._p1) * t : e - (t = 1 - t / this._p1) * t * t * t * e : t > this._p3 ? this._calcEnd ? 1 - (t = (t - this._p3) / this._p1) * t : e + (t - e) * (t = (t - this._p3) / this._p1) * t * t * t : this._calcEnd ? 1 : e }, g.ease = new g(.7, .7), m.config = g.config = function (t, e, r) { return new g(t, e, r) }, (m = (e = u("easing.SteppedEase", function (t) { t = t || 1, this._p1 = 1 / t, this._p2 = t + 1 }, !0)).prototype = new t).constructor = e, m.getRatio = function (t) { return 0 > t ? t = 0 : t >= 1 && (t = .999999999), (this._p2 * t >> 0) * this._p1 }, m.config = e.config = function (t) { return new e(t) }, r = u("easing.RoughEase", function (e) { for (var r, n, i, o, s, a, u = (e = e || {}).taper || "none", l = [], h = 0, c = 0 | (e.points || 20), d = c, p = !1 !== e.randomize, g = !0 === e.clamp, m = e.template instanceof t ? e.template : null, v = "number" == typeof e.strength ? .4 * e.strength : .4; --d > -1;)r = p ? Math.random() : 1 / c * d, n = m ? m.getRatio(r) : r, "none" === u ? i = v : "out" === u ? i = (o = 1 - r) * o * v : "in" === u ? i = r * r * v : .5 > r ? i = (o = 2 * r) * o * .5 * v : i = (o = 2 * (1 - r)) * o * .5 * v, p ? n += Math.random() * i - .5 * i : d % 2 ? n += .5 * i : n -= .5 * i, g && (n > 1 ? n = 1 : 0 > n && (n = 0)), l[h++] = { x: r, y: n }; for (l.sort(function (t, e) { return t.x - e.x }), a = new f(1, 1, null), d = c; --d > -1;)s = l[d], a = new f(s.x, s.y, a); this._prev = new f(0, 0, 0 !== a.t ? a : a.next) }, !0), (m = r.prototype = new t).constructor = r, m.getRatio = function (t) { var e = this._prev; if (t > e.t) { for (; e.next && t >= e.t;)e = e.next; e = e.prev } else for (; e.prev && t <= e.t;)e = e.prev; return this._prev = e, e.v + (t - e.t) / e.gap * e.c }, m.config = function (t) { return new r(t) }, r.ease = new r, c("Bounce", l("BounceOut", function (t) { return 1 / 2.75 > t ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 }), l("BounceIn", function (t) { return (t = 1 - t) < 1 / 2.75 ? 1 - 7.5625 * t * t : 2 / 2.75 > t ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : 2.5 / 2.75 > t ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375) }), l("BounceInOut", function (t) { var e = .5 > t; return t = 1 / 2.75 > (t = e ? 1 - 2 * t : 2 * t - 1) ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5 })), c("Circ", l("CircOut", function (t) { return Math.sqrt(1 - (t -= 1) * t) }), l("CircIn", function (t) { return -(Math.sqrt(1 - t * t) - 1) }), l("CircInOut", function (t) { return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) })), c("Elastic", (n = function (e, r, n) { var i = u("easing." + e, function (t, e) { this._p1 = t >= 1 ? t : 1, this._p2 = (e || n) / (1 > t ? t : 1), this._p3 = this._p2 / s * (Math.asin(1 / this._p1) || 0), this._p2 = s / this._p2 }, !0), o = i.prototype = new t; return o.constructor = i, o.getRatio = r, o.config = function (t, e) { return new i(t, e) }, i })("ElasticOut", function (t) { return this._p1 * Math.pow(2, -10 * t) * Math.sin((t - this._p3) * this._p2) + 1 }, .3), n("ElasticIn", function (t) { return -this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) }, .3), n("ElasticInOut", function (t) { return (t *= 2) < 1 ? this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * -.5 : this._p1 * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * .5 + 1 }, .45)), c("Expo", l("ExpoOut", function (t) { return 1 - Math.pow(2, -10 * t) }), l("ExpoIn", function (t) { return Math.pow(2, 10 * (t - 1)) - .001 }), l("ExpoInOut", function (t) { return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1))) })), c("Sine", l("SineOut", function (t) { return Math.sin(t * a) }), l("SineIn", function (t) { return 1 - Math.cos(t * a) }), l("SineInOut", function (t) { return -.5 * (Math.cos(Math.PI * t) - 1) })), u("easing.EaseLookup", { find: function (e) { return t.map[e] } }, !0), h(i.SlowMo, "SlowMo", "ease,"), h(r, "RoughEase", "ease,"), h(e, "SteppedEase", "ease,"), p }, !0) }), _gsScope._gsDefine && _gsScope._gsQueue.pop()(), function (t, e) { "use strict"; var r = {}, n = t.document, i = t.GreenSockGlobals = t.GreenSockGlobals || t; if (!i.TweenLite) { var o, s, a, u, l, h = function (t) { var e, r = t.split("."), n = i; for (e = 0; e < r.length; e++)n[r[e]] = n = n[r[e]] || {}; return n }, c = h("com.greensock"), f = 1e-10, d = function (t) { var e, r = [], n = t.length; for (e = 0; e !== n; r.push(t[e++])); return r }, p = function () { }, g = function () { var t = Object.prototype.toString, e = t.call([]); return function (r) { return null != r && (r instanceof Array || "object" == typeof r && !!r.push && t.call(r) === e) } }(), m = {}, v = function (n, o, s, a) { this.sc = m[n] ? m[n].sc : [], m[n] = this, this.gsClass = null, this.func = s; var u = []; this.check = function (l) { for (var c, f, d, p, g, y = o.length, _ = y; --y > -1;)(c = m[o[y]] || new v(o[y], [])).gsClass ? (u[y] = c.gsClass, _--) : l && c.sc.push(this); if (0 === _ && s) { if (d = (f = ("com.greensock." + n).split(".")).pop(), p = h(f.join("."))[d] = this.gsClass = s.apply(s, u), a) if (i[d] = r[d] = p, !(g = "undefined" != typeof module && module.exports) && "function" == typeof define && define.amd) define((t.GreenSockAMDPath ? t.GreenSockAMDPath + "/" : "") + n.split(".").pop(), [], function () { return p }); else if (g) if (n === e) for (y in module.exports = r[e] = p, r) p[y] = r[y]; else r[e] && (r[e][d] = p); for (y = 0; y < this.sc.length; y++)this.sc[y].check() } }, this.check(!0) }, y = t._gsDefine = function (t, e, r, n) { return new v(t, e, r, n) }, _ = c._class = function (t, e, r) { return e = e || function () { }, y(t, [], function () { return e }, r), e }; y.globals = i; var x = [0, 0, 1, 1], b = _("easing.Ease", function (t, e, r, n) { this._func = t, this._type = r || 0, this._power = n || 0, this._params = e ? x.concat(e) : x }, !0), T = b.map = {}, w = b.register = function (t, e, r, n) { for (var i, o, s, a, u = e.split(","), l = u.length, h = (r || "easeIn,easeOut,easeInOut").split(","); --l > -1;)for (o = u[l], i = n ? _("easing." + o, null, !0) : c.easing[o] || {}, s = h.length; --s > -1;)a = h[s], T[o + "." + a] = T[a + o] = i[a] = t.getRatio ? t : t[a] || new t }; for ((a = b.prototype)._calcEnd = !1, a.getRatio = function (t) { if (this._func) return this._params[0] = t, this._func.apply(null, this._params); var e = this._type, r = this._power, n = 1 === e ? 1 - t : 2 === e ? t : .5 > t ? 2 * t : 2 * (1 - t); return 1 === r ? n *= n : 2 === r ? n *= n * n : 3 === r ? n *= n * n * n : 4 === r && (n *= n * n * n * n), 1 === e ? 1 - n : 2 === e ? n : .5 > t ? n / 2 : 1 - n / 2 }, s = (o = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"]).length; --s > -1;)a = o[s] + ",Power" + s, w(new b(null, null, 1, s), a, "easeOut", !0), w(new b(null, null, 2, s), a, "easeIn" + (0 === s ? ",easeNone" : "")), w(new b(null, null, 3, s), a, "easeInOut"); T.linear = c.easing.Linear.easeIn, T.swing = c.easing.Quad.easeInOut; var S = _("events.EventDispatcher", function (t) { this._listeners = {}, this._eventTarget = t || this }); (a = S.prototype).addEventListener = function (t, e, r, n, i) { i = i || 0; var o, s, a = this._listeners[t], h = 0; for (this !== u || l || u.wake(), null == a && (this._listeners[t] = a = []), s = a.length; --s > -1;)(o = a[s]).c === e && o.s === r ? a.splice(s, 1) : 0 === h && o.pr < i && (h = s + 1); a.splice(h, 0, { c: e, s: r, up: n, pr: i }) }, a.removeEventListener = function (t, e) { var r, n = this._listeners[t]; if (n) for (r = n.length; --r > -1;)if (n[r].c === e) return void n.splice(r, 1) }, a.dispatchEvent = function (t) { var e, r, n, i = this._listeners[t]; if (i) for ((e = i.length) > 1 && (i = i.slice(0)), r = this._eventTarget; --e > -1;)(n = i[e]) && (n.up ? n.c.call(n.s || r, { type: t, target: r }) : n.c.call(n.s || r)) }; var C = t.requestAnimationFrame, E = t.cancelAnimationFrame, O = Date.now || function () { return (new Date).getTime() }, P = O(); for (s = (o = ["ms", "moz", "webkit", "o"]).length; --s > -1 && !C;)C = t[o[s] + "RequestAnimationFrame"], E = t[o[s] + "CancelAnimationFrame"] || t[o[s] + "CancelRequestAnimationFrame"]; _("Ticker", function (t, e) { var r, i, o, s, a, h = this, c = O(), d = !(!1 === e || !C) && "auto", g = 500, m = 33, v = function (t) { var e, n, u = O() - P; u > g && (c += u - m), P += u, h.time = (P - c) / 1e3, e = h.time - a, (!r || e > 0 || !0 === t) && (h.frame++, a += e + (e >= s ? .004 : s - e), n = !0), !0 !== t && (o = i(v)), n && h.dispatchEvent("tick") }; S.call(h), h.time = h.frame = 0, h.tick = function () { v(!0) }, h.lagSmoothing = function (t, e) { g = t || 1 / f, m = Math.min(e, g, 0) }, h.sleep = function () { null != o && (d && E ? E(o) : clearTimeout(o), i = p, o = null, h === u && (l = !1)) }, h.wake = function (t) { null !== o ? h.sleep() : t ? c += -P + (P = O()) : h.frame > 10 && (P = O() - g + 5), i = 0 === r ? p : d && C ? C : function (t) { return setTimeout(t, 1e3 * (a - h.time) + 1 | 0) }, h === u && (l = !0), v(2) }, h.fps = function (t) { return arguments.length ? (s = 1 / ((r = t) || 60), a = this.time + s, void h.wake()) : r }, h.useRAF = function (t) { return arguments.length ? (h.sleep(), d = t, void h.fps(r)) : d }, h.fps(t), setTimeout(function () { "auto" === d && h.frame < 5 && "hidden" !== n.visibilityState && h.useRAF(!1) }, 1500) }), (a = c.Ticker.prototype = new c.events.EventDispatcher).constructor = c.Ticker; var A = _("core.Animation", function (t, e) { if (this.vars = e = e || {}, this._duration = this._totalDuration = t || 0, this._delay = Number(e.delay) || 0, this._timeScale = 1, this._active = !0 === e.immediateRender, this.data = e.data, this._reversed = !0 === e.reversed, q) { l || u.wake(); var r = this.vars.useFrames ? Y : q; r.add(this, r._time), this.vars.paused && this.paused(!0) } }); u = A.ticker = new c.Ticker, (a = A.prototype)._dirty = a._gc = a._initted = a._paused = !1, a._totalTime = a._time = 0, a._rawPrevTime = -1, a._next = a._last = a._onUpdate = a._timeline = a.timeline = null, a._paused = !1; var M = function () { l && O() - P > 2e3 && u.wake(), setTimeout(M, 2e3) }; M(), a.play = function (t, e) { return null != t && this.seek(t, e), this.reversed(!1).paused(!1) }, a.pause = function (t, e) { return null != t && this.seek(t, e), this.paused(!0) }, a.resume = function (t, e) { return null != t && this.seek(t, e), this.paused(!1) }, a.seek = function (t, e) { return this.totalTime(Number(t), !1 !== e) }, a.restart = function (t, e) { return this.reversed(!1).paused(!1).totalTime(t ? -this._delay : 0, !1 !== e, !0) }, a.reverse = function (t, e) { return null != t && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1) }, a.render = function (t, e, r) { }, a.invalidate = function () { return this._time = this._totalTime = 0, this._initted = this._gc = !1, this._rawPrevTime = -1, (this._gc || !this.timeline) && this._enabled(!0), this }, a.isActive = function () { var t, e = this._timeline, r = this._startTime; return !e || !this._gc && !this._paused && e.isActive() && (t = e.rawTime(!0)) >= r && t < r + this.totalDuration() / this._timeScale }, a._enabled = function (t, e) { return l || u.wake(), this._gc = !t, this._active = this.isActive(), !0 !== e && (t && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !t && this.timeline && this._timeline._remove(this, !0)), !1 }, a._kill = function (t, e) { return this._enabled(!1, !1) }, a.kill = function (t, e) { return this._kill(t, e), this }, a._uncache = function (t) { for (var e = t ? this : this.timeline; e;)e._dirty = !0, e = e.timeline; return this }, a._swapSelfInParams = function (t) { for (var e = t.length, r = t.concat(); --e > -1;)"{self}" === t[e] && (r[e] = this); return r }, a._callback = function (t) { var e = this.vars, r = e[t], n = e[t + "Params"], i = e[t + "Scope"] || e.callbackScope || this; switch (n ? n.length : 0) { case 0: r.call(i); break; case 1: r.call(i, n[0]); break; case 2: r.call(i, n[0], n[1]); break; default: r.apply(i, n) } }, a.eventCallback = function (t, e, r, n) { if ("on" === (t || "").substr(0, 2)) { var i = this.vars; if (1 === arguments.length) return i[t]; null == e ? delete i[t] : (i[t] = e, i[t + "Params"] = g(r) && -1 !== r.join("").indexOf("{self}") ? this._swapSelfInParams(r) : r, i[t + "Scope"] = n), "onUpdate" === t && (this._onUpdate = e) } return this }, a.delay = function (t) { return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + t - this._delay), this._delay = t, this) : this._delay }, a.duration = function (t) { return arguments.length ? (this._duration = this._totalDuration = t, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== t && this.totalTime(this._totalTime * (t / this._duration), !0), this) : (this._dirty = !1, this._duration) }, a.totalDuration = function (t) { return this._dirty = !1, arguments.length ? this.duration(t) : this._totalDuration }, a.time = function (t, e) { return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(t > this._duration ? this._duration : t, e)) : this._time }, a.totalTime = function (t, e, r) { if (l || u.wake(), !arguments.length) return this._totalTime; if (this._timeline) { if (0 > t && !r && (t += this.totalDuration()), this._timeline.smoothChildTiming) { this._dirty && this.totalDuration(); var n = this._totalDuration, i = this._timeline; if (t > n && !r && (t = n), this._startTime = (this._paused ? this._pauseTime : i._time) - (this._reversed ? n - t : t) / this._timeScale, i._dirty || this._uncache(!1), i._timeline) for (; i._timeline;)i._timeline._time !== (i._startTime + i._totalTime) / i._timeScale && i.totalTime(i._totalTime, !0), i = i._timeline } this._gc && this._enabled(!0, !1), (this._totalTime !== t || 0 === this._duration) && (L.length && $(), this.render(t, e, !1), L.length && $()) } return this }, a.progress = a.totalProgress = function (t, e) { var r = this.duration(); return arguments.length ? this.totalTime(r * t, e) : r ? this._time / r : this.ratio }, a.startTime = function (t) { return arguments.length ? (t !== this._startTime && (this._startTime = t, this.timeline && this.timeline._sortChildren && this.timeline.add(this, t - this._delay)), this) : this._startTime }, a.endTime = function (t) { return this._startTime + (0 != t ? this.totalDuration() : this.duration()) / this._timeScale }, a.timeScale = function (t) { if (!arguments.length) return this._timeScale; if (t = t || f, this._timeline && this._timeline.smoothChildTiming) { var e = this._pauseTime, r = e || 0 === e ? e : this._timeline.totalTime(); this._startTime = r - (r - this._startTime) * this._timeScale / t } return this._timeScale = t, this._uncache(!1) }, a.reversed = function (t) { return arguments.length ? (t != this._reversed && (this._reversed = t, this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)), this) : this._reversed }, a.paused = function (t) { if (!arguments.length) return this._paused; var e, r, n = this._timeline; return t != this._paused && n && (l || t || u.wake(), r = (e = n.rawTime()) - this._pauseTime, !t && n.smoothChildTiming && (this._startTime += r, this._uncache(!1)), this._pauseTime = t ? e : null, this._paused = t, this._active = this.isActive(), !t && 0 !== r && this._initted && this.duration() && (e = n.smoothChildTiming ? this._totalTime : (e - this._startTime) / this._timeScale, this.render(e, e === this._totalTime, !0))), this._gc && !t && this._enabled(!0, !1), this }; var R = _("core.SimpleTimeline", function (t) { A.call(this, 0, t), this.autoRemoveChildren = this.smoothChildTiming = !0 }); (a = R.prototype = new A).constructor = R, a.kill()._gc = !1, a._first = a._last = a._recent = null, a._sortChildren = !1, a.add = a.insert = function (t, e, r, n) { var i, o; if (t._startTime = Number(e || 0) + t._delay, t._paused && this !== t._timeline && (t._pauseTime = t._startTime + (this.rawTime() - t._startTime) / t._timeScale), t.timeline && t.timeline._remove(t, !0), t.timeline = t._timeline = this, t._gc && t._enabled(!0, !0), i = this._last, this._sortChildren) for (o = t._startTime; i && i._startTime > o;)i = i._prev; return i ? (t._next = i._next, i._next = t) : (t._next = this._first, this._first = t), t._next ? t._next._prev = t : this._last = t, t._prev = i, this._recent = t, this._timeline && this._uncache(!0), this }, a._remove = function (t, e) { return t.timeline === this && (e || t._enabled(!1, !0), t._prev ? t._prev._next = t._next : this._first === t && (this._first = t._next), t._next ? t._next._prev = t._prev : this._last === t && (this._last = t._prev), t._next = t._prev = t.timeline = null, t === this._recent && (this._recent = this._last), this._timeline && this._uncache(!0)), this }, a.render = function (t, e, r) { var n, i = this._first; for (this._totalTime = this._time = this._rawPrevTime = t; i;)n = i._next, (i._active || t >= i._startTime && !i._paused) && (i._reversed ? i.render((i._dirty ? i.totalDuration() : i._totalDuration) - (t - i._startTime) * i._timeScale, e, r) : i.render((t - i._startTime) * i._timeScale, e, r)), i = n }, a.rawTime = function () { return l || u.wake(), this._totalTime }; var D = _("TweenLite", function (e, r, n) { if (A.call(this, r, n), this.render = D.prototype.render, null == e) throw "Cannot tween a null target."; this.target = e = "string" != typeof e ? e : D.selector(e) || e; var i, o, s, a = e.jquery || e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType), u = this.vars.overwrite; if (this._overwrite = u = null == u ? G[D.defaultOverwrite] : "number" == typeof u ? u >> 0 : G[u], (a || e instanceof Array || e.push && g(e)) && "number" != typeof e[0]) for (this._targets = s = d(e), this._propLookup = [], this._siblings = [], i = 0; i < s.length; i++)(o = s[i]) ? "string" != typeof o ? o.length && o !== t && o[0] && (o[0] === t || o[0].nodeType && o[0].style && !o.nodeType) ? (s.splice(i--, 1), this._targets = s = s.concat(d(o))) : (this._siblings[i] = K(o, this, !1), 1 === u && this._siblings[i].length > 1 && Q(o, this, null, 1, this._siblings[i])) : "string" == typeof (o = s[i--] = D.selector(o)) && s.splice(i + 1, 1) : s.splice(i--, 1); else this._propLookup = {}, this._siblings = K(e, this, !1), 1 === u && this._siblings.length > 1 && Q(e, this, null, 1, this._siblings); (this.vars.immediateRender || 0 === r && 0 === this._delay && !1 !== this.vars.immediateRender) && (this._time = -f, this.render(Math.min(0, -this._delay))) }, !0), I = function (e) { return e && e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType) }; (a = D.prototype = new A).constructor = D, a.kill()._gc = !1, a.ratio = 0, a._firstPT = a._targets = a._overwrittenProps = a._startAt = null, a._notifyPluginsOfEnabled = a._lazy = !1, D.version = "1.19.1", D.defaultEase = a._ease = new b(null, null, 1, 1), D.defaultOverwrite = "auto", D.ticker = u, D.autoSleep = 120, D.lagSmoothing = function (t, e) { u.lagSmoothing(t, e) }, D.selector = t.$ || t.jQuery || function (e) { var r = t.$ || t.jQuery; return r ? (D.selector = r, r(e)) : void 0 === n ? e : n.querySelectorAll ? n.querySelectorAll(e) : n.getElementById("#" === e.charAt(0) ? e.substr(1) : e) }; var L = [], F = {}, k = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi, j = function (t) { for (var e, r = this._firstPT; r;)e = r.blob ? 1 === t ? this.end : t ? this.join("") : this.start : r.c * t + r.s, r.m ? e = r.m(e, this._target || r.t) : 1e-6 > e && e > -1e-6 && !r.blob && (e = 0), r.f ? r.fp ? r.t[r.p](r.fp, e) : r.t[r.p](e) : r.t[r.p] = e, r = r._next }, N = function (t, e, r, n) { var i, o, s, a, u, l, h, c = [], f = 0, d = "", p = 0; for (c.start = t, c.end = e, t = c[0] = t + "", e = c[1] = e + "", r && (r(c), t = c[0], e = c[1]), c.length = 0, i = t.match(k) || [], o = e.match(k) || [], n && (n._next = null, n.blob = 1, c._firstPT = c._applyPT = n), u = o.length, a = 0; u > a; a++)h = o[a], d += (l = e.substr(f, e.indexOf(h, f) - f)) || !a ? l : ",", f += l.length, p ? p = (p + 1) % 5 : "rgba(" === l.substr(-5) && (p = 1), h === i[a] || i.length <= a ? d += h : (d && (c.push(d), d = ""), s = parseFloat(i[a]), c.push(s), c._firstPT = { _next: c._firstPT, t: c, p: c.length - 1, s: s, c: ("=" === h.charAt(1) ? parseInt(h.charAt(0) + "1", 10) * parseFloat(h.substr(2)) : parseFloat(h) - s) || 0, f: 0, m: p && 4 > p ? Math.round : 0 }), f += h.length; return (d += e.substr(f)) && c.push(d), c.setRatio = j, c }, B = function (t, e, r, n, i, o, s, a, u) { "function" == typeof n && (n = n(u || 0, t)); var l = typeof t[e], h = "function" !== l ? "" : e.indexOf("set") || "function" != typeof t["get" + e.substr(3)] ? e : "get" + e.substr(3), c = "get" !== r ? r : h ? s ? t[h](s) : t[h]() : t[e], f = "string" == typeof n && "=" === n.charAt(1), d = { t: t, p: e, s: c, f: "function" === l, pg: 0, n: i || e, m: o ? "function" == typeof o ? o : Math.round : 0, pr: 0, c: f ? parseInt(n.charAt(0) + "1", 10) * parseFloat(n.substr(2)) : parseFloat(n) - c || 0 }; return ("number" != typeof c || "number" != typeof n && !f) && (s || isNaN(c) || !f && isNaN(n) || "boolean" == typeof c || "boolean" == typeof n ? (d.fp = s, d = { t: N(c, f ? d.s + d.c : n, a || D.defaultStringFilter, d), p: "setRatio", s: 0, c: 1, f: 2, pg: 0, n: i || e, pr: 0, m: 0 }) : (d.s = parseFloat(c), f || (d.c = parseFloat(n) - d.s || 0))), d.c ? ((d._next = this._firstPT) && (d._next._prev = d), this._firstPT = d, d) : void 0 }, U = D._internals = { isArray: g, isSelector: I, lazyTweens: L, blobDif: N }, z = D._plugins = {}, X = U.tweenLookup = {}, W = 0, H = U.reservedProps = { ease: 1, delay: 1, overwrite: 1, onComplete: 1, onCompleteParams: 1, onCompleteScope: 1, useFrames: 1, runBackwards: 1, startAt: 1, onUpdate: 1, onUpdateParams: 1, onUpdateScope: 1, onStart: 1, onStartParams: 1, onStartScope: 1, onReverseComplete: 1, onReverseCompleteParams: 1, onReverseCompleteScope: 1, onRepeat: 1, onRepeatParams: 1, onRepeatScope: 1, easeParams: 1, yoyo: 1, immediateRender: 1, repeat: 1, repeatDelay: 1, data: 1, paused: 1, reversed: 1, autoCSS: 1, lazy: 1, onOverwrite: 1, callbackScope: 1, stringFilter: 1, id: 1 }, G = { none: 0, all: 1, auto: 2, concurrent: 3, allOnStart: 4, preexisting: 5, true: 1, false: 0 }, Y = A._rootFramesTimeline = new R, q = A._rootTimeline = new R, V = 30, $ = U.lazyRender = function () { var t, e = L.length; for (F = {}; --e > -1;)(t = L[e]) && !1 !== t._lazy && (t.render(t._lazy[0], t._lazy[1], !0), t._lazy = !1); L.length = 0 }; q._startTime = u.time, Y._startTime = u.frame, q._active = Y._active = !0, setTimeout($, 1), A._updateRoot = D.render = function () { var t, e, r; if (L.length && $(), q.render((u.time - q._startTime) * q._timeScale, !1, !1), Y.render((u.frame - Y._startTime) * Y._timeScale, !1, !1), L.length && $(), u.frame >= V) { for (r in V = u.frame + (parseInt(D.autoSleep, 10) || 120), X) { for (t = (e = X[r].tweens).length; --t > -1;)e[t]._gc && e.splice(t, 1); 0 === e.length && delete X[r] } if ((!(r = q._first) || r._paused) && D.autoSleep && !Y._first && 1 === u._listeners.tick.length) { for (; r && r._paused;)r = r._next; r || u.sleep() } } }, u.addEventListener("tick", A._updateRoot); var K = function (t, e, r) { var n, i, o = t._gsTweenID; if (X[o || (t._gsTweenID = o = "t" + W++)] || (X[o] = { target: t, tweens: [] }), e && ((n = X[o].tweens)[i = n.length] = e, r)) for (; --i > -1;)n[i] === e && n.splice(i, 1); return X[o].tweens }, Z = function (t, e, r, n) { var i, o, s = t.vars.onOverwrite; return s && (i = s(t, e, r, n)), (s = D.onOverwrite) && (o = s(t, e, r, n)), !1 !== i && !1 !== o }, Q = function (t, e, r, n, i) { var o, s, a, u; if (1 === n || n >= 4) { for (u = i.length, o = 0; u > o; o++)if ((a = i[o]) !== e) a._gc || a._kill(null, t, e) && (s = !0); else if (5 === n) break; return s } var l, h = e._startTime + f, c = [], d = 0, p = 0 === e._duration; for (o = i.length; --o > -1;)(a = i[o]) === e || a._gc || a._paused || (a._timeline !== e._timeline ? (l = l || J(e, 0, p), 0 === J(a, l, p) && (c[d++] = a)) : a._startTime <= h && a._startTime + a.totalDuration() / a._timeScale > h && ((p || !a._initted) && h - a._startTime <= 2e-10 || (c[d++] = a))); for (o = d; --o > -1;)if (a = c[o], 2 === n && a._kill(r, t, e) && (s = !0), 2 !== n || !a._firstPT && a._initted) { if (2 !== n && !Z(a, e)) continue; a._enabled(!1, !1) && (s = !0) } return s }, J = function (t, e, r) { for (var n = t._timeline, i = n._timeScale, o = t._startTime; n._timeline;) { if (o += n._startTime, i *= n._timeScale, n._paused) return -100; n = n._timeline } return (o /= i) > e ? o - e : r && o === e || !t._initted && 2 * f > o - e ? f : (o += t.totalDuration() / t._timeScale / i) > e + f ? 0 : o - e - f }; a._init = function () { var t, e, r, n, i, o, s = this.vars, a = this._overwrittenProps, u = this._duration, l = !!s.immediateRender, h = s.ease; if (s.startAt) { for (n in this._startAt && (this._startAt.render(-1, !0), this._startAt.kill()), i = {}, s.startAt) i[n] = s.startAt[n]; if (i.overwrite = !1, i.immediateRender = !0, i.lazy = l && !1 !== s.lazy, i.startAt = i.delay = null, this._startAt = D.to(this.target, 0, i), l) if (this._time > 0) this._startAt = null; else if (0 !== u) return } else if (s.runBackwards && 0 !== u) if (this._startAt) this._startAt.render(-1, !0), this._startAt.kill(), this._startAt = null; else { for (n in 0 !== this._time && (l = !1), r = {}, s) H[n] && "autoCSS" !== n || (r[n] = s[n]); if (r.overwrite = 0, r.data = "isFromStart", r.lazy = l && !1 !== s.lazy, r.immediateRender = l, this._startAt = D.to(this.target, 0, r), l) { if (0 === this._time) return } else this._startAt._init(), this._startAt._enabled(!1), this.vars.immediateRender && (this._startAt = null) } if (this._ease = h = h ? h instanceof b ? h : "function" == typeof h ? new b(h, s.easeParams) : T[h] || D.defaultEase : D.defaultEase, s.easeParams instanceof Array && h.config && (this._ease = h.config.apply(h, s.easeParams)), this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets) for (o = this._targets.length, t = 0; o > t; t++)this._initProps(this._targets[t], this._propLookup[t] = {}, this._siblings[t], a ? a[t] : null, t) && (e = !0); else e = this._initProps(this.target, this._propLookup, this._siblings, a, 0); if (e && D._onPluginEvent("_onInitAllProps", this), a && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), s.runBackwards) for (r = this._firstPT; r;)r.s += r.c, r.c = -r.c, r = r._next; this._onUpdate = s.onUpdate, this._initted = !0 }, a._initProps = function (e, r, n, i, o) { var s, a, u, l, h, c; if (null == e) return !1; for (s in F[e._gsTweenID] && $(), this.vars.css || e.style && e !== t && e.nodeType && z.css && !1 !== this.vars.autoCSS && function (t, e) { var r, n = {}; for (r in t) H[r] || r in e && "transform" !== r && "x" !== r && "y" !== r && "width" !== r && "height" !== r && "className" !== r && "border" !== r || !(!z[r] || z[r] && z[r]._autoCSS) || (n[r] = t[r], delete t[r]); t.css = n }(this.vars, e), this.vars) if (c = this.vars[s], H[s]) c && (c instanceof Array || c.push && g(c)) && -1 !== c.join("").indexOf("{self}") && (this.vars[s] = c = this._swapSelfInParams(c, this)); else if (z[s] && (l = new z[s])._onInitTween(e, this.vars[s], this, o)) { for (this._firstPT = h = { _next: this._firstPT, t: l, p: "setRatio", s: 0, c: 1, f: 1, n: s, pg: 1, pr: l._priority, m: 0 }, a = l._overwriteProps.length; --a > -1;)r[l._overwriteProps[a]] = this._firstPT; (l._priority || l._onInitAllProps) && (u = !0), (l._onDisable || l._onEnable) && (this._notifyPluginsOfEnabled = !0), h._next && (h._next._prev = h) } else r[s] = B.call(this, e, s, "get", c, s, 0, null, this.vars.stringFilter, o); return i && this._kill(i, e) ? this._initProps(e, r, n, i, o) : this._overwrite > 1 && this._firstPT && n.length > 1 && Q(e, this, r, this._overwrite, n) ? (this._kill(r, e), this._initProps(e, r, n, i, o)) : (this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration) && (F[e._gsTweenID] = !0), u) }, a.render = function (t, e, r) { var n, i, o, s, a = this._time, u = this._duration, l = this._rawPrevTime; if (t >= u - 1e-7 && t >= 0) this._totalTime = this._time = u, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (n = !0, i = "onComplete", r = r || this._timeline.autoRemoveChildren), 0 === u && (this._initted || !this.vars.lazy || r) && (this._startTime === this._timeline._duration && (t = 0), (0 > l || 0 >= t && t >= -1e-7 || l === f && "isPause" !== this.data) && l !== t && (r = !0, l > f && (i = "onReverseComplete")), this._rawPrevTime = s = !e || t || l === t ? t : f); else if (1e-7 > t) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== a || 0 === u && l > 0) && (i = "onReverseComplete", n = this._reversed), 0 > t && (this._active = !1, 0 === u && (this._initted || !this.vars.lazy || r) && (l >= 0 && (l !== f || "isPause" !== this.data) && (r = !0), this._rawPrevTime = s = !e || t || l === t ? t : f)), this._initted || (r = !0); else if (this._totalTime = this._time = t, this._easeType) { var h = t / u, c = this._easeType, d = this._easePower; (1 === c || 3 === c && h >= .5) && (h = 1 - h), 3 === c && (h *= 2), 1 === d ? h *= h : 2 === d ? h *= h * h : 3 === d ? h *= h * h * h : 4 === d && (h *= h * h * h * h), this.ratio = 1 === c ? 1 - h : 2 === c ? h : .5 > t / u ? h / 2 : 1 - h / 2 } else this.ratio = this._ease.getRatio(t / u); if (this._time !== a || r) { if (!this._initted) { if (this._init(), !this._initted || this._gc) return; if (!r && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration)) return this._time = this._totalTime = a, this._rawPrevTime = l, L.push(this), void (this._lazy = [t, e]); this._time && !n ? this.ratio = this._ease.getRatio(this._time / u) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1)) } for (!1 !== this._lazy && (this._lazy = !1), this._active || !this._paused && this._time !== a && t >= 0 && (this._active = !0), 0 === a && (this._startAt && (t >= 0 ? this._startAt.render(t, e, r) : i || (i = "_dummyGS")), this.vars.onStart && (0 !== this._time || 0 === u) && (e || this._callback("onStart"))), o = this._firstPT; o;)o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next; this._onUpdate && (0 > t && this._startAt && -1e-4 !== t && this._startAt.render(t, e, r), e || (this._time !== a || n || r) && this._callback("onUpdate")), i && (!this._gc || r) && (0 > t && this._startAt && !this._onUpdate && -1e-4 !== t && this._startAt.render(t, e, r), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[i] && this._callback(i), 0 === u && this._rawPrevTime === f && s !== f && (this._rawPrevTime = 0)) } }, a._kill = function (t, e, r) { if ("all" === t && (t = null), null == t && (null == e || e === this.target)) return this._lazy = !1, this._enabled(!1, !1); e = "string" != typeof e ? e || this._targets || this.target : D.selector(e) || e; var n, i, o, s, a, u, l, h, c, f = r && this._time && r._startTime === this._startTime && this._timeline === r._timeline; if ((g(e) || I(e)) && "number" != typeof e[0]) for (n = e.length; --n > -1;)this._kill(t, e[n], r) && (u = !0); else { if (this._targets) { for (n = this._targets.length; --n > -1;)if (e === this._targets[n]) { a = this._propLookup[n] || {}, this._overwrittenProps = this._overwrittenProps || [], i = this._overwrittenProps[n] = t ? this._overwrittenProps[n] || {} : "all"; break } } else { if (e !== this.target) return !1; a = this._propLookup, i = this._overwrittenProps = t ? this._overwrittenProps || {} : "all" } if (a) { if (l = t || a, h = t !== i && "all" !== i && t !== a && ("object" != typeof t || !t._tempKill), r && (D.onOverwrite || this.vars.onOverwrite)) { for (o in l) a[o] && (c || (c = []), c.push(o)); if ((c || !t) && !Z(this, r, e, c)) return !1 } for (o in l) (s = a[o]) && (f && (s.f ? s.t[s.p](s.s) : s.t[s.p] = s.s, u = !0), s.pg && s.t._kill(l) && (u = !0), s.pg && 0 !== s.t._overwriteProps.length || (s._prev ? s._prev._next = s._next : s === this._firstPT && (this._firstPT = s._next), s._next && (s._next._prev = s._prev), s._next = s._prev = null), delete a[o]), h && (i[o] = 1); !this._firstPT && this._initted && this._enabled(!1, !1) } } return u }, a.invalidate = function () { return this._notifyPluginsOfEnabled && D._onPluginEvent("_onDisable", this), this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null, this._notifyPluginsOfEnabled = this._active = this._lazy = !1, this._propLookup = this._targets ? {} : [], A.prototype.invalidate.call(this), this.vars.immediateRender && (this._time = -f, this.render(Math.min(0, -this._delay))), this }, a._enabled = function (t, e) { if (l || u.wake(), t && this._gc) { var r, n = this._targets; if (n) for (r = n.length; --r > -1;)this._siblings[r] = K(n[r], this, !0); else this._siblings = K(this.target, this, !0) } return A.prototype._enabled.call(this, t, e), !(!this._notifyPluginsOfEnabled || !this._firstPT) && D._onPluginEvent(t ? "_onEnable" : "_onDisable", this) }, D.to = function (t, e, r) { return new D(t, e, r) }, D.from = function (t, e, r) { return r.runBackwards = !0, r.immediateRender = 0 != r.immediateRender, new D(t, e, r) }, D.fromTo = function (t, e, r, n) { return n.startAt = r, n.immediateRender = 0 != n.immediateRender && 0 != r.immediateRender, new D(t, e, n) }, D.delayedCall = function (t, e, r, n, i) { return new D(e, 0, { delay: t, onComplete: e, onCompleteParams: r, callbackScope: n, onReverseComplete: e, onReverseCompleteParams: r, immediateRender: !1, lazy: !1, useFrames: i, overwrite: 0 }) }, D.set = function (t, e) { return new D(t, 0, e) }, D.getTweensOf = function (t, e) { if (null == t) return []; var r, n, i, o; if (t = "string" != typeof t ? t : D.selector(t) || t, (g(t) || I(t)) && "number" != typeof t[0]) { for (r = t.length, n = []; --r > -1;)n = n.concat(D.getTweensOf(t[r], e)); for (r = n.length; --r > -1;)for (o = n[r], i = r; --i > -1;)o === n[i] && n.splice(r, 1) } else for (r = (n = K(t).concat()).length; --r > -1;)(n[r]._gc || e && !n[r].isActive()) && n.splice(r, 1); return n }, D.killTweensOf = D.killDelayedCallsTo = function (t, e, r) { "object" == typeof e && (r = e, e = !1); for (var n = D.getTweensOf(t, e), i = n.length; --i > -1;)n[i]._kill(r, t) }; var tt = _("plugins.TweenPlugin", function (t, e) { this._overwriteProps = (t || "").split(","), this._propName = this._overwriteProps[0], this._priority = e || 0, this._super = tt.prototype }, !0); if (a = tt.prototype, tt.version = "1.19.0", tt.API = 2, a._firstPT = null, a._addTween = B, a.setRatio = j, a._kill = function (t) { var e, r = this._overwriteProps, n = this._firstPT; if (null != t[this._propName]) this._overwriteProps = []; else for (e = r.length; --e > -1;)null != t[r[e]] && r.splice(e, 1); for (; n;)null != t[n.n] && (n._next && (n._next._prev = n._prev), n._prev ? (n._prev._next = n._next, n._prev = null) : this._firstPT === n && (this._firstPT = n._next)), n = n._next; return !1 }, a._mod = a._roundProps = function (t) { for (var e, r = this._firstPT; r;)(e = t[this._propName] || null != r.n && t[r.n.split(this._propName + "_").join("")]) && "function" == typeof e && (2 === r.f ? r.t._applyPT.m = e : r.m = e), r = r._next }, D._onPluginEvent = function (t, e) { var r, n, i, o, s, a = e._firstPT; if ("_onInitAllProps" === t) { for (; a;) { for (s = a._next, n = i; n && n.pr > a.pr;)n = n._next; (a._prev = n ? n._prev : o) ? a._prev._next = a : i = a, (a._next = n) ? n._prev = a : o = a, a = s } a = e._firstPT = i } for (; a;)a.pg && "function" == typeof a.t[t] && a.t[t]() && (r = !0), a = a._next; return r }, tt.activate = function (t) { for (var e = t.length; --e > -1;)t[e].API === tt.API && (z[(new t[e])._propName] = t[e]); return !0 }, y.plugin = function (t) { if (!(t && t.propName && t.init && t.API)) throw "illegal plugin definition."; var e, r = t.propName, n = t.priority || 0, i = t.overwriteProps, o = { init: "_onInitTween", set: "setRatio", kill: "_kill", round: "_mod", mod: "_mod", initAll: "_onInitAllProps" }, s = _("plugins." + r.charAt(0).toUpperCase() + r.substr(1) + "Plugin", function () { tt.call(this, r, n), this._overwriteProps = i || [] }, !0 === t.global), a = s.prototype = new tt(r); for (e in a.constructor = s, s.API = t.API, o) "function" == typeof t[e] && (a[o[e]] = t[e]); return s.version = t.version, tt.activate([s]), s }, o = t._gsQueue) { for (s = 0; s < o.length; s++)o[s](); for (a in m) m[a].func || t.console.log("GSAP encountered missing dependency: " + a) } l = !1 } }("undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window, "TweenMax"); var ua = function () { window._uac = {}; var t = window.navigator.userAgent.toLowerCase(), e = window.navigator.appVersion.toLowerCase(); _uac.browser = -1 !== t.indexOf("edge") ? "is-edge" : -1 !== t.indexOf("iemobile") ? "is-iemobile" : -1 !== t.indexOf("trident/7") ? "is-ie11" : -1 === t.indexOf("msie") || -1 !== t.indexOf("opera") ? -1 !== t.indexOf("chrome") && -1 === t.indexOf("edge") ? "is-chrome" : -1 !== t.indexOf("safari") && -1 === t.indexOf("chrome") ? "is-safari" : -1 !== t.indexOf("opera") ? "is-opera" : -1 !== t.indexOf("firefox") ? "is-firefox" : "unknown_browser" : -1 !== e.indexOf("msie 6.") ? "is-ie6" : -1 !== e.indexOf("msie 7.") ? "is-ie7" : -1 !== e.indexOf("msie 8.") ? "is-ie8" : -1 !== e.indexOf("msie 9.") ? "is-ie9" : -1 !== e.indexOf("msie 10.") ? "is-ie10" : void 0, _uac.device = -1 !== t.indexOf("iphone") || -1 !== t.indexOf("ipod") ? "iphone" : -1 !== t.indexOf("ipad") ? "ipad" : -1 !== t.indexOf("android") ? "android" : -1 !== t.indexOf("windows") && -1 !== t.indexOf("phone") ? "windows_phone" : "", _uac.iosVer = function () { if (/iP(hone|od|ad)/.test(navigator.platform)) { var t = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/); return [parseInt(t[1], 10), parseInt(t[2], 10), parseInt(t[3] || 0, 10)][0] } return 0 }(), _uac.isIE = "ie" === _uac.browser.substr(0, 2) && "iemobile" !== _uac.browser, _uac.isiOS = "iphone" === _uac.device || "ipad" === _uac.device, _uac.isMobile = -1 !== t.indexOf("mobi") || "iphone" === _uac.device || "windows_phone" === _uac.device && -1 === t.indexOf("wpdesktop") || "iemobile" === _uac.device, _uac.isTablet = "ipad" === _uac.device || "android" === _uac.device && !_uac.isMobile, _uac.isTouch = "ontouchstart" in window, _uac.isModern = !("ie6" === _uac.browser || "ie7" === _uac.browser || "ie8" === _uac.browser || "ie9" === _uac.browser || 0 < _uac.iosVer && _uac.iosVer < 8), document.addEventListener("DOMContentLoaded", function () { var t; document.documentElement.className += (t = " ", t += "" !== _uac.browser ? _uac.browser + " " : "is-browser-unknown ", t += "" !== _uac.device ? _uac.device + " " : "is-device-unknown ", t += _uac.isMobile ? "is-mobile " : "is-desktop ", t += _uac.isTouch ? "is-touch " : "is-mouse ", t += _uac.isiOS ? "is-ios " : "", t += _uac.isIE ? "is-ie " : "", t += _uac.isModern ? "is-modern " : "is-old ") }) }(), $jscomp = { scope: {} }; $jscomp.defineProperty = "function" == typeof Object.defineProperties ? Object.defineProperty : function (t, e, r) { if (r.get || r.set) throw new TypeError("ES3 does not support getters and setters."); t != Array.prototype && t != Object.prototype && (t[e] = r.value) }, $jscomp.getGlobal = function (t) { return "undefined" != typeof window && window === t ? t : "undefined" != typeof global && null != global ? global : t }, $jscomp.global = $jscomp.getGlobal(this), $jscomp.SYMBOL_PREFIX = "jscomp_symbol_", $jscomp.initSymbol = function () { $jscomp.initSymbol = function () { }, $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol) }, $jscomp.symbolCounter_ = 0, $jscomp.Symbol = function (t) { return $jscomp.SYMBOL_PREFIX + (t || "") + $jscomp.symbolCounter_++ }, $jscomp.initSymbolIterator = function () { $jscomp.initSymbol(); var t = $jscomp.global.Symbol.iterator; t || (t = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator")), "function" != typeof Array.prototype[t] && $jscomp.defineProperty(Array.prototype, t, { configurable: !0, writable: !0, value: function () { return $jscomp.arrayIterator(this) } }), $jscomp.initSymbolIterator = function () { } }, $jscomp.arrayIterator = function (t) { var e = 0; return $jscomp.iteratorPrototype(function () { return e < t.length ? { done: !1, value: t[e++] } : { done: !0 } }) }, $jscomp.iteratorPrototype = function (t) { return $jscomp.initSymbolIterator(), (t = { next: t })[$jscomp.global.Symbol.iterator] = function () { return this }, t }, $jscomp.array = $jscomp.array || {}, $jscomp.iteratorFromArray = function (t, e) { $jscomp.initSymbolIterator(), t instanceof String && (t += ""); var r = 0, n = { next: function () { if (r < t.length) { var i = r++; return { value: e(i, t[i]), done: !1 } } return n.next = function () { return { done: !0, value: void 0 } }, n.next() } }; return n[Symbol.iterator] = function () { return n }, n }, $jscomp.polyfill = function (t, e, r, n) { if (e) { for (r = $jscomp.global, t = t.split("."), n = 0; n < t.length - 1; n++) { var i = t[n]; i in r || (r[i] = {}), r = r[i] } (e = e(n = r[t = t[t.length - 1]])) != n && null != e && $jscomp.defineProperty(r, t, { configurable: !0, writable: !0, value: e }) } }, $jscomp.polyfill("Array.prototype.keys", function (t) { return t || function () { return $jscomp.iteratorFromArray(this, function (t) { return t }) } }, "es6-impl", "es3"); var $jscomp$this = this; !function (t, e) { "function" == typeof define && define.amd ? define([], e) : "object" == typeof module && module.exports ? module.exports = e() : t.anime = e() }(this, function () { function t(t) { if (!A.col(t)) try { return document.querySelectorAll(t) } catch (t) { } } function e(t, e) { for (var r = t.length, n = 2 <= arguments.length ? arguments[1] : void 0, i = [], o = 0; o < r; o++)if (o in t) { var s = t[o]; e.call(n, s, o, t) && i.push(s) } return i } function r(t) { return t.reduce(function (t, e) { return t.concat(A.arr(e) ? r(e) : e) }, []) } function n(e) { return A.arr(e) ? e : (A.str(e) && (e = t(e) || e), e instanceof NodeList || e instanceof HTMLCollection ? [].slice.call(e) : [e]) } function i(t, e) { return t.some(function (t) { return t === e }) } function o(t) { var e, r = {}; for (e in t) r[e] = t[e]; return r } function s(t, e) { var r, n = o(t); for (r in t) n[r] = e.hasOwnProperty(r) ? e[r] : t[r]; return n } function a(t, e) { var r, n = o(t); for (r in e) n[r] = A.und(t[r]) ? e[r] : t[r]; return n } function u(t) { if (t = /([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t)) return t[2] } function l(t, e) { return A.fnc(t) ? t(e.target, e.id, e.total) : t } function h(t, e) { if (e in t.style) return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()) || "0" } function c(t, e) { return A.dom(t) && i(P, e) ? "transform" : A.dom(t) && (t.getAttribute(e) || A.svg(t) && t[e]) ? "attribute" : A.dom(t) && "transform" !== e && h(t, e) ? "css" : null != t[e] ? "object" : void 0 } function f(t, r) { switch (c(t, r)) { case "transform": return function (t, r) { var n = function (t) { return -1 < t.indexOf("translate") || "perspective" === t ? "px" : -1 < t.indexOf("rotate") || -1 < t.indexOf("skew") ? "deg" : void 0 }(r); if (n = -1 < r.indexOf("scale") ? 1 : 0 + n, !(t = t.style.transform)) return n; for (var i = [], o = [], s = [], a = /(\w+)\((.+?)\)/g; i = a.exec(t);)o.push(i[1]), s.push(i[2]); return (t = e(s, function (t, e) { return o[e] === r })).length ? t[0] : n }(t, r); case "css": return h(t, r); case "attribute": return t.getAttribute(r) }return t[r] || 0 } function d(t, e) { var r = /^(\*=|\+=|-=)/.exec(t); if (!r) return t; var n = u(t) || 0; switch (e = parseFloat(e), t = parseFloat(t.replace(r[0], "")), r[0][0]) { case "+": return e + t + n; case "-": return e - t + n; case "*": return e * t + n } } function p(t, e) { return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) } function g(t) { t = t.points; for (var e, r = 0, n = 0; n < t.numberOfItems; n++) { var i = t.getItem(n); 0 < n && (r += p(e, i)), e = i } return r } function m(t) { if (t.getTotalLength) return t.getTotalLength(); switch (t.tagName.toLowerCase()) { case "circle": return 2 * Math.PI * t.getAttribute("r"); case "rect": return 2 * t.getAttribute("width") + 2 * t.getAttribute("height"); case "line": return p({ x: t.getAttribute("x1"), y: t.getAttribute("y1") }, { x: t.getAttribute("x2"), y: t.getAttribute("y2") }); case "polyline": return g(t); case "polygon": var e = t.points; return g(t) + p(e.getItem(e.numberOfItems - 1), e.getItem(0)) } } function v(t, e) { function r(r) { return r = void 0 === r ? 0 : r, t.el.getPointAtLength(1 <= e + r ? e + r : 0) } var n = r(), i = r(-1), o = r(1); switch (t.property) { case "x": return n.x; case "y": return n.y; case "angle": return 180 * Math.atan2(o.y - i.y, o.x - i.x) / Math.PI } } function y(t, e) { var r, n = /-?\d*\.?\d+/g; if (r = A.pth(t) ? t.totalLength : t, A.col(r)) if (A.rgb(r)) { var i = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(r); r = i ? "rgba(" + i[1] + ",1)" : r } else r = A.hex(r) ? function (t) { t = t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function (t, e, r, n) { return e + e + r + r + n + n }); var e = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t); return "rgba(" + (t = parseInt(e[1], 16)) + "," + parseInt(e[2], 16) + "," + (e = parseInt(e[3], 16)) + ",1)" }(r) : A.hsl(r) ? function (t) { function e(t, e, r) { return 0 > r && (r += 1), 1 < r && --r, r < 1 / 6 ? t + 6 * (e - t) * r : .5 > r ? e : r < 2 / 3 ? t + (e - t) * (2 / 3 - r) * 6 : t } var r = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t); t = parseInt(r[1]) / 360; var n = parseInt(r[2]) / 100, i = parseInt(r[3]) / 100; if (r = r[4] || 1, 0 == n) i = n = t = i; else { var o = .5 > i ? i * (1 + n) : i + n - i * n, s = 2 * i - o; i = e(s, o, t + 1 / 3), n = e(s, o, t), t = e(s, o, t - 1 / 3) } return "rgba(" + 255 * i + "," + 255 * n + "," + 255 * t + "," + r + ")" }(r) : void 0; else i = (i = u(r)) ? r.substr(0, r.length - i.length) : r, r = e && !/\s/g.test(r) ? i + e : i; return { original: r += "", numbers: r.match(n) ? r.match(n).map(Number) : [0], strings: A.str(t) || e ? r.split(n) : [] } } function _(t) { return e(t = t ? r(A.arr(t) ? t.map(n) : n(t)) : [], function (t, e, r) { return r.indexOf(t) === e }) } function x(t, e) { var r = o(e); if (A.arr(t)) { var i = t.length; 2 !== i || A.obj(t[0]) ? A.fnc(e.duration) || (r.duration = e.duration / i) : t = { value: t } } return n(t).map(function (t, r) { return r = r ? 0 : e.delay, t = A.obj(t) && !A.pth(t) ? t : { value: t }, A.und(t.delay) && (t.delay = r), t }).map(function (t) { return a(t, r) }) } function b(t, e) { var r; return t.tweens.map(function (n) { var i = (n = function (t, e) { var r, n = {}; for (r in t) { var i = l(t[r], e); A.arr(i) && 1 === (i = i.map(function (t) { return l(t, e) })).length && (i = i[0]), n[r] = i } return n.duration = parseFloat(n.duration), n.delay = parseFloat(n.delay), n }(n, e)).value, o = f(e.target, t.name), s = r ? r.to.original : o, a = (s = A.arr(i) ? i[0] : s, d(A.arr(i) ? i[1] : i, s)); return o = u(a) || u(s) || u(o), n.from = y(s, o), n.to = y(a, o), n.start = r ? r.end : t.offset, n.end = n.start + n.delay + n.duration, n.easing = function (t) { return A.arr(t) ? M.apply(this, t) : R[t] }(n.easing), n.elasticity = (1e3 - Math.min(Math.max(n.elasticity, 1), 999)) / 1e3, n.isPath = A.pth(i), n.isColor = A.col(n.from.original), n.isColor && (n.round = 1), r = n }) } function T(t, e, r, n) { var i = "delay" === t; return e.length ? (i ? Math.min : Math.max).apply(Math, e.map(function (e) { return e[t] })) : i ? n.delay : r.offset + n.delay + n.duration } function w(t) { var n, i = s(E, t), o = s(O, t), u = function (t) { var e = _(t); return e.map(function (t, r) { return { target: t, id: r, total: e.length } }) }(t.targets), l = [], h = a(i, o); for (n in t) h.hasOwnProperty(n) || "targets" === n || l.push({ name: n, offset: h.offset, tweens: x(t[n], o) }); return t = function (t, n) { return e(r(u.map(function (t) { return n.map(function (e) { var r = c(t.target, e.name); if (r) { var n = b(e, t); e = { type: r, property: e.name, animatable: t, tweens: n, duration: n[n.length - 1].end, delay: n[0].delay } } else e = void 0; return e }) })), function (t) { return !A.und(t) }) }(0, l), a(i, { children: [], animatables: u, animations: t, duration: T("duration", t, i, o), delay: T("delay", t, i, o) }) } function S(t) { function r() { return window.Promise && new Promise(function (t) { return f = t }) } function n(t) { return p.reversed ? p.duration - t : t } function i(t) { for (var r = 0, n = {}, i = p.animations, o = i.length; r < o;) { var s = i[r], a = s.animatable, u = (l = s.tweens)[d = l.length - 1]; d && (u = e(l, function (e) { return t < e.end })[0] || u); for (var l = Math.min(Math.max(t - u.start - u.delay, 0), u.duration) / u.duration, c = isNaN(l) ? 1 : u.easing(l, u.elasticity), f = (l = u.to.strings, u.round), d = [], g = void 0, m = (g = u.to.numbers.length, 0); m < g; m++) { var y = void 0, _ = (y = u.to.numbers[m], u.from.numbers[m]); y = u.isPath ? v(u.value, c * y) : _ + c * (y - _), f && (u.isColor && 2 < m || (y = Math.round(y * f) / f)), d.push(y) } if (u = l.length) for (g = l[0], c = 0; c < u; c++)f = l[c + 1], m = d[c], isNaN(m) || (g = f ? g + (m + f) : g + (m + " ")); else g = d[0]; D[s.type](a.target, s.property, g, n, a.id), s.currentValue = g, r++ } if (r = Object.keys(n).length) for (i = 0; i < r; i++)C || (C = h(document.body, "transform") ? "transform" : "-webkit-transform"), p.animatables[i].target.style[C] = n[i].join(" "); p.currentTime = t, p.progress = t / p.duration * 100 } function o(t) { p[t] && p[t](p) } function s() { p.remaining && !0 !== p.remaining && p.remaining-- } function a(t) { var e = p.duration, a = p.offset, h = a + p.delay, g = p.currentTime, m = p.reversed, v = n(t); if (p.children.length) { var y = p.children, _ = y.length; if (v >= p.currentTime) for (var x = 0; x < _; x++)y[x].seek(v); else for (; _--;)y[_].seek(v) } (v >= h || !e) && (p.began || (p.began = !0, o("begin")), o("run")), v > a && v < e ? i(v) : (v <= a && 0 !== g && (i(0), m && s()), (v >= e && g !== e || !e) && (i(e), m || s())), o("update"), t >= e && (p.remaining ? (l = u, "alternate" === p.direction && (p.reversed = !p.reversed)) : (p.pause(), p.completed || (p.completed = !0, o("complete"), "Promise" in window && (f(), d = r()))), c = 0) } t = void 0 === t ? {} : t; var u, l, c = 0, f = null, d = r(), p = w(t); return p.reset = function () { var t = p.direction, e = p.loop; for (p.currentTime = 0, p.progress = 0, p.paused = !0, p.began = !1, p.completed = !1, p.reversed = "reverse" === t, p.remaining = "alternate" === t && 1 === e ? 2 : e, i(0), t = p.children.length; t--;)p.children[t].reset() }, p.tick = function (t) { u = t, l || (l = u), a((c + u - l) * S.speed) }, p.seek = function (t) { a(n(t)) }, p.pause = function () { var t = I.indexOf(p); -1 < t && I.splice(t, 1), p.paused = !0 }, p.play = function () { p.paused && (p.paused = !1, l = 0, c = n(p.currentTime), I.push(p), L || F()) }, p.reverse = function () { p.reversed = !p.reversed, l = 0, c = n(p.currentTime) }, p.restart = function () { p.pause(), p.reset(), p.play() }, p.finished = d, p.reset(), p.autoplay && p.play(), p } var C, E = { update: void 0, begin: void 0, run: void 0, complete: void 0, loop: 1, direction: "normal", autoplay: !0, offset: 0 }, O = { duration: 1e3, delay: 0, easing: "easeOutElastic", elasticity: 500, round: 0 }, P = "translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "), A = { arr: function (t) { return Array.isArray(t) }, obj: function (t) { return -1 < Object.prototype.toString.call(t).indexOf("Object") }, pth: function (t) { return A.obj(t) && t.hasOwnProperty("totalLength") }, svg: function (t) { return t instanceof SVGElement }, dom: function (t) { return t.nodeType || A.svg(t) }, str: function (t) { return "string" == typeof t }, fnc: function (t) { return "function" == typeof t }, und: function (t) { return void 0 === t }, hex: function (t) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t) }, rgb: function (t) { return /^rgb/.test(t) }, hsl: function (t) { return /^hsl/.test(t) }, col: function (t) { return A.hex(t) || A.rgb(t) || A.hsl(t) } }, M = function () { function t(t, e, r) { return (((1 - 3 * r + 3 * e) * t + (3 * r - 6 * e)) * t + 3 * e) * t } return function (e, r, n, i) { if (0 <= e && 1 >= e && 0 <= n && 1 >= n) { var o = new Float32Array(11); if (e !== r || n !== i) for (var s = 0; 11 > s; ++s)o[s] = t(.1 * s, e, n); return function (s) { if (e === r && n === i) return s; if (0 === s) return 0; if (1 === s) return 1; for (var a = 0, u = 1; 10 !== u && o[u] <= s; ++u)a += .1; u = a + (s - o[--u]) / (o[u + 1] - o[u]) * .1; var l = 3 * (1 - 3 * n + 3 * e) * u * u + 2 * (3 * n - 6 * e) * u + 3 * e; if (.001 <= l) { for (a = 0; 4 > a && 0 != (l = 3 * (1 - 3 * n + 3 * e) * u * u + 2 * (3 * n - 6 * e) * u + 3 * e); ++a) { var h = t(u, e, n) - s; u -= h / l } s = u } else if (0 === l) s = u; else { u = a, a += .1; var c = 0; do { 0 < (l = t(h = u + (a - u) / 2, e, n) - s) ? a = h : u = h } while (1e-7 < Math.abs(l) && 10 > ++c); s = h } return t(s, r, i) } } } }(), R = function () { function t(t, e) { return 0 === t || 1 === t ? t : -Math.pow(2, 10 * (t - 1)) * Math.sin(2 * (t - 1 - e / (2 * Math.PI) * Math.asin(1)) * Math.PI / e) } var e, r = "Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "), n = { In: [[.55, .085, .68, .53], [.55, .055, .675, .19], [.895, .03, .685, .22], [.755, .05, .855, .06], [.47, 0, .745, .715], [.95, .05, .795, .035], [.6, .04, .98, .335], [.6, -.28, .735, .045], t], Out: [[.25, .46, .45, .94], [.215, .61, .355, 1], [.165, .84, .44, 1], [.23, 1, .32, 1], [.39, .575, .565, 1], [.19, 1, .22, 1], [.075, .82, .165, 1], [.175, .885, .32, 1.275], function (e, r) { return 1 - t(1 - e, r) }], InOut: [[.455, .03, .515, .955], [.645, .045, .355, 1], [.77, 0, .175, 1], [.86, 0, .07, 1], [.445, .05, .55, .95], [1, 0, 0, 1], [.785, .135, .15, .86], [.68, -.55, .265, 1.55], function (e, r) { return .5 > e ? t(2 * e, r) / 2 : 1 - t(-2 * e + 2, r) / 2 }] }, i = { linear: M(.25, .25, .75, .75) }, o = {}; for (e in n) o.type = e, n[o.type].forEach(function (t) { return function (e, n) { i["ease" + t.type + r[n]] = A.fnc(e) ? e : M.apply($jscomp$this, e) } }(o)), o = { type: o.type }; return i }(), D = { css: function (t, e, r) { return t.style[e] = r }, attribute: function (t, e, r) { return t.setAttribute(e, r) }, object: function (t, e, r) { return t[e] = r }, transform: function (t, e, r, n, i) { n[i] || (n[i] = []), n[i].push(e + "(" + r + ")") } }, I = [], L = 0, F = function () { function t() { L = requestAnimationFrame(e) } function e(e) { var r = I.length; if (r) { for (var n = 0; n < r;)I[n] && I[n].tick(e), n++; t() } else cancelAnimationFrame(L), L = 0 } return t }(); return S.version = "2.2.0", S.speed = 1, S.running = I, S.remove = function (t) { t = _(t); for (var e = I.length; e--;)for (var r = I[e], n = r.animations, o = n.length; o--;)i(t, n[o].animatable.target) && (n.splice(o, 1), n.length || r.pause()) }, S.getValue = f, S.path = function (e, r) { var n = A.str(e) ? t(e)[0] : e, i = r || 100; return function (t) { return { el: n, property: t, totalLength: m(n) * (i / 100) } } }, S.setDashoffset = function (t) { var e = m(t); return t.setAttribute("stroke-dasharray", e), e }, S.bezier = M, S.easings = R, S.timeline = function (t) { var e = S(t); return e.pause(), e.duration = 0, e.add = function (r) { return e.children.forEach(function (t) { t.began = !0, t.completed = !0 }), n(r).forEach(function (r) { var n = a(r, s(O, t || {})); n.targets = n.targets || t.targets, r = e.duration; var i = n.offset; n.autoplay = !1, n.direction = e.direction, n.offset = A.und(i) ? r : d(i, r), e.began = !0, e.completed = !0, e.seek(n.offset), (n = S(n)).began = !0, n.completed = !0, n.duration > r && (e.duration = n.duration), e.children.push(n) }), e.seek(0), e.reset(), e.autoplay && e.restart(), e }, e }, S.random = function (t, e) { return Math.floor(Math.random() * (e - t + 1)) + t }, S }), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define("Barba", [], e) : "object" == typeof exports ? exports.Barba = e() : t.Barba = e() }(this, function () { return function (t) { var e = {}; function r(n) { if (e[n]) return e[n].exports; var i = e[n] = { exports: {}, id: n, loaded: !1 }; return t[n].call(i.exports, i, i.exports, r), i.loaded = !0, i.exports } return r.m = t, r.c = e, r.p = "http://localhost:8080/dist", r(0) }([function (t, e, r) { "function" != typeof Promise && (window.Promise = r(1)); var n = { version: "1.0.0", BaseTransition: r(4), BaseView: r(6), BaseCache: r(8), Dispatcher: r(7), HistoryManager: r(9), Pjax: r(10), Prefetch: r(13), Utils: r(5) }; t.exports = n }, function (t, e, r) { (function (e) { !function (r) { var n = setTimeout; function i() { } var o = "function" == typeof e && e || function (t) { n(t, 0) }, s = function (t) { "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", t) }; function a(t) { if ("object" != typeof this) throw new TypeError("Promises must be constructed via new"); if ("function" != typeof t) throw new TypeError("not a function"); this._state = 0, this._handled = !1, this._value = void 0, this._deferreds = [], d(t, this) } function u(t, e) { for (; 3 === t._state;)t = t._value; 0 !== t._state ? (t._handled = !0, o(function () { var r = 1 === t._state ? e.onFulfilled : e.onRejected; if (null !== r) { var n; try { n = r(t._value) } catch (t) { return void h(e.promise, t) } l(e.promise, n) } else (1 === t._state ? l : h)(e.promise, t._value) })) : t._deferreds.push(e) } function l(t, e) { try { if (e === t) throw new TypeError("A promise cannot be resolved with itself."); if (e && ("object" == typeof e || "function" == typeof e)) { var r = e.then; if (e instanceof a) return t._state = 3, t._value = e, void c(t); if ("function" == typeof r) return void d((n = r, i = e, function () { n.apply(i, arguments) }), t) } t._state = 1, t._value = e, c(t) } catch (e) { h(t, e) } var n, i } function h(t, e) { t._state = 2, t._value = e, c(t) } function c(t) { 2 === t._state && 0 === t._deferreds.length && o(function () { t._handled || s(t._value) }); for (var e = 0, r = t._deferreds.length; e < r; e++)u(t, t._deferreds[e]); t._deferreds = null } function f(t, e, r) { this.onFulfilled = "function" == typeof t ? t : null, this.onRejected = "function" == typeof e ? e : null, this.promise = r } function d(t, e) { var r = !1; try { t(function (t) { r || (r = !0, l(e, t)) }, function (t) { r || (r = !0, h(e, t)) }) } catch (t) { if (r) return; r = !0, h(e, t) } } a.prototype.catch = function (t) { return this.then(null, t) }, a.prototype.then = function (t, e) { var r = new this.constructor(i); return u(this, new f(t, e, r)), r }, a.all = function (t) { var e = Array.prototype.slice.call(t); return new a(function (t, r) { if (0 === e.length) return t([]); var n = e.length; function i(o, s) { try { if (s && ("object" == typeof s || "function" == typeof s)) { var a = s.then; if ("function" == typeof a) return void a.call(s, function (t) { i(o, t) }, r) } e[o] = s, 0 == --n && t(e) } catch (t) { r(t) } } for (var o = 0; o < e.length; o++)i(o, e[o]) }) }, a.resolve = function (t) { return t && "object" == typeof t && t.constructor === a ? t : new a(function (e) { e(t) }) }, a.reject = function (t) { return new a(function (e, r) { r(t) }) }, a.race = function (t) { return new a(function (e, r) { for (var n = 0, i = t.length; n < i; n++)t[n].then(e, r) }) }, a._setImmediateFn = function (t) { o = t }, a._setUnhandledRejectionFn = function (t) { s = t }, void 0 !== t && t.exports ? t.exports = a : r.Promise || (r.Promise = a) }(this) }).call(e, r(2).setImmediate) }, function (t, e, r) { (function (t, n) { var i = r(3).nextTick, o = Function.prototype.apply, s = Array.prototype.slice, a = {}, u = 0; function l(t, e) { this._id = t, this._clearFn = e } e.setTimeout = function () { return new l(o.call(setTimeout, window, arguments), clearTimeout) }, e.setInterval = function () { return new l(o.call(setInterval, window, arguments), clearInterval) }, e.clearTimeout = e.clearInterval = function (t) { t.close() }, l.prototype.unref = l.prototype.ref = function () { }, l.prototype.close = function () { this._clearFn.call(window, this._id) }, e.enroll = function (t, e) { clearTimeout(t._idleTimeoutId), t._idleTimeout = e }, e.unenroll = function (t) { clearTimeout(t._idleTimeoutId), t._idleTimeout = -1 }, e._unrefActive = e.active = function (t) { clearTimeout(t._idleTimeoutId); var e = t._idleTimeout; e >= 0 && (t._idleTimeoutId = setTimeout(function () { t._onTimeout && t._onTimeout() }, e)) }, e.setImmediate = "function" == typeof t ? t : function (t) { var r = u++, n = !(arguments.length < 2) && s.call(arguments, 1); return a[r] = !0, i(function () { a[r] && (n ? t.apply(null, n) : t.call(null), e.clearImmediate(r)) }), r }, e.clearImmediate = "function" == typeof n ? n : function (t) { delete a[t] } }).call(e, r(2).setImmediate, r(2).clearImmediate) }, function (t, e) { var r, n, i = t.exports = {}; !function () { try { r = setTimeout } catch (t) { r = function () { throw new Error("setTimeout is not defined") } } try { n = clearTimeout } catch (t) { n = function () { throw new Error("clearTimeout is not defined") } } }(); var o, s = [], a = !1, u = -1; function l() { a && o && (a = !1, o.length ? s = o.concat(s) : u = -1, s.length && h()) } function h() { if (!a) { var t = r(l); a = !0; for (var e = s.length; e;) { for (o = s, s = []; ++u < e;)o && o[u].run(); u = -1, e = s.length } o = null, a = !1, n(t) } } function c(t, e) { this.fun = t, this.array = e } function f() { } i.nextTick = function (t) { var e = new Array(arguments.length - 1); if (arguments.length > 1) for (var n = 1; n < arguments.length; n++)e[n - 1] = arguments[n]; s.push(new c(t, e)), 1 !== s.length || a || r(h, 0) }, c.prototype.run = function () { this.fun.apply(null, this.array) }, i.title = "browser", i.browser = !0, i.env = {}, i.argv = [], i.version = "", i.versions = {}, i.on = f, i.addListener = f, i.once = f, i.off = f, i.removeListener = f, i.removeAllListeners = f, i.emit = f, i.binding = function (t) { throw new Error("process.binding is not supported") }, i.cwd = function () { return "/" }, i.chdir = function (t) { throw new Error("process.chdir is not supported") }, i.umask = function () { return 0 } }, function (t, e, r) { var n = r(5), i = { oldContainer: void 0, newContainer: void 0, newContainerLoading: void 0, extend: function (t) { return n.extend(this, t) }, init: function (t, e) { var r = this; return this.oldContainer = t, this._newContainerPromise = e, this.deferred = n.deferred(), this.newContainerReady = n.deferred(), this.newContainerLoading = this.newContainerReady.promise, this.start(), this._newContainerPromise.then(function (t) { r.newContainer = t, r.newContainerReady.resolve() }), this.deferred.promise }, done: function () { this.oldContainer.parentNode.removeChild(this.oldContainer), this.newContainer.style.visibility = "visible", this.deferred.resolve() }, start: function () { } }; t.exports = i }, function (t, e) { var r = { getCurrentUrl: function () { return window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.search }, cleanLink: function (t) { return t.replace(/#.*/, "") }, xhrTimeout: 5e3, xhr: function (t) { var e = this.deferred(), r = new XMLHttpRequest; return r.onreadystatechange = function () { if (4 === r.readyState) return 200 === r.status ? e.resolve(r.responseText) : e.reject(new Error("xhr: HTTP code is not 200")) }, r.ontimeout = function () { return e.reject(new Error("xhr: Timeout exceeded")) }, r.open("GET", t), r.timeout = this.xhrTimeout, r.setRequestHeader("x-barba", "yes"), r.send(), e.promise }, extend: function (t, e) { var r = Object.create(t); for (var n in e) e.hasOwnProperty(n) && (r[n] = e[n]); return r }, deferred: function () { return new function () { this.resolve = null, this.reject = null, this.promise = new Promise(function (t, e) { this.resolve = t, this.reject = e }.bind(this)) } }, getPort: function (t) { var e = void 0 !== t ? t : window.location.port, r = window.location.protocol; return "" != e ? parseInt(e) : "http:" === r ? 80 : "https:" === r ? 443 : void 0 } }; t.exports = r }, function (t, e, r) { var n = r(7), i = r(5), o = { namespace: null, extend: function (t) { return i.extend(this, t) }, init: function () { var t = this; n.on("initStateChange", function (e, r) { r && r.namespace === t.namespace && t.onLeave() }), n.on("newPageReady", function (e, r, n) { t.container = n, e.namespace === t.namespace && t.onEnter() }), n.on("transitionCompleted", function (e, r) { e.namespace === t.namespace && t.onEnterCompleted(), r && r.namespace === t.namespace && t.onLeaveCompleted() }) }, onEnter: function () { }, onEnterCompleted: function () { }, onLeave: function () { }, onLeaveCompleted: function () { } }; t.exports = o }, function (t, e) { var r = { events: {}, on: function (t, e) { this.events[t] = this.events[t] || [], this.events[t].push(e) }, off: function (t, e) { t in this.events != !1 && this.events[t].splice(this.events[t].indexOf(e), 1) }, trigger: function (t) { if (t in this.events != !1) for (var e = 0; e < this.events[t].length; e++)this.events[t][e].apply(this, Array.prototype.slice.call(arguments, 1)) } }; t.exports = r }, function (t, e, r) { var n = r(5), i = { data: {}, extend: function (t) { return n.extend(this, t) }, set: function (t, e) { this.data[t] = e }, get: function (t) { return this.data[t] }, reset: function () { this.data = {} } }; t.exports = i }, function (t, e) { var r = { history: [], add: function (t, e) { e || (e = void 0), this.history.push({ url: t, namespace: e }) }, currentStatus: function () { return this.history[this.history.length - 1] }, prevStatus: function () { var t = this.history; return t.length < 2 ? null : t[t.length - 2] } }; t.exports = r }, function (t, e, r) { var n = r(5), i = r(7), o = r(11), s = r(8), a = r(9), u = { Dom: r(12), History: a, Cache: s, cacheEnabled: !0, transitionProgress: !1, ignoreClassLink: "no-pjax", start: function () { this.init() }, init: function () { var t = this.Dom.getContainer(); this.Dom.getWrapper().setAttribute("aria-live", "polite"), this.History.add(this.getCurrentUrl(), this.Dom.getNamespace(t)), i.trigger("initStateChange", this.History.currentStatus()), i.trigger("newPageReady", this.History.currentStatus(), {}, t, this.Dom.currentHTML), i.trigger("transitionCompleted", this.History.currentStatus()), this.bindEvents() }, bindEvents: function () { document.addEventListener("click", this.onLinkClick.bind(this)), window.addEventListener("popstate", this.onStateChange.bind(this)) }, getCurrentUrl: function () { return n.cleanLink(n.getCurrentUrl()) }, goTo: function (t) { window.history.pushState(null, null, t), this.onStateChange() }, forceGoTo: function (t) { window.location = t }, load: function (t) { var e, r = n.deferred(), i = this; return (e = this.Cache.get(t)) || (e = n.xhr(t), this.Cache.set(t, e)), e.then(function (t) { var e = i.Dom.parseResponse(t); i.Dom.putContainer(e), i.cacheEnabled || i.Cache.reset(), r.resolve(e) }, function () { i.forceGoTo(t), r.reject() }), r.promise }, getHref: function (t) { if (t) return t.getAttribute && "string" == typeof t.getAttribute("xlink:href") ? t.getAttribute("xlink:href") : "string" == typeof t.href ? t.href : void 0 }, onLinkClick: function (t) { for (var e = t.target; e && !this.getHref(e);)e = e.parentNode; if (this.preventCheck(t, e)) { t.stopPropagation(), t.preventDefault(), i.trigger("linkClicked", e, t); var r = this.getHref(e); this.goTo(r) } }, preventCheck: function (t, e) { if (!window.history.pushState) return !1; var r = this.getHref(e); return !(!e || !r) && (!(t.which > 1 || t.metaKey || t.ctrlKey || t.shiftKey || t.altKey) && ((!e.target || "_blank" !== e.target) && (window.location.protocol === e.protocol && window.location.hostname === e.hostname && (n.getPort() === n.getPort(e.port) && (!(r.indexOf("#") > -1) && ((!e.getAttribute || "string" != typeof e.getAttribute("download")) && (n.cleanLink(r) != n.cleanLink(location.href) && !e.classList.contains(this.ignoreClassLink)))))))) }, getTransition: function () { return o }, onStateChange: function () { var t = this.getCurrentUrl(); if (this.transitionProgress && this.forceGoTo(t), this.History.currentStatus().url === t) return !1; this.History.add(t); var e = this.load(t), r = Object.create(this.getTransition()); this.transitionProgress = !0, i.trigger("initStateChange", this.History.currentStatus(), this.History.prevStatus()); var n = r.init(this.Dom.getContainer(), e); e.then(this.onNewContainerLoaded.bind(this)), n.then(this.onTransitionEnd.bind(this)) }, onNewContainerLoaded: function (t) { this.History.currentStatus().namespace = this.Dom.getNamespace(t), i.trigger("newPageReady", this.History.currentStatus(), this.History.prevStatus(), t, this.Dom.currentHTML) }, onTransitionEnd: function () { this.transitionProgress = !1, i.trigger("transitionCompleted", this.History.currentStatus(), this.History.prevStatus()) } }; t.exports = u }, function (t, e, r) { var n = r(4).extend({ start: function () { this.newContainerLoading.then(this.finish.bind(this)) }, finish: function () { document.body.scrollTop = 0, this.done() } }); t.exports = n }, function (t, e) { var r = { dataNamespace: "namespace", wrapperId: "js-pjax-container", containerClass: "js-pjax-wrapper", currentHTML: document.documentElement.innerHTML, parseResponse: function (t) { this.currentHTML = t; var e = document.createElement("div"); e.innerHTML = t; var r = e.querySelector("title"); return r && (document.title = r.textContent), this.getContainer(e) }, getWrapper: function () { var t = document.getElementById(this.wrapperId); if (!t) throw new Error("Barba.js: wrapper not found!"); return t }, getContainer: function (t) { if (t || (t = document.body), !t) throw new Error("Barba.js: DOM not ready!"); var e = this.parseContainer(t); if (e && e.jquery && (e = e[0]), !e) throw new Error("Barba.js: no container found"); return e }, getNamespace: function (t) { return t && t.dataset ? t.dataset[this.dataNamespace] : t ? t.getAttribute("data-" + this.dataNamespace) : null }, putContainer: function (t) { t.style.visibility = "hidden", this.getWrapper().appendChild(t) }, parseContainer: function (t) { return t.querySelector("." + this.containerClass) } }; t.exports = r }, function (t, e, r) { var n = r(5), i = r(10), o = { ignoreClassLink: "no-barba-prefetch", init: function () { if (!window.history.pushState) return !1; document.body.addEventListener("mouseover", this.onLinkEnter.bind(this)), document.body.addEventListener("touchstart", this.onLinkEnter.bind(this)) }, onLinkEnter: function (t) { for (var e = t.target; e && !i.getHref(e);)e = e.parentNode; if (e && !e.classList.contains(this.ignoreClassLink)) { var r = i.getHref(e); if (i.preventCheck(t, e) && !i.Cache.get(r)) { var o = n.xhr(r); i.Cache.set(r, o) } } } }; t.exports = o }]) }), function (t) { if ("object" == typeof exports && "undefined" != typeof module) module.exports = t(); else if ("function" == typeof define && define.amd) define([], t); else { ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).PIXI = t() } }(function () { return function t(e, r, n) { function i(s, a) { if (!r[s]) { if (!e[s]) { var u = "function" == typeof require && require; if (!a && u) return u(s, !0); if (o) return o(s, !0); var l = new Error("Cannot find module '" + s + "'"); throw l.code = "MODULE_NOT_FOUND", l } var h = r[s] = { exports: {} }; e[s][0].call(h.exports, function (t) { var r = e[s][1][t]; return i(r || t) }, h, h.exports, t, e, r, n) } return r[s].exports } for (var o = "function" == typeof require && require, s = 0; s < n.length; s++)i(n[s]); return i }({ 1: [function (t, e, r) { "use strict"; function n(t) { var e = 32; return (t &= -t) && e--, 65535 & t && (e -= 16), 16711935 & t && (e -= 8), 252645135 & t && (e -= 4), 858993459 & t && (e -= 2), 1431655765 & t && (e -= 1), e } r.INT_BITS = 32, r.INT_MAX = 2147483647, r.INT_MIN = -1 << 31, r.sign = function (t) { return (t > 0) - (t < 0) }, r.abs = function (t) { var e = t >> 31; return (t ^ e) - e }, r.min = function (t, e) { return e ^ (t ^ e) & -(t < e) }, r.max = function (t, e) { return t ^ (t ^ e) & -(t < e) }, r.isPow2 = function (t) { return !(t & t - 1 || !t) }, r.log2 = function (t) { var e, r; return e = (t > 65535) << 4, e |= r = ((t >>>= e) > 255) << 3, e |= r = ((t >>>= r) > 15) << 2, (e |= r = ((t >>>= r) > 3) << 1) | (t >>>= r) >> 1 }, r.log10 = function (t) { return t >= 1e9 ? 9 : t >= 1e8 ? 8 : t >= 1e7 ? 7 : t >= 1e6 ? 6 : t >= 1e5 ? 5 : t >= 1e4 ? 4 : t >= 1e3 ? 3 : t >= 100 ? 2 : t >= 10 ? 1 : 0 }, r.popCount = function (t) { return 16843009 * ((t = (858993459 & (t -= t >>> 1 & 1431655765)) + (t >>> 2 & 858993459)) + (t >>> 4) & 252645135) >>> 24 }, r.countTrailingZeros = n, r.nextPow2 = function (t) { return t += 0 === t, --t, t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, (t |= t >>> 16) + 1 }, r.prevPow2 = function (t) { return t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, (t |= t >>> 16) - (t >>> 1) }, r.parity = function (t) { return t ^= t >>> 16, t ^= t >>> 8, t ^= t >>> 4, 27030 >>> (t &= 15) & 1 }; var i = new Array(256); !function (t) { for (var e = 0; e < 256; ++e) { var r = e, n = e, i = 7; for (r >>>= 1; r; r >>>= 1)n <<= 1, n |= 1 & r, --i; t[e] = n << i & 255 } }(i), r.reverse = function (t) { return i[255 & t] << 24 | i[t >>> 8 & 255] << 16 | i[t >>> 16 & 255] << 8 | i[t >>> 24 & 255] }, r.interleave2 = function (t, e) { return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t &= 65535) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e &= 65535) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1 }, r.deinterleave2 = function (t, e) { return (t = 65535 & ((t = 16711935 & ((t = 252645135 & ((t = 858993459 & ((t = t >>> e & 1431655765) | t >>> 1)) | t >>> 2)) | t >>> 4)) | t >>> 16)) << 16 >> 16 }, r.interleave3 = function (t, e, r) { return t = 1227133513 & ((t = 3272356035 & ((t = 251719695 & ((t = 4278190335 & ((t &= 1023) | t << 16)) | t << 8)) | t << 4)) | t << 2), (t |= (e = 1227133513 & ((e = 3272356035 & ((e = 251719695 & ((e = 4278190335 & ((e &= 1023) | e << 16)) | e << 8)) | e << 4)) | e << 2)) << 1) | (r = 1227133513 & ((r = 3272356035 & ((r = 251719695 & ((r = 4278190335 & ((r &= 1023) | r << 16)) | r << 8)) | r << 4)) | r << 2)) << 2 }, r.deinterleave3 = function (t, e) { return (t = 1023 & ((t = 4278190335 & ((t = 251719695 & ((t = 3272356035 & ((t = t >>> e & 1227133513) | t >>> 2)) | t >>> 4)) | t >>> 8)) | t >>> 16)) << 22 >> 22 }, r.nextCombination = function (t) { var e = t | t - 1; return e + 1 | (~e & -~e) - 1 >>> n(t) + 1 } }, {}], 2: [function (t, e, r) { "use strict"; function n(t, e, r) { r = r || 2; var n, a, u, l, h, d, g, m = e && e.length, v = m ? e[0] * r : t.length, y = i(t, 0, v, r, !0), _ = []; if (!y) return _; if (m && (y = function (t, e, r, n) { var s, a, u, l, h, d = []; for (s = 0, a = e.length; s < a; s++)u = e[s] * n, l = s < a - 1 ? e[s + 1] * n : t.length, (h = i(t, u, l, n, !1)) === h.next && (h.steiner = !0), d.push(p(h)); for (d.sort(c), s = 0; s < d.length; s++)f(d[s], r), r = o(r, r.next); return r }(t, e, y, r)), t.length > 80 * r) { n = u = t[0], a = l = t[1]; for (var x = r; x < v; x += r)(h = t[x]) < n && (n = h), (d = t[x + 1]) < a && (a = d), h > u && (u = h), d > l && (l = d); g = Math.max(u - n, l - a) } return s(y, _, r, n, a, g), _ } function i(t, e, r, n, i) { var o, s; if (i === C(t, e, r, n) > 0) for (o = e; o < r; o += n)s = T(o, t[o], t[o + 1], s); else for (o = r - n; o >= e; o -= n)s = T(o, t[o], t[o + 1], s); return s && y(s, s.next) && (w(s), s = s.next), s } function o(t, e) { if (!t) return t; e || (e = t); var r, n = t; do { if (r = !1, n.steiner || !y(n, n.next) && 0 !== v(n.prev, n, n.next)) n = n.next; else { if (w(n), (n = e = n.prev) === n.next) return null; r = !0 } } while (r || n !== e); return e } function s(t, e, r, n, i, c, f) { if (t) { !f && c && function (t, e, r, n) { var i = t; do { null === i.z && (i.z = d(i.x, i.y, e, r, n)), i.prevZ = i.prev, i.nextZ = i.next, i = i.next } while (i !== t); i.prevZ.nextZ = null, i.prevZ = null, function (t) { var e, r, n, i, o, s, a, u, l = 1; do { for (r = t, t = null, o = null, s = 0; r;) { for (s++, n = r, a = 0, e = 0; e < l && (a++, n = n.nextZ); e++); for (u = l; a > 0 || u > 0 && n;)0 === a ? (i = n, n = n.nextZ, u--) : 0 !== u && n ? r.z <= n.z ? (i = r, r = r.nextZ, a--) : (i = n, n = n.nextZ, u--) : (i = r, r = r.nextZ, a--), o ? o.nextZ = i : t = i, i.prevZ = o, o = i; r = n } o.nextZ = null, l *= 2 } while (s > 1) }(i) }(t, n, i, c); for (var p, g, m = t; t.prev !== t.next;)if (p = t.prev, g = t.next, c ? u(t, n, i, c) : a(t)) e.push(p.i / r), e.push(t.i / r), e.push(g.i / r), w(t), t = g.next, m = g.next; else if ((t = g) === m) { f ? 1 === f ? s(t = l(t, e, r), e, r, n, i, c, 2) : 2 === f && h(t, e, r, n, i, c) : s(o(t), e, r, n, i, c, 1); break } } } function a(t) { var e = t.prev, r = t, n = t.next; if (v(e, r, n) >= 0) return !1; for (var i = t.next.next; i !== t.prev;) { if (g(e.x, e.y, r.x, r.y, n.x, n.y, i.x, i.y) && v(i.prev, i, i.next) >= 0) return !1; i = i.next } return !0 } function u(t, e, r, n) { var i = t.prev, o = t, s = t.next; if (v(i, o, s) >= 0) return !1; for (var a = i.x < o.x ? i.x < s.x ? i.x : s.x : o.x < s.x ? o.x : s.x, u = i.y < o.y ? i.y < s.y ? i.y : s.y : o.y < s.y ? o.y : s.y, l = i.x > o.x ? i.x > s.x ? i.x : s.x : o.x > s.x ? o.x : s.x, h = i.y > o.y ? i.y > s.y ? i.y : s.y : o.y > s.y ? o.y : s.y, c = d(a, u, e, r, n), f = d(l, h, e, r, n), p = t.nextZ; p && p.z <= f;) { if (p !== t.prev && p !== t.next && g(i.x, i.y, o.x, o.y, s.x, s.y, p.x, p.y) && v(p.prev, p, p.next) >= 0) return !1; p = p.nextZ } for (p = t.prevZ; p && p.z >= c;) { if (p !== t.prev && p !== t.next && g(i.x, i.y, o.x, o.y, s.x, s.y, p.x, p.y) && v(p.prev, p, p.next) >= 0) return !1; p = p.prevZ } return !0 } function l(t, e, r) { var n = t; do { var i = n.prev, o = n.next.next; !y(i, o) && _(i, n, n.next, o) && x(i, o) && x(o, i) && (e.push(i.i / r), e.push(n.i / r), e.push(o.i / r), w(n), w(n.next), n = t = o), n = n.next } while (n !== t); return n } function h(t, e, r, n, i, a) { var u = t; do { for (var l = u.next.next; l !== u.prev;) { if (u.i !== l.i && m(u, l)) { var h = b(u, l); return u = o(u, u.next), h = o(h, h.next), s(u, e, r, n, i, a), void s(h, e, r, n, i, a) } l = l.next } u = u.next } while (u !== t) } function c(t, e) { return t.x - e.x } function f(t, e) { if (e = function (t, e) { var r, n = e, i = t.x, o = t.y, s = -1 / 0; do { if (o <= n.y && o >= n.next.y) { var a = n.x + (o - n.y) * (n.next.x - n.x) / (n.next.y - n.y); if (a <= i && a > s) { if (s = a, a === i) { if (o === n.y) return n; if (o === n.next.y) return n.next } r = n.x < n.next.x ? n : n.next } } n = n.next } while (n !== e); if (!r) return null; if (i === s) return r.prev; var u, l = r, h = r.x, c = r.y, f = 1 / 0; n = r.next; for (; n !== l;)i >= n.x && n.x >= h && g(o < c ? i : s, o, h, c, o < c ? s : i, o, n.x, n.y) && ((u = Math.abs(o - n.y) / (i - n.x)) < f || u === f && n.x > r.x) && x(n, t) && (r = n, f = u), n = n.next; return r }(t, e)) { var r = b(e, t); o(r, r.next) } } function d(t, e, r, n, i) { return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - r) / i) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - n) / i) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1 } function p(t) { var e = t, r = t; do { e.x < r.x && (r = e), e = e.next } while (e !== t); return r } function g(t, e, r, n, i, o, s, a) { return (i - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (n - a) - (r - s) * (e - a) >= 0 && (r - s) * (o - a) - (i - s) * (n - a) >= 0 } function m(t, e) { return t.next.i !== e.i && t.prev.i !== e.i && !function (t, e) { var r = t; do { if (r.i !== t.i && r.next.i !== t.i && r.i !== e.i && r.next.i !== e.i && _(r, r.next, t, e)) return !0; r = r.next } while (r !== t); return !1 }(t, e) && x(t, e) && x(e, t) && function (t, e) { var r = t, n = !1, i = (t.x + e.x) / 2, o = (t.y + e.y) / 2; do { r.y > o != r.next.y > o && i < (r.next.x - r.x) * (o - r.y) / (r.next.y - r.y) + r.x && (n = !n), r = r.next } while (r !== t); return n }(t, e) } function v(t, e, r) { return (e.y - t.y) * (r.x - e.x) - (e.x - t.x) * (r.y - e.y) } function y(t, e) { return t.x === e.x && t.y === e.y } function _(t, e, r, n) { return !!(y(t, e) && y(r, n) || y(t, n) && y(r, e)) || v(t, e, r) > 0 != v(t, e, n) > 0 && v(r, n, t) > 0 != v(r, n, e) > 0 } function x(t, e) { return v(t.prev, t, t.next) < 0 ? v(t, e, t.next) >= 0 && v(t, t.prev, e) >= 0 : v(t, e, t.prev) < 0 || v(t, t.next, e) < 0 } function b(t, e) { var r = new S(t.i, t.x, t.y), n = new S(e.i, e.x, e.y), i = t.next, o = e.prev; return t.next = e, e.prev = t, r.next = i, i.prev = r, n.next = r, r.prev = n, o.next = n, n.prev = o, n } function T(t, e, r, n) { var i = new S(t, e, r); return n ? (i.next = n.next, i.prev = n, n.next.prev = i, n.next = i) : (i.prev = i, i.next = i), i } function w(t) { t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ) } function S(t, e, r) { this.i = t, this.x = e, this.y = r, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1 } function C(t, e, r, n) { for (var i = 0, o = e, s = r - n; o < r; o += n)i += (t[s] - t[o]) * (t[o + 1] + t[s + 1]), s = o; return i } e.exports = n, n.deviation = function (t, e, r, n) { var i = e && e.length, o = i ? e[0] * r : t.length, s = Math.abs(C(t, 0, o, r)); if (i) for (var a = 0, u = e.length; a < u; a++) { var l = e[a] * r, h = a < u - 1 ? e[a + 1] * r : t.length; s -= Math.abs(C(t, l, h, r)) } var c = 0; for (a = 0; a < n.length; a += 3) { var f = n[a] * r, d = n[a + 1] * r, p = n[a + 2] * r; c += Math.abs((t[f] - t[p]) * (t[d + 1] - t[f + 1]) - (t[f] - t[d]) * (t[p + 1] - t[f + 1])) } return 0 === s && 0 === c ? 0 : Math.abs((c - s) / s) }, n.flatten = function (t) { for (var e = t[0][0].length, r = { vertices: [], holes: [], dimensions: e }, n = 0, i = 0; i < t.length; i++) { for (var o = 0; o < t[i].length; o++)for (var s = 0; s < e; s++)r.vertices.push(t[i][o][s]); i > 0 && (n += t[i - 1].length, r.holes.push(n)) } return r } }, {}], 3: [function (t, e, r) { "use strict"; var n = Object.prototype.hasOwnProperty, i = "~"; function o() { } function s(t, e, r) { this.fn = t, this.context = e, this.once = r || !1 } function a() { this._events = new o, this._eventsCount = 0 } Object.create && (o.prototype = Object.create(null), (new o).__proto__ || (i = !1)), a.prototype.eventNames = function () { var t, e, r = []; if (0 === this._eventsCount) return r; for (e in t = this._events) n.call(t, e) && r.push(i ? e.slice(1) : e); return Object.getOwnPropertySymbols ? r.concat(Object.getOwnPropertySymbols(t)) : r }, a.prototype.listeners = function (t, e) { var r = i ? i + t : t, n = this._events[r]; if (e) return !!n; if (!n) return []; if (n.fn) return [n.fn]; for (var o = 0, s = n.length, a = new Array(s); o < s; o++)a[o] = n[o].fn; return a }, a.prototype.emit = function (t, e, r, n, o, s) { var a = i ? i + t : t; if (!this._events[a]) return !1; var u, l, h = this._events[a], c = arguments.length; if (h.fn) { switch (h.once && this.removeListener(t, h.fn, void 0, !0), c) { case 1: return h.fn.call(h.context), !0; case 2: return h.fn.call(h.context, e), !0; case 3: return h.fn.call(h.context, e, r), !0; case 4: return h.fn.call(h.context, e, r, n), !0; case 5: return h.fn.call(h.context, e, r, n, o), !0; case 6: return h.fn.call(h.context, e, r, n, o, s), !0 }for (l = 1, u = new Array(c - 1); l < c; l++)u[l - 1] = arguments[l]; h.fn.apply(h.context, u) } else { var f, d = h.length; for (l = 0; l < d; l++)switch (h[l].once && this.removeListener(t, h[l].fn, void 0, !0), c) { case 1: h[l].fn.call(h[l].context); break; case 2: h[l].fn.call(h[l].context, e); break; case 3: h[l].fn.call(h[l].context, e, r); break; case 4: h[l].fn.call(h[l].context, e, r, n); break; default: if (!u) for (f = 1, u = new Array(c - 1); f < c; f++)u[f - 1] = arguments[f]; h[l].fn.apply(h[l].context, u) } } return !0 }, a.prototype.on = function (t, e, r) { var n = new s(e, r || this), o = i ? i + t : t; return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], n] : this._events[o].push(n) : (this._events[o] = n, this._eventsCount++), this }, a.prototype.once = function (t, e, r) { var n = new s(e, r || this, !0), o = i ? i + t : t; return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], n] : this._events[o].push(n) : (this._events[o] = n, this._eventsCount++), this }, a.prototype.removeListener = function (t, e, r, n) { var s = i ? i + t : t; if (!this._events[s]) return this; if (!e) return 0 == --this._eventsCount ? this._events = new o : delete this._events[s], this; var a = this._events[s]; if (a.fn) a.fn !== e || n && !a.once || r && a.context !== r || (0 == --this._eventsCount ? this._events = new o : delete this._events[s]); else { for (var u = 0, l = [], h = a.length; u < h; u++)(a[u].fn !== e || n && !a[u].once || r && a[u].context !== r) && l.push(a[u]); l.length ? this._events[s] = 1 === l.length ? l[0] : l : 0 == --this._eventsCount ? this._events = new o : delete this._events[s] } return this }, a.prototype.removeAllListeners = function (t) { var e; return t ? (e = i ? i + t : t, this._events[e] && (0 == --this._eventsCount ? this._events = new o : delete this._events[e])) : (this._events = new o, this._eventsCount = 0), this }, a.prototype.off = a.prototype.removeListener, a.prototype.addListener = a.prototype.on, a.prototype.setMaxListeners = function () { return this }, a.prefixed = i, a.EventEmitter = a, void 0 !== e && (e.exports = a) }, {}], 4: [function (t, e, r) { var n, i, o, s, a, u, l, h, c, f, d, p, g, m, v, y, _, x, b; n = this, i = /iPhone/i, o = /iPod/i, s = /iPad/i, a = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i, u = /Android/i, l = /(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i, h = /(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i, c = /Windows Phone/i, f = /(?=.*\bWindows\b)(?=.*\bARM\b)/i, d = /BlackBerry/i, p = /BB10/i, g = /Opera Mini/i, m = /(CriOS|Chrome)(?=.*\bMobile\b)/i, v = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i, y = new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)", "i"), _ = function (t, e) { return t.test(e) }, x = function (t) { var e = t || navigator.userAgent, r = e.split("[FBAN"); if (void 0 !== r[1] && (e = r[0]), void 0 !== (r = e.split("Twitter"))[1] && (e = r[0]), this.apple = { phone: _(i, e), ipod: _(o, e), tablet: !_(i, e) && _(s, e), device: _(i, e) || _(o, e) || _(s, e) }, this.amazon = { phone: _(l, e), tablet: !_(l, e) && _(h, e), device: _(l, e) || _(h, e) }, this.android = { phone: _(l, e) || _(a, e), tablet: !_(l, e) && !_(a, e) && (_(h, e) || _(u, e)), device: _(l, e) || _(h, e) || _(a, e) || _(u, e) }, this.windows = { phone: _(c, e), tablet: _(f, e), device: _(c, e) || _(f, e) }, this.other = { blackberry: _(d, e), blackberry10: _(p, e), opera: _(g, e), firefox: _(v, e), chrome: _(m, e), device: _(d, e) || _(p, e) || _(g, e) || _(v, e) || _(m, e) }, this.seven_inch = _(y, e), this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch, this.phone = this.apple.phone || this.android.phone || this.windows.phone, this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet, "undefined" == typeof window) return this }, b = function () { var t = new x; return t.Class = x, t }, void 0 !== e && e.exports && "undefined" == typeof window ? e.exports = x : void 0 !== e && e.exports && "undefined" != typeof window ? e.exports = b() : n.isMobile = b() }, {}], 5: [function (t, e, r) { "use strict"; var n = Object.getOwnPropertySymbols, i = Object.prototype.hasOwnProperty, o = Object.prototype.propertyIsEnumerable; e.exports = function () { try { if (!Object.assign) return !1; var t = new String("abc"); if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1; for (var e = {}, r = 0; r < 10; r++)e["_" + String.fromCharCode(r)] = r; if ("0123456789" !== Object.getOwnPropertyNames(e).map(function (t) { return e[t] }).join("")) return !1; var n = {}; return "abcdefghijklmnopqrst".split("").forEach(function (t) { n[t] = t }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("") } catch (t) { return !1 } }() ? Object.assign : function (t, e) { for (var r, s, a = function (t) { if (null == t) throw new TypeError("Object.assign cannot be called with null or undefined"); return Object(t) }(t), u = 1; u < arguments.length; u++) { for (var l in r = Object(arguments[u])) i.call(r, l) && (a[l] = r[l]); if (n) { s = n(r); for (var h = 0; h < s.length; h++)o.call(r, s[h]) && (a[s[h]] = r[s[h]]) } } return a } }, {}], 6: [function (t, e, r) { var n = new ArrayBuffer(0), i = function (t, e, r, i) { this.gl = t, this.buffer = t.createBuffer(), this.type = e || t.ARRAY_BUFFER, this.drawType = i || t.STATIC_DRAW, this.data = n, r && this.upload(r), this._updateID = 0 }; i.prototype.upload = function (t, e, r) { r || this.bind(); var n = this.gl; t = t || this.data, e = e || 0, this.data.byteLength >= t.byteLength ? n.bufferSubData(this.type, e, t) : n.bufferData(this.type, t, this.drawType), this.data = t }, i.prototype.bind = function () { this.gl.bindBuffer(this.type, this.buffer) }, i.createVertexBuffer = function (t, e, r) { return new i(t, t.ARRAY_BUFFER, e, r) }, i.createIndexBuffer = function (t, e, r) { return new i(t, t.ELEMENT_ARRAY_BUFFER, e, r) }, i.create = function (t, e, r, n) { return new i(t, e, r, n) }, i.prototype.destroy = function () { this.gl.deleteBuffer(this.buffer) }, e.exports = i }, {}], 7: [function (t, e, r) { var n = t("./GLTexture"), i = function (t, e, r) { this.gl = t, this.framebuffer = t.createFramebuffer(), this.stencil = null, this.texture = null, this.width = e || 100, this.height = r || 100 }; i.prototype.enableTexture = function (t) { var e = this.gl; this.texture = t || new n(e), this.texture.bind(), this.bind(), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.texture.texture, 0) }, i.prototype.enableStencil = function () { if (!this.stencil) { var t = this.gl; this.stencil = t.createRenderbuffer(), t.bindRenderbuffer(t.RENDERBUFFER, this.stencil), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencil), t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.width, this.height) } }, i.prototype.clear = function (t, e, r, n) { this.bind(); var i = this.gl; i.clearColor(t, e, r, n), i.clear(i.COLOR_BUFFER_BIT | i.DEPTH_BUFFER_BIT) }, i.prototype.bind = function () { var t = this.gl; t.bindFramebuffer(t.FRAMEBUFFER, this.framebuffer) }, i.prototype.unbind = function () { var t = this.gl; t.bindFramebuffer(t.FRAMEBUFFER, null) }, i.prototype.resize = function (t, e) { var r = this.gl; this.width = t, this.height = e, this.texture && this.texture.uploadData(null, t, e), this.stencil && (r.bindRenderbuffer(r.RENDERBUFFER, this.stencil), r.renderbufferStorage(r.RENDERBUFFER, r.DEPTH_STENCIL, t, e)) }, i.prototype.destroy = function () { var t = this.gl; this.texture && this.texture.destroy(), t.deleteFramebuffer(this.framebuffer), this.gl = null, this.stencil = null, this.texture = null }, i.createRGBA = function (t, e, r, o) { var s = n.fromData(t, null, e, r); s.enableNearestScaling(), s.enableWrapClamp(); var a = new i(t, e, r); return a.enableTexture(s), a.unbind(), a }, i.createFloat32 = function (t, e, r, o) { var s = new n.fromData(t, o, e, r); s.enableNearestScaling(), s.enableWrapClamp(); var a = new i(t, e, r); return a.enableTexture(s), a.unbind(), a }, e.exports = i }, { "./GLTexture": 9 }], 8: [function (t, e, r) { var n = t("./shader/compileProgram"), i = t("./shader/extractAttributes"), o = t("./shader/extractUniforms"), s = t("./shader/setPrecision"), a = t("./shader/generateUniformAccessObject"), u = function (t, e, r, u, l) { this.gl = t, u && (e = s(e, u), r = s(r, u)), this.program = n(t, e, r, l), this.attributes = i(t, this.program), this.uniformData = o(t, this.program), this.uniforms = a(t, this.uniformData) }; u.prototype.bind = function () { this.gl.useProgram(this.program) }, u.prototype.destroy = function () { this.attributes = null, this.uniformData = null, this.uniforms = null, this.gl.deleteProgram(this.program) }, e.exports = u }, { "./shader/compileProgram": 14, "./shader/extractAttributes": 16, "./shader/extractUniforms": 17, "./shader/generateUniformAccessObject": 18, "./shader/setPrecision": 22 }], 9: [function (t, e, r) { var n = function (t, e, r, n, i) { this.gl = t, this.texture = t.createTexture(), this.mipmap = !1, this.premultiplyAlpha = !1, this.width = e || -1, this.height = r || -1, this.format = n || t.RGBA, this.type = i || t.UNSIGNED_BYTE }; n.prototype.upload = function (t) { this.bind(); var e = this.gl; e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha); var r = t.videoWidth || t.width, n = t.videoHeight || t.height; n !== this.height || r !== this.width ? e.texImage2D(e.TEXTURE_2D, 0, this.format, this.format, this.type, t) : e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, this.format, this.type, t), this.width = r, this.height = n }; var i = !1; n.prototype.uploadData = function (t, e, r) { this.bind(); var n = this.gl; if (t instanceof Float32Array) { if (!i) { if (!n.getExtension("OES_texture_float")) throw new Error("floating point textures not available"); i = !0 } this.type = n.FLOAT } else this.type = this.type || n.UNSIGNED_BYTE; n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha), e !== this.width || r !== this.height ? n.texImage2D(n.TEXTURE_2D, 0, this.format, e, r, 0, this.format, this.type, t || null) : n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, e, r, this.format, this.type, t || null), this.width = e, this.height = r }, n.prototype.bind = function (t) { var e = this.gl; void 0 !== t && e.activeTexture(e.TEXTURE0 + t), e.bindTexture(e.TEXTURE_2D, this.texture) }, n.prototype.unbind = function () { var t = this.gl; t.bindTexture(t.TEXTURE_2D, null) }, n.prototype.minFilter = function (t) { var e = this.gl; this.bind(), this.mipmap ? e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR_MIPMAP_LINEAR : e.NEAREST_MIPMAP_NEAREST) : e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR : e.NEAREST) }, n.prototype.magFilter = function (t) { var e = this.gl; this.bind(), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, t ? e.LINEAR : e.NEAREST) }, n.prototype.enableMipmap = function () { var t = this.gl; this.bind(), this.mipmap = !0, t.generateMipmap(t.TEXTURE_2D) }, n.prototype.enableLinearScaling = function () { this.minFilter(!0), this.magFilter(!0) }, n.prototype.enableNearestScaling = function () { this.minFilter(!1), this.magFilter(!1) }, n.prototype.enableWrapClamp = function () { var t = this.gl; this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE) }, n.prototype.enableWrapRepeat = function () { var t = this.gl; this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.REPEAT) }, n.prototype.enableWrapMirrorRepeat = function () { var t = this.gl; this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.MIRRORED_REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.MIRRORED_REPEAT) }, n.prototype.destroy = function () { this.gl.deleteTexture(this.texture) }, n.fromSource = function (t, e, r) { var i = new n(t); return i.premultiplyAlpha = r || !1, i.upload(e), i }, n.fromData = function (t, e, r, i) { var o = new n(t); return o.uploadData(e, r, i), o }, e.exports = n }, {}], 10: [function (t, e, r) { var n = t("./setVertexAttribArrays"); function i(t, e) { if (this.nativeVaoExtension = null, i.FORCE_NATIVE || (this.nativeVaoExtension = t.getExtension("OES_vertex_array_object") || t.getExtension("MOZ_OES_vertex_array_object") || t.getExtension("WEBKIT_OES_vertex_array_object")), this.nativeState = e, this.nativeVaoExtension) { this.nativeVao = this.nativeVaoExtension.createVertexArrayOES(); var r = t.getParameter(t.MAX_VERTEX_ATTRIBS); this.nativeState = { tempAttribState: new Array(r), attribState: new Array(r) } } this.gl = t, this.attributes = [], this.indexBuffer = null, this.dirty = !1 } i.prototype.constructor = i, e.exports = i, i.FORCE_NATIVE = !1, i.prototype.bind = function () { return this.nativeVao ? (this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.dirty && (this.dirty = !1, this.activate())) : this.activate(), this }, i.prototype.unbind = function () { return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(null), this }, i.prototype.activate = function () { for (var t = this.gl, e = null, r = 0; r < this.attributes.length; r++) { var i = this.attributes[r]; e !== i.buffer && (i.buffer.bind(), e = i.buffer), t.vertexAttribPointer(i.attribute.location, i.attribute.size, i.type || t.FLOAT, i.normalized || !1, i.stride || 0, i.start || 0) } return n(t, this.attributes, this.nativeState), this.indexBuffer && this.indexBuffer.bind(), this }, i.prototype.addAttribute = function (t, e, r, n, i, o) { return this.attributes.push({ buffer: t, attribute: e, location: e.location, type: r || this.gl.FLOAT, normalized: n || !1, stride: i || 0, start: o || 0 }), this.dirty = !0, this }, i.prototype.addIndex = function (t) { return this.indexBuffer = t, this.dirty = !0, this }, i.prototype.clear = function () { return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.attributes.length = 0, this.indexBuffer = null, this }, i.prototype.draw = function (t, e, r) { var n = this.gl; return this.indexBuffer ? n.drawElements(t, e || this.indexBuffer.data.length, n.UNSIGNED_SHORT, 2 * (r || 0)) : n.drawArrays(t, r, e || this.getSize()), this }, i.prototype.destroy = function () { this.gl = null, this.indexBuffer = null, this.attributes = null, this.nativeState = null, this.nativeVao && this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao), this.nativeVaoExtension = null, this.nativeVao = null }, i.prototype.getSize = function () { var t = this.attributes[0]; return t.buffer.data.length / (t.stride / 4 || t.attribute.size) } }, { "./setVertexAttribArrays": 13 }], 11: [function (t, e, r) { e.exports = function (t, e) { var r = t.getContext("webgl", e) || t.getContext("experimental-webgl", e); if (!r) throw new Error("This browser does not support webGL. Try using the canvas renderer"); return r } }, {}], 12: [function (t, e, r) { var n = { createContext: t("./createContext"), setVertexAttribArrays: t("./setVertexAttribArrays"), GLBuffer: t("./GLBuffer"), GLFramebuffer: t("./GLFramebuffer"), GLShader: t("./GLShader"), GLTexture: t("./GLTexture"), VertexArrayObject: t("./VertexArrayObject"), shader: t("./shader") }; void 0 !== e && e.exports && (e.exports = n), "undefined" != typeof window && (window.PIXI = window.PIXI || {}, window.PIXI.glCore = n) }, { "./GLBuffer": 6, "./GLFramebuffer": 7, "./GLShader": 8, "./GLTexture": 9, "./VertexArrayObject": 10, "./createContext": 11, "./setVertexAttribArrays": 13, "./shader": 19 }], 13: [function (t, e, r) { e.exports = function (t, e, r) { var n; if (r) { var i = r.tempAttribState, o = r.attribState; for (n = 0; n < i.length; n++)i[n] = !1; for (n = 0; n < e.length; n++)i[e[n].attribute.location] = !0; for (n = 0; n < o.length; n++)o[n] !== i[n] && (o[n] = i[n], r.attribState[n] ? t.enableVertexAttribArray(n) : t.disableVertexAttribArray(n)) } else for (n = 0; n < e.length; n++) { var s = e[n]; t.enableVertexAttribArray(s.attribute.location) } } }, {}], 14: [function (t, e, r) { var n = function (t, e, r) { var n = t.createShader(e); return t.shaderSource(n, r), t.compileShader(n), t.getShaderParameter(n, t.COMPILE_STATUS) ? n : (console.log(t.getShaderInfoLog(n)), null) }; e.exports = function (t, e, r, i) { var o = n(t, t.VERTEX_SHADER, e), s = n(t, t.FRAGMENT_SHADER, r), a = t.createProgram(); if (t.attachShader(a, o), t.attachShader(a, s), i) for (var u in i) t.bindAttribLocation(a, i[u], u); return t.linkProgram(a), t.getProgramParameter(a, t.LINK_STATUS) || (console.error("Pixi.js Error: Could not initialize shader."), console.error("gl.VALIDATE_STATUS", t.getProgramParameter(a, t.VALIDATE_STATUS)), console.error("gl.getError()", t.getError()), "" !== t.getProgramInfoLog(a) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", t.getProgramInfoLog(a)), t.deleteProgram(a), a = null), t.deleteShader(o), t.deleteShader(s), a } }, {}], 15: [function (t, e, r) { var n = function (t) { for (var e = new Array(t), r = 0; r < e.length; r++)e[r] = !1; return e }; e.exports = function (t, e) { switch (t) { case "float": return 0; case "vec2": return new Float32Array(2 * e); case "vec3": return new Float32Array(3 * e); case "vec4": return new Float32Array(4 * e); case "int": case "sampler2D": return 0; case "ivec2": return new Int32Array(2 * e); case "ivec3": return new Int32Array(3 * e); case "ivec4": return new Int32Array(4 * e); case "bool": return !1; case "bvec2": return n(2 * e); case "bvec3": return n(3 * e); case "bvec4": return n(4 * e); case "mat2": return new Float32Array([1, 0, 0, 1]); case "mat3": return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]); case "mat4": return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]) } } }, {}], 16: [function (t, e, r) { var n = t("./mapType"), i = t("./mapSize"), o = function (t, e, r, n) { gl.vertexAttribPointer(this.location, this.size, t || gl.FLOAT, e || !1, r || 0, n || 0) }; e.exports = function (t, e) { for (var r = {}, s = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), a = 0; a < s; a++) { var u = t.getActiveAttrib(e, a), l = n(t, u.type); r[u.name] = { type: l, size: i(l), location: t.getAttribLocation(e, u.name), pointer: o } } return r } }, { "./mapSize": 20, "./mapType": 21 }], 17: [function (t, e, r) { var n = t("./mapType"), i = t("./defaultValue"); e.exports = function (t, e) { for (var r = {}, o = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), s = 0; s < o; s++) { var a = t.getActiveUniform(e, s), u = a.name.replace(/\[.*?\]/, ""), l = n(t, a.type); r[u] = { type: l, size: a.size, location: t.getUniformLocation(e, u), value: i(l, a.size) } } return r } }, { "./defaultValue": 15, "./mapType": 21 }], 18: [function (t, e, r) { var n = function (t) { var e = s.replace("%%", t); return new Function(e) }, i = function (t, e) { var r, n = a.replace(/%%/g, t); return (r = 1 === e.size ? u[e.type] : l[e.type]) && (n += "\nthis.gl." + r + ";"), new Function("value", n) }, o = function (t, e) { for (var r = e, n = 0; n < t.length - 1; n++) { var i = r[t[n]] || { data: {} }; r[t[n]] = i, r = i } return r }, s = ["return this.data.%%.value;"].join("\n"), a = ["this.data.%%.value = value;", "var location = this.data.%%.location;"].join("\n"), u = { float: "uniform1f(location, value)", vec2: "uniform2f(location, value[0], value[1])", vec3: "uniform3f(location, value[0], value[1], value[2])", vec4: "uniform4f(location, value[0], value[1], value[2], value[3])", int: "uniform1i(location, value)", ivec2: "uniform2i(location, value[0], value[1])", ivec3: "uniform3i(location, value[0], value[1], value[2])", ivec4: "uniform4i(location, value[0], value[1], value[2], value[3])", bool: "uniform1i(location, value)", bvec2: "uniform2i(location, value[0], value[1])", bvec3: "uniform3i(location, value[0], value[1], value[2])", bvec4: "uniform4i(location, value[0], value[1], value[2], value[3])", mat2: "uniformMatrix2fv(location, false, value)", mat3: "uniformMatrix3fv(location, false, value)", mat4: "uniformMatrix4fv(location, false, value)", sampler2D: "uniform1i(location, value)" }, l = { float: "uniform1fv(location, value)", vec2: "uniform2fv(location, value)", vec3: "uniform3fv(location, value)", vec4: "uniform4fv(location, value)", int: "uniform1iv(location, value)", ivec2: "uniform2iv(location, value)", ivec3: "uniform3iv(location, value)", ivec4: "uniform4iv(location, value)", bool: "uniform1iv(location, value)", bvec2: "uniform2iv(location, value)", bvec3: "uniform3iv(location, value)", bvec4: "uniform4iv(location, value)", sampler2D: "uniform1iv(location, value)" }; e.exports = function (t, e) { var r = { data: {} }; r.gl = t; for (var s = Object.keys(e), a = 0; a < s.length; a++) { var u = s[a], l = u.split("."), h = l[l.length - 1], c = o(l, r), f = e[u]; c.data[h] = f, c.gl = t, Object.defineProperty(c, h, { get: n(h), set: i(h, f) }) } return r } }, {}], 19: [function (t, e, r) { e.exports = { compileProgram: t("./compileProgram"), defaultValue: t("./defaultValue"), extractAttributes: t("./extractAttributes"), extractUniforms: t("./extractUniforms"), generateUniformAccessObject: t("./generateUniformAccessObject"), setPrecision: t("./setPrecision"), mapSize: t("./mapSize"), mapType: t("./mapType") } }, { "./compileProgram": 14, "./defaultValue": 15, "./extractAttributes": 16, "./extractUniforms": 17, "./generateUniformAccessObject": 18, "./mapSize": 20, "./mapType": 21, "./setPrecision": 22 }], 20: [function (t, e, r) { var n = { float: 1, vec2: 2, vec3: 3, vec4: 4, int: 1, ivec2: 2, ivec3: 3, ivec4: 4, bool: 1, bvec2: 2, bvec3: 3, bvec4: 4, mat2: 4, mat3: 9, mat4: 16, sampler2D: 1 }; e.exports = function (t) { return n[t] } }, {}], 21: [function (t, e, r) { var n = null, i = { FLOAT: "float", FLOAT_VEC2: "vec2", FLOAT_VEC3: "vec3", FLOAT_VEC4: "vec4", INT: "int", INT_VEC2: "ivec2", INT_VEC3: "ivec3", INT_VEC4: "ivec4", BOOL: "bool", BOOL_VEC2: "bvec2", BOOL_VEC3: "bvec3", BOOL_VEC4: "bvec4", FLOAT_MAT2: "mat2", FLOAT_MAT3: "mat3", FLOAT_MAT4: "mat4", SAMPLER_2D: "sampler2D" }; e.exports = function (t, e) { if (!n) { var r = Object.keys(i); n = {}; for (var o = 0; o < r.length; ++o) { var s = r[o]; n[t[s]] = i[s] } } return n[e] } }, {}], 22: [function (t, e, r) { e.exports = function (t, e) { return "precision" !== t.substring(0, 9) ? "precision " + e + " float;\n" + t : t } }, {}], 23: [function (t, e, r) { (function (t) { function e(t, e) { for (var r = 0, n = t.length - 1; n >= 0; n--) { var i = t[n]; "." === i ? t.splice(n, 1) : ".." === i ? (t.splice(n, 1), r++) : r && (t.splice(n, 1), r--) } if (e) for (; r--; r)t.unshift(".."); return t } var n = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/, i = function (t) { return n.exec(t).slice(1) }; function o(t, e) { if (t.filter) return t.filter(e); for (var r = [], n = 0; n < t.length; n++)e(t[n], n, t) && r.push(t[n]); return r } r.resolve = function () { for (var r = "", n = !1, i = arguments.length - 1; i >= -1 && !n; i--) { var s = i >= 0 ? arguments[i] : t.cwd(); if ("string" != typeof s) throw new TypeError("Arguments to path.resolve must be strings"); s && (r = s + "/" + r, n = "/" === s.charAt(0)) } return (n ? "/" : "") + (r = e(o(r.split("/"), function (t) { return !!t }), !n).join("/")) || "." }, r.normalize = function (t) { var n = r.isAbsolute(t), i = "/" === s(t, -1); return (t = e(o(t.split("/"), function (t) { return !!t }), !n).join("/")) || n || (t = "."), t && i && (t += "/"), (n ? "/" : "") + t }, r.isAbsolute = function (t) { return "/" === t.charAt(0) }, r.join = function () { var t = Array.prototype.slice.call(arguments, 0); return r.normalize(o(t, function (t, e) { if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings"); return t }).join("/")) }, r.relative = function (t, e) { function n(t) { for (var e = 0; e < t.length && "" === t[e]; e++); for (var r = t.length - 1; r >= 0 && "" === t[r]; r--); return e > r ? [] : t.slice(e, r - e + 1) } t = r.resolve(t).substr(1), e = r.resolve(e).substr(1); for (var i = n(t.split("/")), o = n(e.split("/")), s = Math.min(i.length, o.length), a = s, u = 0; u < s; u++)if (i[u] !== o[u]) { a = u; break } var l = []; for (u = a; u < i.length; u++)l.push(".."); return (l = l.concat(o.slice(a))).join("/") }, r.sep = "/", r.delimiter = ":", r.dirname = function (t) { var e = i(t), r = e[0], n = e[1]; return r || n ? (n && (n = n.substr(0, n.length - 1)), r + n) : "." }, r.basename = function (t, e) { var r = i(t)[2]; return e && r.substr(-1 * e.length) === e && (r = r.substr(0, r.length - e.length)), r }, r.extname = function (t) { return i(t)[3] }; var s = "b" === "ab".substr(-1) ? function (t, e, r) { return t.substr(e, r) } : function (t, e, r) { return e < 0 && (e = t.length + e), t.substr(e, r) } }).call(this, t("_process")) }, { _process: 24 }], 24: [function (t, e, r) { var n, i, o = e.exports = {}; function s() { throw new Error("setTimeout has not been defined") } function a() { throw new Error("clearTimeout has not been defined") } function u(t) { if (n === setTimeout) return setTimeout(t, 0); if ((n === s || !n) && setTimeout) return n = setTimeout, setTimeout(t, 0); try { return n(t, 0) } catch (e) { try { return n.call(null, t, 0) } catch (e) { return n.call(this, t, 0) } } } !function () { try { n = "function" == typeof setTimeout ? setTimeout : s } catch (t) { n = s } try { i = "function" == typeof clearTimeout ? clearTimeout : a } catch (t) { i = a } }(); var l, h = [], c = !1, f = -1; function d() { c && l && (c = !1, l.length ? h = l.concat(h) : f = -1, h.length && p()) } function p() { if (!c) { var t = u(d); c = !0; for (var e = h.length; e;) { for (l = h, h = []; ++f < e;)l && l[f].run(); f = -1, e = h.length } l = null, c = !1, function (t) { if (i === clearTimeout) return clearTimeout(t); if ((i === a || !i) && clearTimeout) return i = clearTimeout, clearTimeout(t); try { i(t) } catch (e) { try { return i.call(null, t) } catch (e) { return i.call(this, t) } } }(t) } } function g(t, e) { this.fun = t, this.array = e } function m() { } o.nextTick = function (t) { var e = new Array(arguments.length - 1); if (arguments.length > 1) for (var r = 1; r < arguments.length; r++)e[r - 1] = arguments[r]; h.push(new g(t, e)), 1 !== h.length || c || u(p) }, g.prototype.run = function () { this.fun.apply(null, this.array) }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = m, o.addListener = m, o.once = m, o.off = m, o.removeListener = m, o.removeAllListeners = m, o.emit = m, o.binding = function (t) { throw new Error("process.binding is not supported") }, o.cwd = function () { return "/" }, o.chdir = function (t) { throw new Error("process.chdir is not supported") }, o.umask = function () { return 0 } }, {}], 25: [function (t, e, r) { (function (t) { !function (n) { var i = "object" == typeof r && r && !r.nodeType && r, o = "object" == typeof e && e && !e.nodeType && e, s = "object" == typeof t && t; s.global !== s && s.window !== s && s.self !== s || (n = s); var a, u, l = 2147483647, h = 36, c = 1, f = 26, d = 38, p = 700, g = 72, m = 128, v = "-", y = /^xn--/, _ = /[^\x20-\x7E]/, x = /[\x2E\u3002\uFF0E\uFF61]/g, b = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" }, T = h - c, w = Math.floor, S = String.fromCharCode; function C(t) { throw new RangeError(b[t]) } function E(t, e) { for (var r = t.length, n = []; r--;)n[r] = e(t[r]); return n } function O(t, e) { var r = t.split("@"), n = ""; return r.length > 1 && (n = r[0] + "@", t = r[1]), n + E((t = t.replace(x, ".")).split("."), e).join(".") } function P(t) { for (var e, r, n = [], i = 0, o = t.length; i < o;)(e = t.charCodeAt(i++)) >= 55296 && e <= 56319 && i < o ? 56320 == (64512 & (r = t.charCodeAt(i++))) ? n.push(((1023 & e) << 10) + (1023 & r) + 65536) : (n.push(e), i--) : n.push(e); return n } function A(t) { return E(t, function (t) { var e = ""; return t > 65535 && (e += S((t -= 65536) >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e += S(t) }).join("") } function M(t, e) { return t + 22 + 75 * (t < 26) - ((0 != e) << 5) } function R(t, e, r) { var n = 0; for (t = r ? w(t / p) : t >> 1, t += w(t / e); t > T * f >> 1; n += h)t = w(t / T); return w(n + (T + 1) * t / (t + d)) } function D(t) { var e, r, n, i, o, s, a, u, d, p, y, _ = [], x = t.length, b = 0, T = m, S = g; for ((r = t.lastIndexOf(v)) < 0 && (r = 0), n = 0; n < r; ++n)t.charCodeAt(n) >= 128 && C("not-basic"), _.push(t.charCodeAt(n)); for (i = r > 0 ? r + 1 : 0; i < x;) { for (o = b, s = 1, a = h; i >= x && C("invalid-input"), ((u = (y = t.charCodeAt(i++)) - 48 < 10 ? y - 22 : y - 65 < 26 ? y - 65 : y - 97 < 26 ? y - 97 : h) >= h || u > w((l - b) / s)) && C("overflow"), b += u * s, !(u < (d = a <= S ? c : a >= S + f ? f : a - S)); a += h)s > w(l / (p = h - d)) && C("overflow"), s *= p; S = R(b - o, e = _.length + 1, 0 == o), w(b / e) > l - T && C("overflow"), T += w(b / e), b %= e, _.splice(b++, 0, T) } return A(_) } function I(t) { var e, r, n, i, o, s, a, u, d, p, y, _, x, b, T, E = []; for (_ = (t = P(t)).length, e = m, r = 0, o = g, s = 0; s < _; ++s)(y = t[s]) < 128 && E.push(S(y)); for (n = i = E.length, i && E.push(v); n < _;) { for (a = l, s = 0; s < _; ++s)(y = t[s]) >= e && y < a && (a = y); for (a - e > w((l - r) / (x = n + 1)) && C("overflow"), r += (a - e) * x, e = a, s = 0; s < _; ++s)if ((y = t[s]) < e && ++r > l && C("overflow"), y == e) { for (u = r, d = h; !(u < (p = d <= o ? c : d >= o + f ? f : d - o)); d += h)T = u - p, b = h - p, E.push(S(M(p + T % b, 0))), u = w(T / b); E.push(S(M(u, 0))), o = R(r, x, n == i), r = 0, ++n } ++r, ++e } return E.join("") } if (a = { version: "1.4.1", ucs2: { decode: P, encode: A }, decode: D, encode: I, toASCII: function (t) { return O(t, function (t) { return _.test(t) ? "xn--" + I(t) : t }) }, toUnicode: function (t) { return O(t, function (t) { return y.test(t) ? D(t.slice(4).toLowerCase()) : t }) } }, i && o) if (e.exports == i) o.exports = a; else for (u in a) a.hasOwnProperty(u) && (i[u] = a[u]); else n.punycode = a }(this) }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}], 26: [function (t, e, r) { "use strict"; function n(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } e.exports = function (t, e, r, o) { e = e || "&", r = r || "="; var s = {}; if ("string" != typeof t || 0 === t.length) return s; var a = /\+/g; t = t.split(e); var u = 1e3; o && "number" == typeof o.maxKeys && (u = o.maxKeys); var l = t.length; u > 0 && l > u && (l = u); for (var h = 0; h < l; ++h) { var c, f, d, p, g = t[h].replace(a, "%20"), m = g.indexOf(r); m >= 0 ? (c = g.substr(0, m), f = g.substr(m + 1)) : (c = g, f = ""), d = decodeURIComponent(c), p = decodeURIComponent(f), n(s, d) ? i(s[d]) ? s[d].push(p) : s[d] = [s[d], p] : s[d] = p } return s }; var i = Array.isArray || function (t) { return "[object Array]" === Object.prototype.toString.call(t) } }, {}], 27: [function (t, e, r) { "use strict"; var n = function (t) { switch (typeof t) { case "string": return t; case "boolean": return t ? "true" : "false"; case "number": return isFinite(t) ? t : ""; default: return "" } }; e.exports = function (t, e, r, a) { return e = e || "&", r = r || "=", null === t && (t = void 0), "object" == typeof t ? o(s(t), function (s) { var a = encodeURIComponent(n(s)) + r; return i(t[s]) ? o(t[s], function (t) { return a + encodeURIComponent(n(t)) }).join(e) : a + encodeURIComponent(n(t[s])) }).join(e) : a ? encodeURIComponent(n(a)) + r + encodeURIComponent(n(t)) : "" }; var i = Array.isArray || function (t) { return "[object Array]" === Object.prototype.toString.call(t) }; function o(t, e) { if (t.map) return t.map(e); for (var r = [], n = 0; n < t.length; n++)r.push(e(t[n], n)); return r } var s = Object.keys || function (t) { var e = []; for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.push(r); return e } }, {}], 28: [function (t, e, r) { "use strict"; r.decode = r.parse = t("./decode"), r.encode = r.stringify = t("./encode") }, { "./decode": 26, "./encode": 27 }], 29: [function (t, e, r) { "use strict"; var n = t("punycode"), i = t("./util"); function o() { this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null } r.parse = _, r.resolve = function (t, e) { return _(t, !1, !0).resolve(e) }, r.resolveObject = function (t, e) { return t ? _(t, !1, !0).resolveObject(e) : e }, r.format = function (t) { i.isString(t) && (t = _(t)); return t instanceof o ? t.format() : o.prototype.format.call(t) }, r.Url = o; var s = /^([a-z0-9.+-]+:)/i, a = /:[0-9]*$/, u = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, l = ["{", "}", "|", "\\", "^", "`"].concat(["<", ">", '"', "`", " ", "\r", "\n", "\t"]), h = ["'"].concat(l), c = ["%", "/", "?", ";", "#"].concat(h), f = ["/", "?", "#"], d = /^[+a-z0-9A-Z_-]{0,63}$/, p = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, g = { javascript: !0, "javascript:": !0 }, m = { javascript: !0, "javascript:": !0 }, v = { http: !0, https: !0, ftp: !0, gopher: !0, file: !0, "http:": !0, "https:": !0, "ftp:": !0, "gopher:": !0, "file:": !0 }, y = t("querystring"); function _(t, e, r) { if (t && i.isObject(t) && t instanceof o) return t; var n = new o; return n.parse(t, e, r), n } o.prototype.parse = function (t, e, r) { if (!i.isString(t)) throw new TypeError("Parameter 'url' must be a string, not " + typeof t); var o = t.indexOf("?"), a = -1 !== o && o < t.indexOf("#") ? "?" : "#", l = t.split(a); l[0] = l[0].replace(/\\/g, "/"); var _ = t = l.join(a); if (_ = _.trim(), !r && 1 === t.split("#").length) { var x = u.exec(_); if (x) return this.path = _, this.href = _, this.pathname = x[1], x[2] ? (this.search = x[2], this.query = e ? y.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "", this.query = {}), this } var b = s.exec(_); if (b) { var T = (b = b[0]).toLowerCase(); this.protocol = T, _ = _.substr(b.length) } if (r || b || _.match(/^\/\/[^@\/]+@[^@\/]+/)) { var w = "//" === _.substr(0, 2); !w || b && m[b] || (_ = _.substr(2), this.slashes = !0) } if (!m[b] && (w || b && !v[b])) { for (var S, C, E = -1, O = 0; O < f.length; O++) { -1 !== (P = _.indexOf(f[O])) && (-1 === E || P < E) && (E = P) } -1 !== (C = -1 === E ? _.lastIndexOf("@") : _.lastIndexOf("@", E)) && (S = _.slice(0, C), _ = _.slice(C + 1), this.auth = decodeURIComponent(S)), E = -1; for (O = 0; O < c.length; O++) { var P; -1 !== (P = _.indexOf(c[O])) && (-1 === E || P < E) && (E = P) } -1 === E && (E = _.length), this.host = _.slice(0, E), _ = _.slice(E), this.parseHost(), this.hostname = this.hostname || ""; var A = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1]; if (!A) for (var M = this.hostname.split(/\./), R = (O = 0, M.length); O < R; O++) { var D = M[O]; if (D && !D.match(d)) { for (var I = "", L = 0, F = D.length; L < F; L++)D.charCodeAt(L) > 127 ? I += "x" : I += D[L]; if (!I.match(d)) { var k = M.slice(0, O), j = M.slice(O + 1), N = D.match(p); N && (k.push(N[1]), j.unshift(N[2])), j.length && (_ = "/" + j.join(".") + _), this.hostname = k.join("."); break } } } this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), A || (this.hostname = n.toASCII(this.hostname)); var B = this.port ? ":" + this.port : "", U = this.hostname || ""; this.host = U + B, this.href += this.host, A && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== _[0] && (_ = "/" + _)) } if (!g[T]) for (O = 0, R = h.length; O < R; O++) { var z = h[O]; if (-1 !== _.indexOf(z)) { var X = encodeURIComponent(z); X === z && (X = escape(z)), _ = _.split(z).join(X) } } var W = _.indexOf("#"); -1 !== W && (this.hash = _.substr(W), _ = _.slice(0, W)); var H = _.indexOf("?"); if (-1 !== H ? (this.search = _.substr(H), this.query = _.substr(H + 1), e && (this.query = y.parse(this.query)), _ = _.slice(0, H)) : e && (this.search = "", this.query = {}), _ && (this.pathname = _), v[T] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) { B = this.pathname || ""; var G = this.search || ""; this.path = B + G } return this.href = this.format(), this }, o.prototype.format = function () { var t = this.auth || ""; t && (t = (t = encodeURIComponent(t)).replace(/%3A/i, ":"), t += "@"); var e = this.protocol || "", r = this.pathname || "", n = this.hash || "", o = !1, s = ""; this.host ? o = t + this.host : this.hostname && (o = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"), this.port && (o += ":" + this.port)), this.query && i.isObject(this.query) && Object.keys(this.query).length && (s = y.stringify(this.query)); var a = this.search || s && "?" + s || ""; return e && ":" !== e.substr(-1) && (e += ":"), this.slashes || (!e || v[e]) && !1 !== o ? (o = "//" + (o || ""), r && "/" !== r.charAt(0) && (r = "/" + r)) : o || (o = ""), n && "#" !== n.charAt(0) && (n = "#" + n), a && "?" !== a.charAt(0) && (a = "?" + a), e + o + (r = r.replace(/[?#]/g, function (t) { return encodeURIComponent(t) })) + (a = a.replace("#", "%23")) + n }, o.prototype.resolve = function (t) { return this.resolveObject(_(t, !1, !0)).format() }, o.prototype.resolveObject = function (t) { if (i.isString(t)) { var e = new o; e.parse(t, !1, !0), t = e } for (var r = new o, n = Object.keys(this), s = 0; s < n.length; s++) { var a = n[s]; r[a] = this[a] } if (r.hash = t.hash, "" === t.href) return r.href = r.format(), r; if (t.slashes && !t.protocol) { for (var u = Object.keys(t), l = 0; l < u.length; l++) { var h = u[l]; "protocol" !== h && (r[h] = t[h]) } return v[r.protocol] && r.hostname && !r.pathname && (r.path = r.pathname = "/"), r.href = r.format(), r } if (t.protocol && t.protocol !== r.protocol) { if (!v[t.protocol]) { for (var c = Object.keys(t), f = 0; f < c.length; f++) { var d = c[f]; r[d] = t[d] } return r.href = r.format(), r } if (r.protocol = t.protocol, t.host || m[t.protocol]) r.pathname = t.pathname; else { for (var p = (t.pathname || "").split("/"); p.length && !(t.host = p.shift());); t.host || (t.host = ""), t.hostname || (t.hostname = ""), "" !== p[0] && p.unshift(""), p.length < 2 && p.unshift(""), r.pathname = p.join("/") } if (r.search = t.search, r.query = t.query, r.host = t.host || "", r.auth = t.auth, r.hostname = t.hostname || t.host, r.port = t.port, r.pathname || r.search) { var g = r.pathname || "", y = r.search || ""; r.path = g + y } return r.slashes = r.slashes || t.slashes, r.href = r.format(), r } var _ = r.pathname && "/" === r.pathname.charAt(0), x = t.host || t.pathname && "/" === t.pathname.charAt(0), b = x || _ || r.host && t.pathname, T = b, w = r.pathname && r.pathname.split("/") || [], S = (p = t.pathname && t.pathname.split("/") || [], r.protocol && !v[r.protocol]); if (S && (r.hostname = "", r.port = null, r.host && ("" === w[0] ? w[0] = r.host : w.unshift(r.host)), r.host = "", t.protocol && (t.hostname = null, t.port = null, t.host && ("" === p[0] ? p[0] = t.host : p.unshift(t.host)), t.host = null), b = b && ("" === p[0] || "" === w[0])), x) r.host = t.host || "" === t.host ? t.host : r.host, r.hostname = t.hostname || "" === t.hostname ? t.hostname : r.hostname, r.search = t.search, r.query = t.query, w = p; else if (p.length) w || (w = []), w.pop(), w = w.concat(p), r.search = t.search, r.query = t.query; else if (!i.isNullOrUndefined(t.search)) { if (S) r.hostname = r.host = w.shift(), (A = !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@")) && (r.auth = A.shift(), r.host = r.hostname = A.shift()); return r.search = t.search, r.query = t.query, i.isNull(r.pathname) && i.isNull(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")), r.href = r.format(), r } if (!w.length) return r.pathname = null, r.search ? r.path = "/" + r.search : r.path = null, r.href = r.format(), r; for (var C = w.slice(-1)[0], E = (r.host || t.host || w.length > 1) && ("." === C || ".." === C) || "" === C, O = 0, P = w.length; P >= 0; P--)"." === (C = w[P]) ? w.splice(P, 1) : ".." === C ? (w.splice(P, 1), O++) : O && (w.splice(P, 1), O--); if (!b && !T) for (; O--; O)w.unshift(".."); !b || "" === w[0] || w[0] && "/" === w[0].charAt(0) || w.unshift(""), E && "/" !== w.join("/").substr(-1) && w.push(""); var A, M = "" === w[0] || w[0] && "/" === w[0].charAt(0); S && (r.hostname = r.host = M ? "" : w.length ? w.shift() : "", (A = !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@")) && (r.auth = A.shift(), r.host = r.hostname = A.shift())); return (b = b || r.host && w.length) && !M && w.unshift(""), w.length ? r.pathname = w.join("/") : (r.pathname = null, r.path = null), i.isNull(r.pathname) && i.isNull(r.search) || (r.path = (r.pathname ? r.pathname : "") + (r.search ? r.search : "")), r.auth = t.auth || r.auth, r.slashes = r.slashes || t.slashes, r.href = r.format(), r }, o.prototype.parseHost = function () { var t = this.host, e = a.exec(t); e && (":" !== (e = e[0]) && (this.port = e.substr(1)), t = t.substr(0, t.length - e.length)), t && (this.hostname = t) } }, { "./util": 30, punycode: 25, querystring: 28 }], 30: [function (t, e, r) { "use strict"; e.exports = { isString: function (t) { return "string" == typeof t }, isObject: function (t) { return "object" == typeof t && null !== t }, isNull: function (t) { return null === t }, isNullOrUndefined: function (t) { return null == t } } }, {}], 31: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, i = u(t("mini-signals")), o = u(t("parse-uri")), s = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("./async")), a = u(t("./Resource")); function u(t) { return t && t.__esModule ? t : { default: t } } var l = /(#[\w-]+)?$/, h = function () { function t() { var e = this, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.baseUrl = r, this.progress = 0, this.loading = !1, this.defaultQueryString = "", this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function (t, r) { return e._loadResource(t, r) }, this._queue = s.queue(this._boundLoadResource, n), this._queue.pause(), this.resources = {}, this.onProgress = new i.default, this.onError = new i.default, this.onLoad = new i.default, this.onStart = new i.default, this.onComplete = new i.default } return t.prototype.add = function (t, e, r, i) { if (Array.isArray(t)) { for (var o = 0; o < t.length; ++o)this.add(t[o]); return this } if ("object" === (void 0 === t ? "undefined" : n(t)) && (i = e || t.callback || t.onComplete, r = t, e = t.url, t = t.name || t.key || t.url), "string" != typeof e && (i = r, r = e, e = t), "string" != typeof e) throw new Error("No url passed to add resource to loader."); if ("function" == typeof r && (i = r, r = null), this.loading && (!r || !r.parentResource)) throw new Error("Cannot add resources while the loader is running."); if (this.resources[t]) throw new Error('Resource named "' + t + '" already exists.'); if (e = this._prepareUrl(e), this.resources[t] = new a.default(t, e, r), "function" == typeof i && this.resources[t].onAfterMiddleware.once(i), this.loading) { for (var s = r.parentResource, u = [], l = 0; l < s.children.length; ++l)s.children[l].isComplete || u.push(s.children[l]); var h = s.progressChunk * (u.length + 1) / (u.length + 2); s.children.push(this.resources[t]), s.progressChunk = h; for (var c = 0; c < u.length; ++c)u[c].progressChunk = h; this.resources[t].progressChunk = h } return this._queue.push(this.resources[t]), this }, t.prototype.pre = function (t) { return this._beforeMiddleware.push(t), this }, t.prototype.use = function (t) { return this._afterMiddleware.push(t), this }, t.prototype.reset = function () { for (var t in this.progress = 0, this.loading = !1, this._queue.kill(), this._queue.pause(), this.resources) { var e = this.resources[t]; e._onLoadBinding && e._onLoadBinding.detach(), e.isLoading && e.abort() } return this.resources = {}, this }, t.prototype.load = function (t) { if ("function" == typeof t && this.onComplete.once(t), this.loading) return this; for (var e = 100 / this._queue._tasks.length, r = 0; r < this._queue._tasks.length; ++r)this._queue._tasks[r].data.progressChunk = e; return this.loading = !0, this.onStart.dispatch(this), this._queue.resume(), this }, t.prototype._prepareUrl = function (t) { var e = (0, o.default)(t, { strictMode: !0 }), r = void 0; if (r = e.protocol || !e.path || 0 === t.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t, this.defaultQueryString) { var n = l.exec(r)[0]; -1 !== (r = r.substr(0, r.length - n.length)).indexOf("?") ? r += "&" + this.defaultQueryString : r += "?" + this.defaultQueryString, r += n } return r }, t.prototype._loadResource = function (t, e) { var r = this; t._dequeue = e, s.eachSeries(this._beforeMiddleware, function (e, n) { e.call(r, t, function () { n(t.isComplete ? {} : null) }) }, function () { t.isComplete ? r._onLoad(t) : (t._onLoadBinding = t.onComplete.once(r._onLoad, r), t.load()) }) }, t.prototype._onComplete = function () { this.loading = !1, this.onComplete.dispatch(this, this.resources) }, t.prototype._onLoad = function (t) { var e = this; t._onLoadBinding = null, t._dequeue(), this._resourcesParsing.push(t), s.eachSeries(this._afterMiddleware, function (r, n) { r.call(e, t, n) }, function () { t.onAfterMiddleware.dispatch(t), e.progress += t.progressChunk, e.onProgress.dispatch(e, t), t.error ? e.onError.dispatch(t.error, e, t) : e.onLoad.dispatch(e, t), e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1), e._queue.idle() && 0 === e._resourcesParsing.length && (e.progress = 100, e._onComplete()) }) }, t }(); r.default = h }, { "./Resource": 32, "./async": 33, "mini-signals": 37, "parse-uri": 38 }], 32: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = s(t("parse-uri")), o = s(t("mini-signals")); function s(t) { return t && t.__esModule ? t : { default: t } } var a = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest), u = null; function l() { } var h = function () { function t(e, r, n) { if (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), "string" != typeof e || "string" != typeof r) throw new Error("Both name and url are required for constructing a resource."); n = n || {}, this._flags = 0, this._setFlag(t.STATUS_FLAGS.DATA_URL, 0 === r.indexOf("data:")), this.name = e, this.url = r, this.extension = this._getExtension(), this.data = null, this.crossOrigin = !0 === n.crossOrigin ? "anonymous" : n.crossOrigin, this.loadType = n.loadType || this._determineLoadType(), this.xhrType = n.xhrType, this.metadata = n.metadata || {}, this.error = null, this.xhr = null, this.children = [], this.type = t.TYPE.UNKNOWN, this.progressChunk = 0, this._dequeue = l, this._onLoadBinding = null, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this), this.onStart = new o.default, this.onProgress = new o.default, this.onComplete = new o.default, this.onAfterMiddleware = new o.default } return t.setExtensionLoadType = function (e, r) { c(t._loadTypeMap, e, r) }, t.setExtensionXhrType = function (e, r) { c(t._xhrTypeMap, e, r) }, t.prototype.complete = function () { if (this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1), this.data.removeEventListener("load", this._boundComplete, !1), this.data.removeEventListener("progress", this._boundOnProgress, !1), this.data.removeEventListener("canplaythrough", this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1), this.xhr.removeEventListener("progress", this._boundOnProgress, !1), this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null)), this.isComplete) throw new Error("Complete called again for an already completed resource."); this._setFlag(t.STATUS_FLAGS.COMPLETE, !0), this._setFlag(t.STATUS_FLAGS.LOADING, !1), this.onComplete.dispatch(this) }, t.prototype.abort = function (e) { if (!this.error) { if (this.error = new Error(e), this.xhr) this.xhr.abort(); else if (this.xdr) this.xdr.abort(); else if (this.data) if (this.data.src) this.data.src = t.EMPTY_GIF; else for (; this.data.firstChild;)this.data.removeChild(this.data.firstChild); this.complete() } }, t.prototype.load = function (e) { var r = this; if (!this.isLoading) if (this.isComplete) e && setTimeout(function () { return e(r) }, 1); else switch (e && this.onComplete.once(e), this._setFlag(t.STATUS_FLAGS.LOADING, !0), this.onStart.dispatch(this), !1 !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) { case t.LOAD_TYPE.IMAGE: this.type = t.TYPE.IMAGE, this._loadElement("image"); break; case t.LOAD_TYPE.AUDIO: this.type = t.TYPE.AUDIO, this._loadSourceElement("audio"); break; case t.LOAD_TYPE.VIDEO: this.type = t.TYPE.VIDEO, this._loadSourceElement("video"); break; case t.LOAD_TYPE.XHR: default: a && this.crossOrigin ? this._loadXdr() : this._loadXhr() } }, t.prototype._hasFlag = function (t) { return !!(this._flags & t) }, t.prototype._setFlag = function (t, e) { this._flags = e ? this._flags | t : this._flags & ~t }, t.prototype._loadElement = function (t) { this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === t && void 0 !== window.Image ? this.data = new Image : this.data = document.createElement(t), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1) }, t.prototype._loadSourceElement = function (t) { if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === t && void 0 !== window.Audio ? this.data = new Audio : this.data = document.createElement(t), null !== this.data) { if (!this.metadata.skipSource) if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url; else if (Array.isArray(this.url)) for (var e = 0; e < this.url.length; ++e)this.data.appendChild(this._createSource(t, this.url[e])); else this.data.appendChild(this._createSource(t, this.url)); this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.data.addEventListener("canplaythrough", this._boundComplete, !1), this.data.load() } else this.abort("Unsupported element: " + t) }, t.prototype._loadXhr = function () { "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType()); var e = this.xhr = new XMLHttpRequest; e.open("GET", this.url, !0), this.xhrType === t.XHR_RESPONSE_TYPE.JSON || this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT ? e.responseType = t.XHR_RESPONSE_TYPE.TEXT : e.responseType = this.xhrType, e.addEventListener("error", this._boundXhrOnError, !1), e.addEventListener("abort", this._boundXhrOnAbort, !1), e.addEventListener("progress", this._boundOnProgress, !1), e.addEventListener("load", this._boundXhrOnLoad, !1), e.send() }, t.prototype._loadXdr = function () { "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType()); var t = this.xhr = new XDomainRequest; t.timeout = 5e3, t.onerror = this._boundXhrOnError, t.ontimeout = this._boundXdrOnTimeout, t.onprogress = this._boundOnProgress, t.onload = this._boundXhrOnLoad, t.open("GET", this.url, !0), setTimeout(function () { return t.send() }, 1) }, t.prototype._createSource = function (t, e, r) { r || (r = t + "/" + e.substr(e.lastIndexOf(".") + 1)); var n = document.createElement("source"); return n.src = e, n.type = r, n }, t.prototype._onError = function (t) { this.abort("Failed to load element using: " + t.target.nodeName) }, t.prototype._onProgress = function (t) { t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total) }, t.prototype._xhrOnError = function () { var t = this.xhr; this.abort(f(t) + " Request failed. Status: " + t.status + ', text: "' + t.statusText + '"') }, t.prototype._xhrOnAbort = function () { this.abort(f(this.xhr) + " Request was aborted by the user.") }, t.prototype._xdrOnTimeout = function () { this.abort(f(this.xhr) + " Request timed out.") }, t.prototype._xhrOnLoad = function () { var e = this.xhr, r = "", n = void 0 === e.status ? 200 : e.status; if ("" !== e.responseType && "text" !== e.responseType && void 0 !== e.responseType || (r = e.responseText), 0 === n && r.length > 0 ? n = 200 : 1223 === n && (n = 204), 2 === (n / 100 | 0)) { if (this.xhrType === t.XHR_RESPONSE_TYPE.TEXT) this.data = r, this.type = t.TYPE.TEXT; else if (this.xhrType === t.XHR_RESPONSE_TYPE.JSON) try { this.data = JSON.parse(r), this.type = t.TYPE.JSON } catch (t) { return void this.abort("Error trying to parse loaded json: " + t) } else if (this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT) try { if (window.DOMParser) { var i = new DOMParser; this.data = i.parseFromString(r, "text/xml") } else { var o = document.createElement("div"); o.innerHTML = r, this.data = o } this.type = t.TYPE.XML } catch (t) { return void this.abort("Error trying to parse loaded xml: " + t) } else this.data = e.response || r; this.complete() } else this.abort("[" + e.status + "] " + e.statusText + ": " + e.responseURL) }, t.prototype._determineCrossOrigin = function (t, e) { if (0 === t.indexOf("data:")) return ""; e = e || window.location, u || (u = document.createElement("a")), u.href = t; var r = !(t = (0, i.default)(u.href, { strictMode: !0 })).port && "" === e.port || t.port === e.port, n = t.protocol ? t.protocol + ":" : ""; return t.host === e.hostname && r && n === e.protocol ? "" : "anonymous" }, t.prototype._determineXhrType = function () { return t._xhrTypeMap[this.extension] || t.XHR_RESPONSE_TYPE.TEXT }, t.prototype._determineLoadType = function () { return t._loadTypeMap[this.extension] || t.LOAD_TYPE.XHR }, t.prototype._getExtension = function () { var t = this.url, e = ""; if (this.isDataUrl) { var r = t.indexOf("/"); e = t.substring(r + 1, t.indexOf(";", r)) } else { var n = t.indexOf("?"); -1 !== n && (t = t.substring(0, n)), e = t.substring(t.lastIndexOf(".") + 1) } return e.toLowerCase() }, t.prototype._getMimeFromXhrType = function (e) { switch (e) { case t.XHR_RESPONSE_TYPE.BUFFER: return "application/octet-binary"; case t.XHR_RESPONSE_TYPE.BLOB: return "application/blob"; case t.XHR_RESPONSE_TYPE.DOCUMENT: return "application/xml"; case t.XHR_RESPONSE_TYPE.JSON: return "application/json"; case t.XHR_RESPONSE_TYPE.DEFAULT: case t.XHR_RESPONSE_TYPE.TEXT: default: return "text/plain" } }, n(t, [{ key: "isDataUrl", get: function () { return this._hasFlag(t.STATUS_FLAGS.DATA_URL) } }, { key: "isComplete", get: function () { return this._hasFlag(t.STATUS_FLAGS.COMPLETE) } }, { key: "isLoading", get: function () { return this._hasFlag(t.STATUS_FLAGS.LOADING) } }]), t }(); function c(t, e, r) { e && 0 === e.indexOf(".") && (e = e.substring(1)), e && (t[e] = r) } function f(t) { return t.toString().replace("object ", "") } r.default = h, h.STATUS_FLAGS = { NONE: 0, DATA_URL: 1, COMPLETE: 2, LOADING: 4 }, h.TYPE = { UNKNOWN: 0, JSON: 1, XML: 2, IMAGE: 3, AUDIO: 4, VIDEO: 5, TEXT: 6 }, h.LOAD_TYPE = { XHR: 1, IMAGE: 2, AUDIO: 3, VIDEO: 4 }, h.XHR_RESPONSE_TYPE = { DEFAULT: "text", BUFFER: "arraybuffer", BLOB: "blob", DOCUMENT: "document", JSON: "json", TEXT: "text" }, h._loadTypeMap = { gif: h.LOAD_TYPE.IMAGE, png: h.LOAD_TYPE.IMAGE, bmp: h.LOAD_TYPE.IMAGE, jpg: h.LOAD_TYPE.IMAGE, jpeg: h.LOAD_TYPE.IMAGE, tif: h.LOAD_TYPE.IMAGE, tiff: h.LOAD_TYPE.IMAGE, webp: h.LOAD_TYPE.IMAGE, tga: h.LOAD_TYPE.IMAGE, svg: h.LOAD_TYPE.IMAGE, "svg+xml": h.LOAD_TYPE.IMAGE, mp3: h.LOAD_TYPE.AUDIO, ogg: h.LOAD_TYPE.AUDIO, wav: h.LOAD_TYPE.AUDIO, mp4: h.LOAD_TYPE.VIDEO, webm: h.LOAD_TYPE.VIDEO }, h._xhrTypeMap = { xhtml: h.XHR_RESPONSE_TYPE.DOCUMENT, html: h.XHR_RESPONSE_TYPE.DOCUMENT, htm: h.XHR_RESPONSE_TYPE.DOCUMENT, xml: h.XHR_RESPONSE_TYPE.DOCUMENT, tmx: h.XHR_RESPONSE_TYPE.DOCUMENT, svg: h.XHR_RESPONSE_TYPE.DOCUMENT, tsx: h.XHR_RESPONSE_TYPE.DOCUMENT, gif: h.XHR_RESPONSE_TYPE.BLOB, png: h.XHR_RESPONSE_TYPE.BLOB, bmp: h.XHR_RESPONSE_TYPE.BLOB, jpg: h.XHR_RESPONSE_TYPE.BLOB, jpeg: h.XHR_RESPONSE_TYPE.BLOB, tif: h.XHR_RESPONSE_TYPE.BLOB, tiff: h.XHR_RESPONSE_TYPE.BLOB, webp: h.XHR_RESPONSE_TYPE.BLOB, tga: h.XHR_RESPONSE_TYPE.BLOB, json: h.XHR_RESPONSE_TYPE.JSON, text: h.XHR_RESPONSE_TYPE.TEXT, txt: h.XHR_RESPONSE_TYPE.TEXT, ttf: h.XHR_RESPONSE_TYPE.BUFFER, otf: h.XHR_RESPONSE_TYPE.BUFFER }, h.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" }, { "mini-signals": 37, "parse-uri": 38 }], 33: [function (t, e, r) { "use strict"; function n() { } function i(t) { return function () { if (null === t) throw new Error("Callback was already called."); var e = t; t = null, e.apply(this, arguments) } } r.__esModule = !0, r.eachSeries = function (t, e, r) { var n = 0, i = t.length; !function o(s) { s || n === i ? r && r(s) : e(t[n++], o) }() }, r.queue = function (t, e) { if (null == e) e = 1; else if (0 === e) throw new Error("Concurrency must not be zero"); var r = 0, o = { _tasks: [], concurrency: e, saturated: n, unsaturated: n, buffer: e / 4, empty: n, drain: n, error: n, started: !1, paused: !1, push: function (t, e) { s(t, !1, e) }, kill: function () { r = 0, o.drain = n, o.started = !1, o._tasks = [] }, unshift: function (t, e) { s(t, !0, e) }, process: function () { for (; !o.paused && r < o.concurrency && o._tasks.length;) { var e = o._tasks.shift(); 0 === o._tasks.length && o.empty(), (r += 1) === o.concurrency && o.saturated(), t(e.data, i(a(e))) } }, length: function () { return o._tasks.length }, running: function () { return r }, idle: function () { return o._tasks.length + r === 0 }, pause: function () { !0 !== o.paused && (o.paused = !0) }, resume: function () { if (!1 !== o.paused) { o.paused = !1; for (var t = 1; t <= o.concurrency; t++)o.process() } } }; function s(t, e, r) { if (null != r && "function" != typeof r) throw new Error("task callback must be a function"); if (o.started = !0, null == t && o.idle()) setTimeout(function () { return o.drain() }, 1); else { var i = { data: t, callback: "function" == typeof r ? r : n }; e ? o._tasks.unshift(i) : o._tasks.push(i), setTimeout(function () { return o.process() }, 1) } } function a(t) { return function () { r -= 1, t.callback.apply(t, arguments), null != arguments[0] && o.error(arguments[0], t.data), r <= o.concurrency - o.buffer && o.unsaturated(), o.idle() && o.drain(), o.process() } } return o } }, {}], 34: [function (t, e, r) { "use strict"; r.__esModule = !0, r.encodeBinary = function (t) { var e = "", r = 0; for (; r < t.length;) { for (var i = [0, 0, 0], o = [0, 0, 0, 0], s = 0; s < i.length; ++s)r < t.length ? i[s] = 255 & t.charCodeAt(r++) : i[s] = 0; o[0] = i[0] >> 2, o[1] = (3 & i[0]) << 4 | i[1] >> 4, o[2] = (15 & i[1]) << 2 | i[2] >> 6, o[3] = 63 & i[2]; var a = r - (t.length - 1); switch (a) { case 2: o[3] = 64, o[2] = 64; break; case 1: o[3] = 64 }for (var u = 0; u < o.length; ++u)e += n.charAt(o[u]) } return e }; var n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" }, {}], 35: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = u(t("./Loader")), i = u(t("./Resource")), o = a(t("./async")), s = a(t("./b64")); function a(t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e } function u(t) { return t && t.__esModule ? t : { default: t } } n.default.Resource = i.default, n.default.async = o, n.default.base64 = s, e.exports = n.default, r.default = n.default }, { "./Loader": 31, "./Resource": 32, "./async": 33, "./b64": 34 }], 36: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; r.blobMiddlewareFactory = function () { return function (t, e) { if (t.data) { if (t.xhr && t.xhrType === i.default.XHR_RESPONSE_TYPE.BLOB) if (window.Blob && "string" != typeof t.data) { if (0 === t.data.type.indexOf("image")) { var r = (u = a.createObjectURL(t.data), t.blob = t.data, t.data = new Image, t.data.src = u, t.type = i.default.TYPE.IMAGE, t.data.onload = function () { a.revokeObjectURL(u), t.data.onload = null, e() }, { v: void 0 }); if ("object" === (void 0 === r ? "undefined" : n(r))) return r.v } } else { var s = t.xhr.getResponseHeader("content-type"); if (s && 0 === s.indexOf("image")) return t.data = new Image, t.data.src = "data:" + s + ";base64," + o.default.encodeBinary(t.xhr.responseText), t.type = i.default.TYPE.IMAGE, void (t.data.onload = function () { t.data.onload = null, e() }) } var u; e() } else e() } }; var i = s(t("../../Resource")), o = s(t("../../b64")); function s(t) { return t && t.__esModule ? t : { default: t } } var a = window.URL || window.webkitURL }, { "../../Resource": 32, "../../b64": 34 }], 37: [function (t, e, r) { "use strict"; Object.defineProperty(r, "__esModule", { value: !0 }); var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(); function i(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } var o = function () { function t(e, r, n) { void 0 === r && (r = !1), i(this, t), this._fn = e, this._once = r, this._thisArg = n, this._next = this._prev = this._owner = null } return n(t, [{ key: "detach", value: function () { return null !== this._owner && (this._owner.detach(this), !0) } }]), t }(); function s(t, e) { return t._head ? (t._tail._next = e, e._prev = t._tail, t._tail = e) : (t._head = e, t._tail = e), e._owner = t, e } var a = function () { function t() { i(this, t), this._head = this._tail = void 0 } return n(t, [{ key: "handlers", value: function () { var t = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0], e = this._head; if (t) return !!e; for (var r = []; e;)r.push(e), e = e._next; return r } }, { key: "has", value: function (t) { if (!(t instanceof o)) throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object."); return t._owner === this } }, { key: "dispatch", value: function () { var t = this._head; if (!t) return !1; for (; t;)t._once && this.detach(t), t._fn.apply(t._thisArg, arguments), t = t._next; return !0 } }, { key: "add", value: function (t) { var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1]; if ("function" != typeof t) throw new Error("MiniSignal#add(): First arg must be a Function."); return s(this, new o(t, !1, e)) } }, { key: "once", value: function (t) { var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1]; if ("function" != typeof t) throw new Error("MiniSignal#once(): First arg must be a Function."); return s(this, new o(t, !0, e)) } }, { key: "detach", value: function (t) { if (!(t instanceof o)) throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object."); return t._owner !== this ? this : (t._prev && (t._prev._next = t._next), t._next && (t._next._prev = t._prev), t === this._head ? (this._head = t._next, null === t._next && (this._tail = null)) : t === this._tail && (this._tail = t._prev, this._tail._next = null), t._owner = null, this) } }, { key: "detachAll", value: function () { var t = this._head; if (!t) return this; for (this._head = this._tail = null; t;)t._owner = null, t = t._next; return this } }]), t }(); a.MiniSignalBinding = o, r.default = a, e.exports = r.default }, {}], 38: [function (t, e, r) { "use strict"; e.exports = function (t, e) { e = e || {}; for (var r = { key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"], q: { name: "queryKey", parser: /(?:^|&)([^&=]*)=?([^&]*)/g }, parser: { strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/, loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/ } }, n = r.parser[e.strictMode ? "strict" : "loose"].exec(t), i = {}, o = 14; o--;)i[r.key[o]] = n[o] || ""; return i[r.q.name] = {}, i[r.key[12]].replace(r.q.parser, function (t, e, n) { e && (i[r.q.name][e] = n) }), i } }, {}], 39: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")), i = s(t("ismobilejs")), o = s(t("./accessibleTarget")); function s(t) { return t && t.__esModule ? t : { default: t } } n.utils.mixins.delayMixin(n.DisplayObject.prototype, o.default); var a = 100, u = 0, l = 0, h = 2, c = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), !i.default.tablet && !i.default.phone || navigator.isCocoonJS || this.createTouchHook(); var r = document.createElement("div"); r.style.width = a + "px", r.style.height = a + "px", r.style.position = "absolute", r.style.top = u + "px", r.style.left = l + "px", r.style.zIndex = h, this.div = r, this.pool = [], this.renderId = 0, this.debug = !1, this.renderer = e, this.children = [], this._onKeyDown = this._onKeyDown.bind(this), this._onMouseMove = this._onMouseMove.bind(this), this.isActive = !1, this.isMobileAccessabillity = !1, window.addEventListener("keydown", this._onKeyDown, !1) } return t.prototype.createTouchHook = function () { var t = this, e = document.createElement("button"); e.style.width = "1px", e.style.height = "1px", e.style.position = "absolute", e.style.top = "-1000px", e.style.left = "-1000px", e.style.zIndex = 2, e.style.backgroundColor = "#FF0000", e.title = "HOOK DIV", e.addEventListener("focus", function () { t.isMobileAccessabillity = !0, t.activate(), document.body.removeChild(e) }), document.body.appendChild(e) }, t.prototype.activate = function () { this.isActive || (this.isActive = !0, window.document.addEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown, !1), this.renderer.on("postrender", this.update, this), this.renderer.view.parentNode && this.renderer.view.parentNode.appendChild(this.div)) }, t.prototype.deactivate = function () { this.isActive && !this.isMobileAccessabillity && (this.isActive = !1, window.document.removeEventListener("mousemove", this._onMouseMove), window.addEventListener("keydown", this._onKeyDown, !1), this.renderer.off("postrender", this.update), this.div.parentNode && this.div.parentNode.removeChild(this.div)) }, t.prototype.updateAccessibleObjects = function (t) { if (t.visible) { t.accessible && t.interactive && (t._accessibleActive || this.addChild(t), t.renderId = this.renderId); for (var e = t.children, r = e.length - 1; r >= 0; r--)this.updateAccessibleObjects(e[r]) } }, t.prototype.update = function () { if (this.renderer.renderingToScreen) { this.updateAccessibleObjects(this.renderer._lastObjectRendered); var t = this.renderer.view.getBoundingClientRect(), e = t.width / this.renderer.width, r = t.height / this.renderer.height, i = this.div; i.style.left = t.left + "px", i.style.top = t.top + "px", i.style.width = this.renderer.width + "px", i.style.height = this.renderer.height + "px"; for (var o = 0; o < this.children.length; o++) { var s = this.children[o]; if (s.renderId !== this.renderId) s._accessibleActive = !1, n.utils.removeItems(this.children, o, 1), this.div.removeChild(s._accessibleDiv), this.pool.push(s._accessibleDiv), s._accessibleDiv = null, o--, 0 === this.children.length && this.deactivate(); else { i = s._accessibleDiv; var a = s.hitArea, u = s.worldTransform; s.hitArea ? (i.style.left = (u.tx + a.x * u.a) * e + "px", i.style.top = (u.ty + a.y * u.d) * r + "px", i.style.width = a.width * u.a * e + "px", i.style.height = a.height * u.d * r + "px") : (a = s.getBounds(), this.capHitArea(a), i.style.left = a.x * e + "px", i.style.top = a.y * r + "px", i.style.width = a.width * e + "px", i.style.height = a.height * r + "px") } } this.renderId++ } }, t.prototype.capHitArea = function (t) { t.x < 0 && (t.width += t.x, t.x = 0), t.y < 0 && (t.height += t.y, t.y = 0), t.x + t.width > this.renderer.width && (t.width = this.renderer.width - t.x), t.y + t.height > this.renderer.height && (t.height = this.renderer.height - t.y) }, t.prototype.addChild = function (t) { var e = this.pool.pop(); e || ((e = document.createElement("button")).style.width = a + "px", e.style.height = a + "px", e.style.backgroundColor = this.debug ? "rgba(255,0,0,0.5)" : "transparent", e.style.position = "absolute", e.style.zIndex = h, e.style.borderStyle = "none", e.addEventListener("click", this._onClick.bind(this)), e.addEventListener("focus", this._onFocus.bind(this)), e.addEventListener("focusout", this._onFocusOut.bind(this))), t.accessibleTitle ? e.title = t.accessibleTitle : t.accessibleTitle || t.accessibleHint || (e.title = "displayObject " + this.tabIndex), t.accessibleHint && e.setAttribute("aria-label", t.accessibleHint), t._accessibleActive = !0, t._accessibleDiv = e, e.displayObject = t, this.children.push(t), this.div.appendChild(t._accessibleDiv), t._accessibleDiv.tabIndex = t.tabIndex }, t.prototype._onClick = function (t) { var e = this.renderer.plugins.interaction; e.dispatchEvent(t.target.displayObject, "click", e.eventData) }, t.prototype._onFocus = function (t) { var e = this.renderer.plugins.interaction; e.dispatchEvent(t.target.displayObject, "mouseover", e.eventData) }, t.prototype._onFocusOut = function (t) { var e = this.renderer.plugins.interaction; e.dispatchEvent(t.target.displayObject, "mouseout", e.eventData) }, t.prototype._onKeyDown = function (t) { 9 === t.keyCode && this.activate() }, t.prototype._onMouseMove = function () { this.deactivate() }, t.prototype.destroy = function () { this.div = null; for (var t = 0; t < this.children.length; t++)this.children[t].div = null; window.document.removeEventListener("mousemove", this._onMouseMove), window.removeEventListener("keydown", this._onKeyDown), this.pool = null, this.children = null, this.renderer = null }, t }(); r.default = c, n.WebGLRenderer.registerPlugin("accessibility", c), n.CanvasRenderer.registerPlugin("accessibility", c) }, { "../core": 64, "./accessibleTarget": 40, ismobilejs: 4 }], 40: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = { accessible: !1, accessibleTitle: null, accessibleHint: null, tabIndex: 0, _accessibleActive: !1, _accessibleDiv: !1 } }, {}], 41: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("./accessibleTarget"); Object.defineProperty(r, "accessibleTarget", { enumerable: !0, get: function () { return o(n).default } }); var i = t("./AccessibilityManager"); function o(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "AccessibilityManager", { enumerable: !0, get: function () { return o(i).default } }) }, { "./AccessibilityManager": 39, "./accessibleTarget": 40 }], 42: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = t("./autoDetectRenderer"), o = l(t("./display/Container")), s = t("./ticker"), a = l(t("./settings")), u = t("./const"); function l(t) { return t && t.__esModule ? t : { default: t } } var h = function () { function t(e, r, n, u, l) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), "number" == typeof e && (e = Object.assign({ width: e, height: r || a.default.RENDER_OPTIONS.height, forceCanvas: !!u, sharedTicker: !!l }, n)), this._options = e = Object.assign({ sharedTicker: !1, forceCanvas: !1, sharedLoader: !1 }, e), this.renderer = (0, i.autoDetectRenderer)(e), this.stage = new o.default, this._ticker = null, this.ticker = e.sharedTicker ? s.shared : new s.Ticker, this.start() } return t.prototype.render = function () { this.renderer.render(this.stage) }, t.prototype.stop = function () { this._ticker.stop() }, t.prototype.start = function () { this._ticker.start() }, t.prototype.destroy = function (t) { var e = this._ticker; this.ticker = null, e.destroy(), this.stage.destroy(), this.stage = null, this.renderer.destroy(t), this.renderer = null, this._options = null }, n(t, [{ key: "ticker", set: function (t) { this._ticker && this._ticker.remove(this.render, this), this._ticker = t, t && t.add(this.render, this, u.UPDATE_PRIORITY.LOW) }, get: function () { return this._ticker } }, { key: "view", get: function () { return this.renderer.view } }, { key: "screen", get: function () { return this.renderer.screen } }]), t }(); r.default = h }, { "./autoDetectRenderer": 44, "./const": 45, "./display/Container": 47, "./settings": 100, "./ticker": 119 }], 43: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("pixi-gl-core"), o = t("./settings"), s = (n = o) && n.__esModule ? n : { default: n }; function a(t, e) { if (t instanceof Array) { if ("precision" !== t[0].substring(0, 9)) { var r = t.slice(0); return r.unshift("precision " + e + " float;"), r } } else if ("precision" !== t.substring(0, 9)) return "precision " + e + " float;\n" + t; return t } var u = function (t) { function e(r, n, i) { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r, a(n, s.default.PRECISION_VERTEX), a(i, s.default.PRECISION_FRAGMENT))) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e }(i.GLShader); r.default = u }, { "./settings": 100, "pixi-gl-core": 12 }], 44: [function (t, e, r) { "use strict"; r.__esModule = !0, r.autoDetectRenderer = function (t, e, r, s) { var a = t && t.forceCanvas; void 0 !== s && (a = s); if (!a && n.isWebGLSupported()) return new o.default(t, e, r); return new i.default(t, e, r) }; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("./utils")), i = s(t("./renderers/canvas/CanvasRenderer")), o = s(t("./renderers/webgl/WebGLRenderer")); function s(t) { return t && t.__esModule ? t : { default: t } } }, { "./renderers/canvas/CanvasRenderer": 76, "./renderers/webgl/WebGLRenderer": 83, "./utils": 123 }], 45: [function (t, e, r) { "use strict"; r.__esModule = !0; r.VERSION = "4.5.1", r.PI_2 = 2 * Math.PI, r.RAD_TO_DEG = 180 / Math.PI, r.DEG_TO_RAD = Math.PI / 180, r.RENDERER_TYPE = { UNKNOWN: 0, WEBGL: 1, CANVAS: 2 }, r.BLEND_MODES = { NORMAL: 0, ADD: 1, MULTIPLY: 2, SCREEN: 3, OVERLAY: 4, DARKEN: 5, LIGHTEN: 6, COLOR_DODGE: 7, COLOR_BURN: 8, HARD_LIGHT: 9, SOFT_LIGHT: 10, DIFFERENCE: 11, EXCLUSION: 12, HUE: 13, SATURATION: 14, COLOR: 15, LUMINOSITY: 16 }, r.DRAW_MODES = { POINTS: 0, LINES: 1, LINE_LOOP: 2, LINE_STRIP: 3, TRIANGLES: 4, TRIANGLE_STRIP: 5, TRIANGLE_FAN: 6 }, r.SCALE_MODES = { LINEAR: 0, NEAREST: 1 }, r.WRAP_MODES = { CLAMP: 0, REPEAT: 1, MIRRORED_REPEAT: 2 }, r.GC_MODES = { AUTO: 0, MANUAL: 1 }, r.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i, r.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i, r.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i, r.SHAPES = { POLY: 0, RECT: 1, CIRC: 2, ELIP: 3, RREC: 4 }, r.PRECISION = { LOW: "lowp", MEDIUM: "mediump", HIGH: "highp" }, r.TRANSFORM_MODE = { STATIC: 0, DYNAMIC: 1 }, r.TEXT_GRADIENT = { LINEAR_VERTICAL: 0, LINEAR_HORIZONTAL: 1 }, r.UPDATE_PRIORITY = { INTERACTION: 50, HIGH: 25, NORMAL: 0, LOW: -25, UTILITY: -50 } }, {}], 46: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("../math"); var i = function () { function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0, this.rect = null } return t.prototype.isEmpty = function () { return this.minX > this.maxX || this.minY > this.maxY }, t.prototype.clear = function () { this.updateID++, this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0 }, t.prototype.getRectangle = function (t) { return this.minX > this.maxX || this.minY > this.maxY ? n.Rectangle.EMPTY : ((t = t || new n.Rectangle(0, 0, 1, 1)).x = this.minX, t.y = this.minY, t.width = this.maxX - this.minX, t.height = this.maxY - this.minY, t) }, t.prototype.addPoint = function (t) { this.minX = Math.min(this.minX, t.x), this.maxX = Math.max(this.maxX, t.x), this.minY = Math.min(this.minY, t.y), this.maxY = Math.max(this.maxY, t.y) }, t.prototype.addQuad = function (t) { var e = this.minX, r = this.minY, n = this.maxX, i = this.maxY, o = t[0], s = t[1]; e = o < e ? o : e, r = s < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, e = (o = t[2]) < e ? o : e, r = (s = t[3]) < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, e = (o = t[4]) < e ? o : e, r = (s = t[5]) < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, e = (o = t[6]) < e ? o : e, r = (s = t[7]) < r ? s : r, n = o > n ? o : n, i = s > i ? s : i, this.minX = e, this.minY = r, this.maxX = n, this.maxY = i }, t.prototype.addFrame = function (t, e, r, n, i) { var o = t.worldTransform, s = o.a, a = o.b, u = o.c, l = o.d, h = o.tx, c = o.ty, f = this.minX, d = this.minY, p = this.maxX, g = this.maxY, m = s * e + u * r + h, v = a * e + l * r + c; f = m < f ? m : f, d = v < d ? v : d, p = m > p ? m : p, g = v > g ? v : g, f = (m = s * n + u * r + h) < f ? m : f, d = (v = a * n + l * r + c) < d ? v : d, p = m > p ? m : p, g = v > g ? v : g, f = (m = s * e + u * i + h) < f ? m : f, d = (v = a * e + l * i + c) < d ? v : d, p = m > p ? m : p, g = v > g ? v : g, f = (m = s * n + u * i + h) < f ? m : f, d = (v = a * n + l * i + c) < d ? v : d, p = m > p ? m : p, g = v > g ? v : g, this.minX = f, this.minY = d, this.maxX = p, this.maxY = g }, t.prototype.addVertices = function (t, e, r, n) { for (var i = t.worldTransform, o = i.a, s = i.b, a = i.c, u = i.d, l = i.tx, h = i.ty, c = this.minX, f = this.minY, d = this.maxX, p = this.maxY, g = r; g < n; g += 2) { var m = e[g], v = e[g + 1], y = o * m + a * v + l, _ = u * v + s * m + h; c = y < c ? y : c, f = _ < f ? _ : f, d = y > d ? y : d, p = _ > p ? _ : p } this.minX = c, this.minY = f, this.maxX = d, this.maxY = p }, t.prototype.addBounds = function (t) { var e = this.minX, r = this.minY, n = this.maxX, i = this.maxY; this.minX = t.minX < e ? t.minX : e, this.minY = t.minY < r ? t.minY : r, this.maxX = t.maxX > n ? t.maxX : n, this.maxY = t.maxY > i ? t.maxY : i }, t.prototype.addBoundsMask = function (t, e) { var r = t.minX > e.minX ? t.minX : e.minX, n = t.minY > e.minY ? t.minY : e.minY, i = t.maxX < e.maxX ? t.maxX : e.maxX, o = t.maxY < e.maxY ? t.maxY : e.maxY; if (r <= i && n <= o) { var s = this.minX, a = this.minY, u = this.maxX, l = this.maxY; this.minX = r < s ? r : s, this.minY = n < a ? n : a, this.maxX = i > u ? i : u, this.maxY = o > l ? o : l } }, t.prototype.addBoundsArea = function (t, e) { var r = t.minX > e.x ? t.minX : e.x, n = t.minY > e.y ? t.minY : e.y, i = t.maxX < e.x + e.width ? t.maxX : e.x + e.width, o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height; if (r <= i && n <= o) { var s = this.minX, a = this.minY, u = this.maxX, l = this.maxY; this.minX = r < s ? r : s, this.minY = n < a ? n : a, this.maxX = i > u ? i : u, this.maxY = o > l ? o : l } }, t }(); r.default = i }, { "../math": 69 }], 47: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = t("../utils"), s = t("./DisplayObject"); var a = function (t) { function e() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var r = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return r.children = [], r } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.onChildrenChange = function () { }, e.prototype.addChild = function (t) { var e = arguments.length; if (e > 1) for (var r = 0; r < e; r++)this.addChild(arguments[r]); else t.parent && t.parent.removeChild(t), t.parent = this, t.transform._parentID = -1, this.children.push(t), this._boundsID++, this.onChildrenChange(this.children.length - 1), t.emit("added", this); return t }, e.prototype.addChildAt = function (t, e) { if (e < 0 || e > this.children.length) throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length); return t.parent && t.parent.removeChild(t), t.parent = this, t.transform._parentID = -1, this.children.splice(e, 0, t), this._boundsID++, this.onChildrenChange(e), t.emit("added", this), t }, e.prototype.swapChildren = function (t, e) { if (t !== e) { var r = this.getChildIndex(t), n = this.getChildIndex(e); this.children[r] = e, this.children[n] = t, this.onChildrenChange(r < n ? r : n) } }, e.prototype.getChildIndex = function (t) { var e = this.children.indexOf(t); if (-1 === e) throw new Error("The supplied DisplayObject must be a child of the caller"); return e }, e.prototype.setChildIndex = function (t, e) { if (e < 0 || e >= this.children.length) throw new Error("The supplied index is out of bounds"); var r = this.getChildIndex(t); (0, o.removeItems)(this.children, r, 1), this.children.splice(e, 0, t), this.onChildrenChange(e) }, e.prototype.getChildAt = function (t) { if (t < 0 || t >= this.children.length) throw new Error("getChildAt: Index (" + t + ") does not exist."); return this.children[t] }, e.prototype.removeChild = function (t) { var e = arguments.length; if (e > 1) for (var r = 0; r < e; r++)this.removeChild(arguments[r]); else { var n = this.children.indexOf(t); if (-1 === n) return null; t.parent = null, t.transform._parentID = -1, (0, o.removeItems)(this.children, n, 1), this._boundsID++, this.onChildrenChange(n), t.emit("removed", this) } return t }, e.prototype.removeChildAt = function (t) { var e = this.getChildAt(t); return e.parent = null, e.transform._parentID = -1, (0, o.removeItems)(this.children, t, 1), this._boundsID++, this.onChildrenChange(t), e.emit("removed", this), e }, e.prototype.removeChildren = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = arguments[1], r = t, n = "number" == typeof e ? e : this.children.length, i = n - r, o = void 0; if (i > 0 && i <= n) { o = this.children.splice(r, i); for (var s = 0; s < o.length; ++s)o[s].parent = null, o[s].transform && (o[s].transform._parentID = -1); this._boundsID++, this.onChildrenChange(t); for (var a = 0; a < o.length; ++a)o[a].emit("removed", this); return o } if (0 === i && 0 === this.children.length) return []; throw new RangeError("removeChildren: numeric values are outside the acceptable range.") }, e.prototype.updateTransform = function () { this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha; for (var t = 0, e = this.children.length; t < e; ++t) { var r = this.children[t]; r.visible && r.updateTransform() } }, e.prototype.calculateBounds = function () { this._bounds.clear(), this._calculateBounds(); for (var t = 0; t < this.children.length; t++) { var e = this.children[t]; e.visible && e.renderable && (e.calculateBounds(), e._mask ? (e._mask.calculateBounds(), this._bounds.addBoundsMask(e._bounds, e._mask._bounds)) : e.filterArea ? this._bounds.addBoundsArea(e._bounds, e.filterArea) : this._bounds.addBounds(e._bounds)) } this._lastBoundsID = this._boundsID }, e.prototype._calculateBounds = function () { }, e.prototype.renderWebGL = function (t) { if (this.visible && !(this.worldAlpha <= 0) && this.renderable) if (this._mask || this._filters) this.renderAdvancedWebGL(t); else { this._renderWebGL(t); for (var e = 0, r = this.children.length; e < r; ++e)this.children[e].renderWebGL(t) } }, e.prototype.renderAdvancedWebGL = function (t) { t.flush(); var e = this._filters, r = this._mask; if (e) { this._enabledFilters || (this._enabledFilters = []), this._enabledFilters.length = 0; for (var n = 0; n < e.length; n++)e[n].enabled && this._enabledFilters.push(e[n]); this._enabledFilters.length && t.filterManager.pushFilter(this, this._enabledFilters) } r && t.maskManager.pushMask(this, this._mask), this._renderWebGL(t); for (var i = 0, o = this.children.length; i < o; i++)this.children[i].renderWebGL(t); t.flush(), r && t.maskManager.popMask(this, this._mask), e && this._enabledFilters && this._enabledFilters.length && t.filterManager.popFilter() }, e.prototype._renderWebGL = function (t) { }, e.prototype._renderCanvas = function (t) { }, e.prototype.renderCanvas = function (t) { if (this.visible && !(this.worldAlpha <= 0) && this.renderable) { this._mask && t.maskManager.pushMask(this._mask), this._renderCanvas(t); for (var e = 0, r = this.children.length; e < r; ++e)this.children[e].renderCanvas(t); this._mask && t.maskManager.popMask(t) } }, e.prototype.destroy = function (e) { t.prototype.destroy.call(this); var r = "boolean" == typeof e ? e : e && e.children, n = this.removeChildren(0, this.children.length); if (r) for (var i = 0; i < n.length; ++i)n[i].destroy(e) }, i(e, [{ key: "width", get: function () { return this.scale.x * this.getLocalBounds().width }, set: function (t) { var e = this.getLocalBounds().width; this.scale.x = 0 !== e ? t / e : 1, this._width = t } }, { key: "height", get: function () { return this.scale.y * this.getLocalBounds().height }, set: function (t) { var e = this.getLocalBounds().height; this.scale.y = 0 !== e ? t / e : 1, this._height = t } }]), e }(((n = s) && n.__esModule ? n : { default: n }).default); r.default = a, a.prototype.containerUpdateTransform = a.prototype.updateTransform }, { "../utils": 123, "./DisplayObject": 48 }], 48: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = c(t("eventemitter3")), o = t("../const"), s = c(t("../settings")), a = c(t("./TransformStatic")), u = c(t("./Transform")), l = c(t("./Bounds")), h = t("../math"); function c(t) { return t && t.__esModule ? t : { default: t } } var f = function (t) { function e() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var r = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)), n = s.default.TRANSFORM_MODE === o.TRANSFORM_MODE.STATIC ? a.default : u.default; return r.tempDisplayObjectParent = null, r.transform = new n, r.alpha = 1, r.visible = !0, r.renderable = !0, r.parent = null, r.worldAlpha = 1, r.filterArea = null, r._filters = null, r._enabledFilters = null, r._bounds = new l.default, r._boundsID = 0, r._lastBoundsID = -1, r._boundsRect = null, r._localBoundsRect = null, r._mask = null, r._destroyed = !1, r } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.updateTransform = function () { this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha, this._bounds.updateID++ }, e.prototype._recursivePostUpdateTransform = function () { this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform) }, e.prototype.getBounds = function (t, e) { return t || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._boundsID !== this._lastBoundsID && this.calculateBounds(), e || (this._boundsRect || (this._boundsRect = new h.Rectangle), e = this._boundsRect), this._bounds.getRectangle(e) }, e.prototype.getLocalBounds = function (t) { var e = this.transform, r = this.parent; this.parent = null, this.transform = this._tempDisplayObjectParent.transform, t || (this._localBoundsRect || (this._localBoundsRect = new h.Rectangle), t = this._localBoundsRect); var n = this.getBounds(!1, t); return this.parent = r, this.transform = e, n }, e.prototype.toGlobal = function (t, e) { return arguments.length > 2 && void 0 !== arguments[2] && arguments[2] || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(t, e) }, e.prototype.toLocal = function (t, e, r, n) { return e && (t = e.toGlobal(t, r, n)), n || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(t, r) }, e.prototype.renderWebGL = function (t) { }, e.prototype.renderCanvas = function (t) { }, e.prototype.setParent = function (t) { if (!t || !t.addChild) throw new Error("setParent: Argument must be a Container"); return t.addChild(this), t }, e.prototype.setTransform = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1, n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, i = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0, s = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0, a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0, u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0; return this.position.x = t, this.position.y = e, this.scale.x = r || 1, this.scale.y = n || 1, this.rotation = i, this.skew.x = o, this.skew.y = s, this.pivot.x = a, this.pivot.y = u, this }, e.prototype.destroy = function () { this.removeAllListeners(), this.parent && this.parent.removeChild(this), this.transform = null, this.parent = null, this._bounds = null, this._currentBounds = null, this._mask = null, this.filterArea = null, this.interactive = !1, this.interactiveChildren = !1, this._destroyed = !0 }, n(e, [{ key: "_tempDisplayObjectParent", get: function () { return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new e), this.tempDisplayObjectParent } }, { key: "x", get: function () { return this.position.x }, set: function (t) { this.transform.position.x = t } }, { key: "y", get: function () { return this.position.y }, set: function (t) { this.transform.position.y = t } }, { key: "worldTransform", get: function () { return this.transform.worldTransform } }, { key: "localTransform", get: function () { return this.transform.localTransform } }, { key: "position", get: function () { return this.transform.position }, set: function (t) { this.transform.position.copy(t) } }, { key: "scale", get: function () { return this.transform.scale }, set: function (t) { this.transform.scale.copy(t) } }, { key: "pivot", get: function () { return this.transform.pivot }, set: function (t) { this.transform.pivot.copy(t) } }, { key: "skew", get: function () { return this.transform.skew }, set: function (t) { this.transform.skew.copy(t) } }, { key: "rotation", get: function () { return this.transform.rotation }, set: function (t) { this.transform.rotation = t } }, { key: "worldVisible", get: function () { var t = this; do { if (!t.visible) return !1; t = t.parent } while (t); return !0 } }, { key: "mask", get: function () { return this._mask }, set: function (t) { this._mask && (this._mask.renderable = !0), this._mask = t, this._mask && (this._mask.renderable = !1) } }, { key: "filters", get: function () { return this._filters && this._filters.slice() }, set: function (t) { this._filters = t && t.slice() } }]), e }(i.default); r.default = f, f.prototype.displayObjectUpdateTransform = f.prototype.updateTransform }, { "../const": 45, "../math": 69, "../settings": 100, "./Bounds": 46, "./Transform": 49, "./TransformStatic": 51, eventemitter3: 3 }], 49: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = t("../math"), s = t("./TransformBase"); var a = function (t) { function e() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var r = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return r.position = new o.Point(0, 0), r.scale = new o.Point(1, 1), r.skew = new o.ObservablePoint(r.updateSkew, r, 0, 0), r.pivot = new o.Point(0, 0), r._rotation = 0, r._cx = 1, r._sx = 0, r._cy = 0, r._sy = 1, r } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.updateSkew = function () { this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x) }, e.prototype.updateLocalTransform = function () { var t = this.localTransform; t.a = this._cx * this.scale.x, t.b = this._sx * this.scale.x, t.c = this._cy * this.scale.y, t.d = this._sy * this.scale.y, t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c), t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d) }, e.prototype.updateTransform = function (t) { var e = this.localTransform; e.a = this._cx * this.scale.x, e.b = this._sx * this.scale.x, e.c = this._cy * this.scale.y, e.d = this._sy * this.scale.y, e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c), e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d); var r = t.worldTransform, n = this.worldTransform; n.a = e.a * r.a + e.b * r.c, n.b = e.a * r.b + e.b * r.d, n.c = e.c * r.a + e.d * r.c, n.d = e.c * r.b + e.d * r.d, n.tx = e.tx * r.a + e.ty * r.c + r.tx, n.ty = e.tx * r.b + e.ty * r.d + r.ty, this._worldID++ }, e.prototype.setFromMatrix = function (t) { t.decompose(this) }, i(e, [{ key: "rotation", get: function () { return this._rotation }, set: function (t) { this._rotation = t, this.updateSkew() } }]), e }(((n = s) && n.__esModule ? n : { default: n }).default); r.default = a }, { "../math": 69, "./TransformBase": 50 }], 50: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("../math"); var i = function () { function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.worldTransform = new n.Matrix, this.localTransform = new n.Matrix, this._worldID = 0, this._parentID = 0 } return t.prototype.updateLocalTransform = function () { }, t.prototype.updateTransform = function (t) { var e = t.worldTransform, r = this.worldTransform, n = this.localTransform; r.a = n.a * e.a + n.b * e.c, r.b = n.a * e.b + n.b * e.d, r.c = n.c * e.a + n.d * e.c, r.d = n.c * e.b + n.d * e.d, r.tx = n.tx * e.a + n.ty * e.c + e.tx, r.ty = n.tx * e.b + n.ty * e.d + e.ty, this._worldID++ }, t }(); r.default = i, i.prototype.updateWorldTransform = i.prototype.updateTransform, i.IDENTITY = new i }, { "../math": 69 }], 51: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = t("../math"), s = t("./TransformBase"); var a = function (t) { function e() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var r = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return r.position = new o.ObservablePoint(r.onChange, r, 0, 0), r.scale = new o.ObservablePoint(r.onChange, r, 1, 1), r.pivot = new o.ObservablePoint(r.onChange, r, 0, 0), r.skew = new o.ObservablePoint(r.updateSkew, r, 0, 0), r._rotation = 0, r._cx = 1, r._sx = 0, r._cy = 0, r._sy = 1, r._localID = 0, r._currentLocalID = 0, r } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.onChange = function () { this._localID++ }, e.prototype.updateSkew = function () { this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x), this._localID++ }, e.prototype.updateLocalTransform = function () { var t = this.localTransform; this._localID !== this._currentLocalID && (t.a = this._cx * this.scale._x, t.b = this._sx * this.scale._x, t.c = this._cy * this.scale._y, t.d = this._sy * this.scale._y, t.tx = this.position._x - (this.pivot._x * t.a + this.pivot._y * t.c), t.ty = this.position._y - (this.pivot._x * t.b + this.pivot._y * t.d), this._currentLocalID = this._localID, this._parentID = -1) }, e.prototype.updateTransform = function (t) { var e = this.localTransform; if (this._localID !== this._currentLocalID && (e.a = this._cx * this.scale._x, e.b = this._sx * this.scale._x, e.c = this._cy * this.scale._y, e.d = this._sy * this.scale._y, e.tx = this.position._x - (this.pivot._x * e.a + this.pivot._y * e.c), e.ty = this.position._y - (this.pivot._x * e.b + this.pivot._y * e.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== t._worldID) { var r = t.worldTransform, n = this.worldTransform; n.a = e.a * r.a + e.b * r.c, n.b = e.a * r.b + e.b * r.d, n.c = e.c * r.a + e.d * r.c, n.d = e.c * r.b + e.d * r.d, n.tx = e.tx * r.a + e.ty * r.c + r.tx, n.ty = e.tx * r.b + e.ty * r.d + r.ty, this._parentID = t._worldID, this._worldID++ } }, e.prototype.setFromMatrix = function (t) { t.decompose(this), this._localID++ }, i(e, [{ key: "rotation", get: function () { return this._rotation }, set: function (t) { this._rotation = t, this.updateSkew() } }]), e }(((n = s) && n.__esModule ? n : { default: n }).default); r.default = a }, { "../math": 69, "./TransformBase": 50 }], 52: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = p(t("../display/Container")), i = p(t("../textures/RenderTexture")), o = p(t("../textures/Texture")), s = p(t("./GraphicsData")), a = p(t("../sprites/Sprite")), u = t("../math"), l = t("../utils"), h = t("../const"), c = p(t("../display/Bounds")), f = p(t("./utils/bezierCurveTo")), d = p(t("../renderers/canvas/CanvasRenderer")); function p(t) { return t && t.__esModule ? t : { default: t } } var g = void 0, m = new u.Matrix, v = new u.Point, y = new Float32Array(4), _ = new Float32Array(4), x = function (t) { function e() { var r = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return n.fillAlpha = 1, n.lineWidth = 0, n.nativeLines = r, n.lineColor = 0, n.graphicsData = [], n.tint = 16777215, n._prevTint = 16777215, n.blendMode = h.BLEND_MODES.NORMAL, n.currentPath = null, n._webGL = {}, n.isMask = !1, n.boundsPadding = 0, n._localBounds = new c.default, n.dirty = 0, n.fastRectDirty = -1, n.clearDirty = 0, n.boundsDirty = -1, n.cachedSpriteDirty = !1, n._spriteRect = null, n._fastRect = !1, n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.clone = function () { var t = new e; t.renderable = this.renderable, t.fillAlpha = this.fillAlpha, t.lineWidth = this.lineWidth, t.lineColor = this.lineColor, t.tint = this.tint, t.blendMode = this.blendMode, t.isMask = this.isMask, t.boundsPadding = this.boundsPadding, t.dirty = 0, t.cachedSpriteDirty = this.cachedSpriteDirty; for (var r = 0; r < this.graphicsData.length; ++r)t.graphicsData.push(this.graphicsData[r].clone()); return t.currentPath = t.graphicsData[t.graphicsData.length - 1], t.updateLocalBounds(), t }, e.prototype.lineStyle = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1; if (this.lineWidth = t, this.lineColor = e, this.lineAlpha = r, this.currentPath) if (this.currentPath.shape.points.length) { var n = new u.Polygon(this.currentPath.shape.points.slice(-2)); n.closed = !1, this.drawShape(n) } else this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha; return this }, e.prototype.moveTo = function (t, e) { var r = new u.Polygon([t, e]); return r.closed = !1, this.drawShape(r), this }, e.prototype.lineTo = function (t, e) { return this.currentPath.shape.points.push(t, e), this.dirty++, this }, e.prototype.quadraticCurveTo = function (t, e, r, n) { this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0); var i = this.currentPath.shape.points, o = 0, s = 0; 0 === i.length && this.moveTo(0, 0); for (var a = i[i.length - 2], u = i[i.length - 1], l = 1; l <= 20; ++l) { var h = l / 20; o = a + (t - a) * h, s = u + (e - u) * h, i.push(o + (t + (r - t) * h - o) * h, s + (e + (n - e) * h - s) * h) } return this.dirty++, this }, e.prototype.bezierCurveTo = function (t, e, r, n, i, o) { this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0); var s = this.currentPath.shape.points, a = s[s.length - 2], u = s[s.length - 1]; return s.length -= 2, (0, f.default)(a, u, t, e, r, n, i, o, s), this.dirty++, this }, e.prototype.arcTo = function (t, e, r, n, i) { this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(t, e) : this.moveTo(t, e); var o = this.currentPath.shape.points, s = o[o.length - 2], a = o[o.length - 1] - e, u = s - t, l = n - e, h = r - t, c = Math.abs(a * h - u * l); if (c < 1e-8 || 0 === i) o[o.length - 2] === t && o[o.length - 1] === e || o.push(t, e); else { var f = a * a + u * u, d = l * l + h * h, p = a * l + u * h, g = i * Math.sqrt(f) / c, m = i * Math.sqrt(d) / c, v = g * p / f, y = m * p / d, _ = g * h + m * u, x = g * l + m * a, b = u * (m + v), T = a * (m + v), w = h * (g + y), S = l * (g + y), C = Math.atan2(T - x, b - _), E = Math.atan2(S - x, w - _); this.arc(_ + t, x + e, i, C, E, u * l > h * a) } return this.dirty++, this }, e.prototype.arc = function (t, e, r, n, i) { var o = arguments.length > 5 && void 0 !== arguments[5] && arguments[5]; if (n === i) return this; !o && i <= n ? i += 2 * Math.PI : o && n <= i && (n += 2 * Math.PI); var s = i - n, a = 40 * Math.ceil(Math.abs(s) / (2 * Math.PI)); if (0 === s) return this; var u = t + Math.cos(n) * r, l = e + Math.sin(n) * r, h = this.currentPath ? this.currentPath.shape.points : null; h ? h[h.length - 2] === u && h[h.length - 1] === l || h.push(u, l) : (this.moveTo(u, l), h = this.currentPath.shape.points); for (var c = s / (2 * a), f = 2 * c, d = Math.cos(c), p = Math.sin(c), g = a - 1, m = g % 1 / g, v = 0; v <= g; ++v) { var y = c + n + f * (v + m * v), _ = Math.cos(y), x = -Math.sin(y); h.push((d * _ + p * x) * r + t, (d * -x + p * _) * r + e) } return this.dirty++, this }, e.prototype.beginFill = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1; return this.filling = !0, this.fillColor = t, this.fillAlpha = e, this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha), this }, e.prototype.endFill = function () { return this.filling = !1, this.fillColor = null, this.fillAlpha = 1, this }, e.prototype.drawRect = function (t, e, r, n) { return this.drawShape(new u.Rectangle(t, e, r, n)), this }, e.prototype.drawRoundedRect = function (t, e, r, n, i) { return this.drawShape(new u.RoundedRectangle(t, e, r, n, i)), this }, e.prototype.drawCircle = function (t, e, r) { return this.drawShape(new u.Circle(t, e, r)), this }, e.prototype.drawEllipse = function (t, e, r, n) { return this.drawShape(new u.Ellipse(t, e, r, n)), this }, e.prototype.drawPolygon = function (t) { var e = t, r = !0; if (e instanceof u.Polygon && (r = e.closed, e = e.points), !Array.isArray(e)) { e = new Array(arguments.length); for (var n = 0; n < e.length; ++n)e[n] = arguments[n] } var i = new u.Polygon(e); return i.closed = r, this.drawShape(i), this }, e.prototype.clear = function () { return (this.lineWidth || this.filling || this.graphicsData.length > 0) && (this.lineWidth = 0, this.filling = !1, this.boundsDirty = -1, this.dirty++, this.clearDirty++, this.graphicsData.length = 0), this.currentPath = null, this._spriteRect = null, this }, e.prototype.isFastRect = function () { return 1 === this.graphicsData.length && this.graphicsData[0].shape.type === h.SHAPES.RECT && !this.graphicsData[0].lineWidth }, e.prototype._renderWebGL = function (t) { this.dirty !== this.fastRectDirty && (this.fastRectDirty = this.dirty, this._fastRect = this.isFastRect()), this._fastRect ? this._renderSpriteRect(t) : (t.setObjectRenderer(t.plugins.graphics), t.plugins.graphics.render(this)) }, e.prototype._renderSpriteRect = function (t) { var e = this.graphicsData[0].shape; this._spriteRect || (this._spriteRect = new a.default(new o.default(o.default.WHITE))); var r = this._spriteRect; if (16777215 === this.tint) r.tint = this.graphicsData[0].fillColor; else { var n = y, i = _; (0, l.hex2rgb)(this.graphicsData[0].fillColor, n), (0, l.hex2rgb)(this.tint, i), n[0] *= i[0], n[1] *= i[1], n[2] *= i[2], r.tint = (0, l.rgb2hex)(n) } r.alpha = this.graphicsData[0].fillAlpha, r.worldAlpha = this.worldAlpha * r.alpha, r.blendMode = this.blendMode, r._texture._frame.width = e.width, r._texture._frame.height = e.height, r.transform.worldTransform = this.transform.worldTransform, r.anchor.set(-e.x / e.width, -e.y / e.height), r._onAnchorUpdate(), r._renderWebGL(t) }, e.prototype._renderCanvas = function (t) { !0 !== this.isMask && t.plugins.graphics.render(this) }, e.prototype._calculateBounds = function () { this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.updateLocalBounds(), this.cachedSpriteDirty = !0); var t = this._localBounds; this._bounds.addFrame(this.transform, t.minX, t.minY, t.maxX, t.maxY) }, e.prototype.containsPoint = function (t) { this.worldTransform.applyInverse(t, v); for (var e = this.graphicsData, r = 0; r < e.length; ++r) { var n = e[r]; if (n.fill && (n.shape && n.shape.contains(v.x, v.y))) return !0 } return !1 }, e.prototype.updateLocalBounds = function () { var t = 1 / 0, e = -1 / 0, r = 1 / 0, n = -1 / 0; if (this.graphicsData.length) for (var i = 0, o = 0, s = 0, a = 0, u = 0, l = 0; l < this.graphicsData.length; l++) { var c = this.graphicsData[l], f = c.type, d = c.lineWidth; if (i = c.shape, f === h.SHAPES.RECT || f === h.SHAPES.RREC) o = i.x - d / 2, s = i.y - d / 2, t = o < t ? o : t, e = o + (a = i.width + d) > e ? o + a : e, r = s < r ? s : r, n = s + (u = i.height + d) > n ? s + u : n; else if (f === h.SHAPES.CIRC) o = i.x, s = i.y, t = o - (a = i.radius + d / 2) < t ? o - a : t, e = o + a > e ? o + a : e, r = s - (u = i.radius + d / 2) < r ? s - u : r, n = s + u > n ? s + u : n; else if (f === h.SHAPES.ELIP) o = i.x, s = i.y, t = o - (a = i.width + d / 2) < t ? o - a : t, e = o + a > e ? o + a : e, r = s - (u = i.height + d / 2) < r ? s - u : r, n = s + u > n ? s + u : n; else for (var p = i.points, g = 0, m = 0, v = 0, y = 0, _ = 0, x = 0, b = 0, T = 0, w = 0; w + 2 < p.length; w += 2)o = p[w], s = p[w + 1], g = p[w + 2], m = p[w + 3], v = Math.abs(g - o), y = Math.abs(m - s), u = d, (a = Math.sqrt(v * v + y * y)) < 1e-9 || (t = (b = (g + o) / 2) - (_ = (u / a * y + v) / 2) < t ? b - _ : t, e = b + _ > e ? b + _ : e, r = (T = (m + s) / 2) - (x = (u / a * v + y) / 2) < r ? T - x : r, n = T + x > n ? T + x : n) } else t = 0, e = 0, r = 0, n = 0; var S = this.boundsPadding; this._localBounds.minX = t - S, this._localBounds.maxX = e + 2 * S, this._localBounds.minY = r - S, this._localBounds.maxY = n + 2 * S }, e.prototype.drawShape = function (t) { this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(), this.currentPath = null; var e = new s.default(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, this.nativeLines, t); return this.graphicsData.push(e), e.type === h.SHAPES.POLY && (e.shape.closed = e.shape.closed || this.filling, this.currentPath = e), this.dirty++, e }, e.prototype.generateCanvasTexture = function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, r = this.getLocalBounds(), n = i.default.create(r.width, r.height, t, e); g || (g = new d.default), this.transform.updateLocalTransform(), this.transform.localTransform.copy(m), m.invert(), m.tx -= r.x, m.ty -= r.y, g.render(this, n, !0, m); var s = o.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas, t, "graphics"); return s.baseTexture.resolution = e, s.baseTexture.update(), s }, e.prototype.closePath = function () { var t = this.currentPath; return t && t.shape && t.shape.close(), this }, e.prototype.addHole = function () { var t = this.graphicsData.pop(); return this.currentPath = this.graphicsData[this.graphicsData.length - 1], this.currentPath.addHole(t.shape), this.currentPath = null, this }, e.prototype.destroy = function (e) { t.prototype.destroy.call(this, e); for (var r = 0; r < this.graphicsData.length; ++r)this.graphicsData[r].destroy(); for (var n in this._webgl) for (var i = 0; i < this._webgl[n].data.length; ++i)this._webgl[n].data[i].destroy(); this._spriteRect && this._spriteRect.destroy(), this.graphicsData = null, this.currentPath = null, this._webgl = null, this._localBounds = null }, e }(n.default); r.default = x, x._SPRITE_TEXTURE = null }, { "../const": 45, "../display/Bounds": 46, "../display/Container": 47, "../math": 69, "../renderers/canvas/CanvasRenderer": 76, "../sprites/Sprite": 101, "../textures/RenderTexture": 112, "../textures/Texture": 114, "../utils": 123, "./GraphicsData": 53, "./utils/bezierCurveTo": 55 }], 53: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(e, r, n, i, o, s, a, u) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.lineWidth = e, this.nativeLines = a, this.lineColor = r, this.lineAlpha = n, this._lineTint = r, this.fillColor = i, this.fillAlpha = o, this._fillTint = i, this.fill = s, this.holes = [], this.shape = u, this.type = u.type } return t.prototype.clone = function () { return new t(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.nativeLines, this.shape) }, t.prototype.addHole = function (t) { this.holes.push(t) }, t.prototype.destroy = function () { this.shape = null, this.holes = null }, t }(); r.default = n }, {}], 54: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../../renderers/canvas/CanvasRenderer"), o = (n = i) && n.__esModule ? n : { default: n }, s = t("../../const"); var a = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e } return t.prototype.render = function (t) { var e = this.renderer, r = e.context, n = t.worldAlpha, i = t.transform.worldTransform, o = e.resolution; this._prevTint !== this.tint && (this.dirty = !0), r.setTransform(i.a * o, i.b * o, i.c * o, i.d * o, i.tx * o, i.ty * o), t.dirty && (this.updateGraphicsTint(t), t.dirty = !1), e.setBlendMode(t.blendMode); for (var a = 0; a < t.graphicsData.length; a++) { var u = t.graphicsData[a], l = u.shape, h = u._fillTint, c = u._lineTint; if (r.lineWidth = u.lineWidth, u.type === s.SHAPES.POLY) { r.beginPath(), this.renderPolygon(l.points, l.closed, r); for (var f = 0; f < u.holes.length; f++)this.renderPolygon(u.holes[f].points, !0, r); u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke()) } else if (u.type === s.SHAPES.RECT) (u.fillColor || 0 === u.fillColor) && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), r.fillRect(l.x, l.y, l.width, l.height)), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.strokeRect(l.x, l.y, l.width, l.height)); else if (u.type === s.SHAPES.CIRC) r.beginPath(), r.arc(l.x, l.y, l.radius, 0, 2 * Math.PI), r.closePath(), u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke()); else if (u.type === s.SHAPES.ELIP) { var d = 2 * l.width, p = 2 * l.height, g = l.x - d / 2, m = l.y - p / 2; r.beginPath(); var v = d / 2 * .5522848, y = p / 2 * .5522848, _ = g + d, x = m + p, b = g + d / 2, T = m + p / 2; r.moveTo(g, T), r.bezierCurveTo(g, T - y, b - v, m, b, m), r.bezierCurveTo(b + v, m, _, T - y, _, T), r.bezierCurveTo(_, T + y, b + v, x, b, x), r.bezierCurveTo(b - v, x, g, T + y, g, T), r.closePath(), u.fill && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke()) } else if (u.type === s.SHAPES.RREC) { var w = l.x, S = l.y, C = l.width, E = l.height, O = l.radius, P = Math.min(C, E) / 2 | 0; O = O > P ? P : O, r.beginPath(), r.moveTo(w, S + O), r.lineTo(w, S + E - O), r.quadraticCurveTo(w, S + E, w + O, S + E), r.lineTo(w + C - O, S + E), r.quadraticCurveTo(w + C, S + E, w + C, S + E - O), r.lineTo(w + C, S + O), r.quadraticCurveTo(w + C, S, w + C - O, S), r.lineTo(w + O, S), r.quadraticCurveTo(w, S, w, S + O), r.closePath(), (u.fillColor || 0 === u.fillColor) && (r.globalAlpha = u.fillAlpha * n, r.fillStyle = "#" + ("00000" + (0 | h).toString(16)).substr(-6), r.fill()), u.lineWidth && (r.globalAlpha = u.lineAlpha * n, r.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), r.stroke()) } } }, t.prototype.updateGraphicsTint = function (t) { t._prevTint = t.tint; for (var e = (t.tint >> 16 & 255) / 255, r = (t.tint >> 8 & 255) / 255, n = (255 & t.tint) / 255, i = 0; i < t.graphicsData.length; ++i) { var o = t.graphicsData[i], s = 0 | o.fillColor, a = 0 | o.lineColor; o._fillTint = ((s >> 16 & 255) / 255 * e * 255 << 16) + ((s >> 8 & 255) / 255 * r * 255 << 8) + (255 & s) / 255 * n * 255, o._lineTint = ((a >> 16 & 255) / 255 * e * 255 << 16) + ((a >> 8 & 255) / 255 * r * 255 << 8) + (255 & a) / 255 * n * 255 } }, t.prototype.renderPolygon = function (t, e, r) { r.moveTo(t[0], t[1]); for (var n = 1; n < t.length / 2; ++n)r.lineTo(t[2 * n], t[2 * n + 1]); e && r.closePath() }, t.prototype.destroy = function () { this.renderer = null }, t }(); r.default = a, o.default.registerPlugin("graphics", a) }, { "../../const": 45, "../../renderers/canvas/CanvasRenderer": 76 }], 55: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e, r, n, i, o, s, a) { var u = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : [], l = 0, h = 0, c = 0, f = 0, d = 0; u.push(t, e); for (var p = 1, g = 0; p <= 20; ++p)c = (h = (l = 1 - (g = p / 20)) * l) * l, d = (f = g * g) * g, u.push(c * t + 3 * h * g * r + 3 * l * f * i + d * s, c * e + 3 * h * g * n + 3 * l * f * o + d * a); return u } }, {}], 56: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("../../utils"), i = t("../../const"), o = d(t("../../renderers/webgl/utils/ObjectRenderer")), s = d(t("../../renderers/webgl/WebGLRenderer")), a = d(t("./WebGLGraphicsData")), u = d(t("./shaders/PrimitiveShader")), l = d(t("./utils/buildPoly")), h = d(t("./utils/buildRectangle")), c = d(t("./utils/buildRoundedRectangle")), f = d(t("./utils/buildCircle")); function d(t) { return t && t.__esModule ? t : { default: t } } var p = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return n.graphicsDataPool = [], n.primitiveShader = null, n.gl = r.gl, n.CONTEXT_UID = 0, n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.onContextChange = function () { this.gl = this.renderer.gl, this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.primitiveShader = new u.default(this.gl) }, e.prototype.destroy = function () { o.default.prototype.destroy.call(this); for (var t = 0; t < this.graphicsDataPool.length; ++t)this.graphicsDataPool[t].destroy(); this.graphicsDataPool = null }, e.prototype.render = function (t) { var e = this.renderer, r = e.gl, i = void 0, o = t._webGL[this.CONTEXT_UID]; o && t.dirty === o.dirty || (this.updateGraphics(t), o = t._webGL[this.CONTEXT_UID]); var s = this.primitiveShader; e.bindShader(s), e.state.setBlendMode(t.blendMode); for (var a = 0, u = o.data.length; a < u; a++) { var l = (i = o.data[a]).shader; e.bindShader(l), l.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0), l.uniforms.tint = (0, n.hex2rgb)(t.tint), l.uniforms.alpha = t.worldAlpha, e.bindVao(i.vao), i.nativeLines ? r.drawArrays(r.LINES, 0, i.points.length / 6) : i.vao.draw(r.TRIANGLE_STRIP, i.indices.length) } }, e.prototype.updateGraphics = function (t) { var e = this.renderer.gl, r = t._webGL[this.CONTEXT_UID]; if (r || (r = t._webGL[this.CONTEXT_UID] = { lastIndex: 0, data: [], gl: e, clearDirty: -1, dirty: -1 }), r.dirty = t.dirty, t.clearDirty !== r.clearDirty) { r.clearDirty = t.clearDirty; for (var n = 0; n < r.data.length; n++)this.graphicsDataPool.push(r.data[n]); r.data.length = 0, r.lastIndex = 0 } for (var o = void 0, s = void 0, a = r.lastIndex; a < t.graphicsData.length; a++) { var u = t.graphicsData[a]; o = this.getWebGLData(r, 0), u.nativeLines && u.lineWidth && (s = this.getWebGLData(r, 0, !0), r.lastIndex++), u.type === i.SHAPES.POLY && (0, l.default)(u, o, s), u.type === i.SHAPES.RECT ? (0, h.default)(u, o, s) : u.type === i.SHAPES.CIRC || u.type === i.SHAPES.ELIP ? (0, f.default)(u, o, s) : u.type === i.SHAPES.RREC && (0, c.default)(u, o, s), r.lastIndex++ } this.renderer.bindVao(null); for (var d = 0; d < r.data.length; d++)(o = r.data[d]).dirty && o.upload() }, e.prototype.getWebGLData = function (t, e, r) { var n = t.data[t.data.length - 1]; return (!n || n.nativeLines !== r || n.points.length > 32e4) && ((n = this.graphicsDataPool.pop() || new a.default(this.renderer.gl, this.primitiveShader, this.renderer.state.attribsState)).nativeLines = r, n.reset(e), t.data.push(n)), n.dirty = !0, n }, e }(o.default); r.default = p, s.default.registerPlugin("graphics", p) }, { "../../const": 45, "../../renderers/webgl/WebGLRenderer": 83, "../../renderers/webgl/utils/ObjectRenderer": 93, "../../utils": 123, "./WebGLGraphicsData": 57, "./shaders/PrimitiveShader": 58, "./utils/buildCircle": 59, "./utils/buildPoly": 61, "./utils/buildRectangle": 62, "./utils/buildRoundedRectangle": 63 }], 57: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("pixi-gl-core"), o = (n = i) && n.__esModule ? n : { default: n }; var s = function () { function t(e, r, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.gl = e, this.color = [0, 0, 0], this.points = [], this.indices = [], this.buffer = o.default.GLBuffer.createVertexBuffer(e), this.indexBuffer = o.default.GLBuffer.createIndexBuffer(e), this.dirty = !0, this.nativeLines = !1, this.glPoints = null, this.glIndices = null, this.shader = r, this.vao = new o.default.VertexArrayObject(e, n).addIndex(this.indexBuffer).addAttribute(this.buffer, r.attributes.aVertexPosition, e.FLOAT, !1, 24, 0).addAttribute(this.buffer, r.attributes.aColor, e.FLOAT, !1, 24, 8) } return t.prototype.reset = function () { this.points.length = 0, this.indices.length = 0 }, t.prototype.upload = function () { this.glPoints = new Float32Array(this.points), this.buffer.upload(this.glPoints), this.glIndices = new Uint16Array(this.indices), this.indexBuffer.upload(this.glIndices), this.dirty = !1 }, t.prototype.destroy = function () { this.color = null, this.points = null, this.indices = null, this.vao.destroy(), this.buffer.destroy(), this.indexBuffer.destroy(), this.gl = null, this.buffer = null, this.indexBuffer = null, this.glPoints = null, this.glIndices = null }, t }(); r.default = s }, { "pixi-gl-core": 12 }], 58: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../../../Shader"); var o = function (t) { function e(r) { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"))) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e }(((n = i) && n.__esModule ? n : { default: n }).default); r.default = o }, { "../../../Shader": 43 }], 59: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e, r) { var n = t.shape, i = n.x, u = n.y, l = void 0, h = void 0; t.type === s.SHAPES.CIRC ? (l = n.radius, h = n.radius) : (l = n.width, h = n.height); if (0 === l || 0 === h) return; var c = Math.floor(30 * Math.sqrt(n.radius)) || Math.floor(15 * Math.sqrt(n.width + n.height)), f = 2 * Math.PI / c; if (t.fill) { var d = (0, a.hex2rgb)(t.fillColor), p = t.fillAlpha, g = d[0] * p, m = d[1] * p, v = d[2] * p, y = e.points, _ = e.indices, x = y.length / 6; _.push(x); for (var b = 0; b < c + 1; b++)y.push(i, u, g, m, v, p), y.push(i + Math.sin(f * b) * l, u + Math.cos(f * b) * h, g, m, v, p), _.push(x++, x++); _.push(x - 1) } if (t.lineWidth) { var T = t.points; t.points = []; for (var w = 0; w < c + 1; w++)t.points.push(i + Math.sin(f * w) * l, u + Math.cos(f * w) * h); (0, o.default)(t, e, r), t.points = T } }; var n, i = t("./buildLine"), o = (n = i) && n.__esModule ? n : { default: n }, s = t("../../../const"), a = t("../../../utils") }, { "../../../const": 45, "../../../utils": 123, "./buildLine": 60 }], 60: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e, r) { t.nativeLines ? function (t, e) { var r = 0, n = t.points; if (0 === n.length) return; var o = e.points, s = n.length / 2, a = (0, i.hex2rgb)(t.lineColor), u = t.lineAlpha, l = a[0] * u, h = a[1] * u, c = a[2] * u; for (r = 1; r < s; r++) { var f = n[2 * (r - 1)], d = n[2 * (r - 1) + 1], p = n[2 * r], g = n[2 * r + 1]; o.push(f, d), o.push(l, h, c, u), o.push(p, g), o.push(l, h, c, u) } }(t, r) : function (t, e) { var r = t.points; if (0 === r.length) return; var o = new n.Point(r[0], r[1]), s = new n.Point(r[r.length - 2], r[r.length - 1]); if (o.x === s.x && o.y === s.y) { (r = r.slice()).pop(), r.pop(); var a = (s = new n.Point(r[r.length - 2], r[r.length - 1])).x + .5 * (o.x - s.x), u = s.y + .5 * (o.y - s.y); r.unshift(a, u), r.push(a, u) } var l = e.points, h = e.indices, c = r.length / 2, f = r.length, d = l.length / 6, p = t.lineWidth / 2, g = (0, i.hex2rgb)(t.lineColor), m = t.lineAlpha, v = g[0] * m, y = g[1] * m, _ = g[2] * m, x = r[0], b = r[1], T = r[2], w = r[3], S = 0, C = 0, E = -(b - w), O = x - T, P = 0, A = 0, M = 0, R = 0, D = Math.sqrt(E * E + O * O); E /= D, O /= D, E *= p, O *= p, l.push(x - E, b - O, v, y, _, m), l.push(x + E, b + O, v, y, _, m); for (var I = 1; I < c - 1; ++I) { x = r[2 * (I - 1)], b = r[2 * (I - 1) + 1], T = r[2 * I], w = r[2 * I + 1], S = r[2 * (I + 1)], C = r[2 * (I + 1) + 1], E = -(b - w), O = x - T, D = Math.sqrt(E * E + O * O), E /= D, O /= D, E *= p, O *= p, P = -(w - C), A = T - S, D = Math.sqrt(P * P + A * A), P /= D, A /= D; var L = -O + b - (-O + w), F = -E + T - (-E + x), k = (-E + x) * (-O + w) - (-E + T) * (-O + b), j = -(A *= p) + C - (-A + w), N = -(P *= p) + T - (-P + S), B = (-P + S) * (-A + w) - (-P + T) * (-A + C), U = L * N - j * F; if (Math.abs(U) < .1) U += 10.1, l.push(T - E, w - O, v, y, _, m), l.push(T + E, w + O, v, y, _, m); else { var z = (F * B - N * k) / U, X = (j * k - L * B) / U, W = (z - T) * (z - T) + (X - w) * (X - w); W > 196 * p * p ? (M = E - P, R = O - A, D = Math.sqrt(M * M + R * R), M /= D, R /= D, M *= p, R *= p, l.push(T - M, w - R), l.push(v, y, _, m), l.push(T + M, w + R), l.push(v, y, _, m), l.push(T - M, w - R), l.push(v, y, _, m), f++) : (l.push(z, X), l.push(v, y, _, m), l.push(T - (z - T), w - (X - w)), l.push(v, y, _, m)) } } x = r[2 * (c - 2)], b = r[2 * (c - 2) + 1], T = r[2 * (c - 1)], w = r[2 * (c - 1) + 1], E = -(b - w), O = x - T, D = Math.sqrt(E * E + O * O), E /= D, O /= D, E *= p, O *= p, l.push(T - E, w - O), l.push(v, y, _, m), l.push(T + E, w + O), l.push(v, y, _, m), h.push(d); for (var H = 0; H < f; ++H)h.push(d++); h.push(d - 1) }(t, e) }; var n = t("../../../math"), i = t("../../../utils") }, { "../../../math": 69, "../../../utils": 123 }], 61: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e, r) { t.points = t.shape.points.slice(); var s = t.points; if (t.fill && s.length >= 6) { for (var a = [], u = t.holes, l = 0; l < u.length; l++) { var h = u[l]; a.push(s.length / 2), s = s.concat(h.points) } var c = e.points, f = e.indices, d = s.length / 2, p = (0, i.hex2rgb)(t.fillColor), g = t.fillAlpha, m = p[0] * g, v = p[1] * g, y = p[2] * g, _ = (0, o.default)(s, a, 2); if (!_) return; for (var x = c.length / 6, b = 0; b < _.length; b += 3)f.push(_[b] + x), f.push(_[b] + x), f.push(_[b + 1] + x), f.push(_[b + 2] + x), f.push(_[b + 2] + x); for (var T = 0; T < d; T++)c.push(s[2 * T], s[2 * T + 1], m, v, y, g) } t.lineWidth > 0 && (0, n.default)(t, e, r) }; var n = s(t("./buildLine")), i = t("../../../utils"), o = s(t("earcut")); function s(t) { return t && t.__esModule ? t : { default: t } } }, { "../../../utils": 123, "./buildLine": 60, earcut: 2 }], 62: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e, r) { var n = t.shape, i = n.x, a = n.y, u = n.width, l = n.height; if (t.fill) { var h = (0, s.hex2rgb)(t.fillColor), c = t.fillAlpha, f = h[0] * c, d = h[1] * c, p = h[2] * c, g = e.points, m = e.indices, v = g.length / 6; g.push(i, a), g.push(f, d, p, c), g.push(i + u, a), g.push(f, d, p, c), g.push(i, a + l), g.push(f, d, p, c), g.push(i + u, a + l), g.push(f, d, p, c), m.push(v, v, v + 1, v + 2, v + 3, v + 3) } if (t.lineWidth) { var y = t.points; t.points = [i, a, i + u, a, i + u, a + l, i, a + l, i, a], (0, o.default)(t, e, r), t.points = y } }; var n, i = t("./buildLine"), o = (n = i) && n.__esModule ? n : { default: n }, s = t("../../../utils") }, { "../../../utils": 123, "./buildLine": 60 }], 63: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e, r) { var s = t.shape, a = s.x, l = s.y, h = s.width, c = s.height, f = s.radius, d = []; if (d.push(a, l + f), u(a, l + c - f, a, l + c, a + f, l + c, d), u(a + h - f, l + c, a + h, l + c, a + h, l + c - f, d), u(a + h, l + f, a + h, l, a + h - f, l, d), u(a + f, l, a, l, a, l + f + 1e-10, d), t.fill) { for (var p = (0, o.hex2rgb)(t.fillColor), g = t.fillAlpha, m = p[0] * g, v = p[1] * g, y = p[2] * g, _ = e.points, x = e.indices, b = _.length / 6, T = (0, n.default)(d, null, 2), w = 0, S = T.length; w < S; w += 3)x.push(T[w] + b), x.push(T[w] + b), x.push(T[w + 1] + b), x.push(T[w + 2] + b), x.push(T[w + 2] + b); for (var C = 0, E = d.length; C < E; C++)_.push(d[C], d[++C], m, v, y, g) } if (t.lineWidth) { var O = t.points; t.points = d, (0, i.default)(t, e, r), t.points = O } }; var n = s(t("earcut")), i = s(t("./buildLine")), o = t("../../../utils"); function s(t) { return t && t.__esModule ? t : { default: t } } function a(t, e, r) { return t + (e - t) * r } function u(t, e, r, n, i, o) { for (var s = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [], u = 0, l = 0, h = 0, c = 0, f = 0, d = 0, p = 0, g = 0; p <= 20; ++p)u = a(t, r, g = p / 20), l = a(e, n, g), h = a(r, i, g), c = a(n, o, g), f = a(u, h, g), d = a(l, c, g), s.push(f, d); return s } }, { "../../../utils": 123, "./buildLine": 60, earcut: 2 }], 64: [function (t, e, r) { "use strict"; r.__esModule = !0, r.autoDetectRenderer = r.Application = r.Filter = r.SpriteMaskFilter = r.Quad = r.RenderTarget = r.ObjectRenderer = r.WebGLManager = r.Shader = r.CanvasRenderTarget = r.TextureUvs = r.VideoBaseTexture = r.BaseRenderTexture = r.RenderTexture = r.BaseTexture = r.Texture = r.Spritesheet = r.CanvasGraphicsRenderer = r.GraphicsRenderer = r.GraphicsData = r.Graphics = r.TextMetrics = r.TextStyle = r.Text = r.SpriteRenderer = r.CanvasTinter = r.CanvasSpriteRenderer = r.Sprite = r.TransformBase = r.TransformStatic = r.Transform = r.Container = r.DisplayObject = r.Bounds = r.glCore = r.WebGLRenderer = r.CanvasRenderer = r.ticker = r.utils = r.settings = void 0; var n = t("./const"); Object.keys(n).forEach(function (t) { "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, { enumerable: !0, get: function () { return n[t] } }) }); var i = t("./math"); Object.keys(i).forEach(function (t) { "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, { enumerable: !0, get: function () { return i[t] } }) }); var o = t("pixi-gl-core"); Object.defineProperty(r, "glCore", { enumerable: !0, get: function () { return Y(o).default } }); var s = t("./display/Bounds"); Object.defineProperty(r, "Bounds", { enumerable: !0, get: function () { return Y(s).default } }); var a = t("./display/DisplayObject"); Object.defineProperty(r, "DisplayObject", { enumerable: !0, get: function () { return Y(a).default } }); var u = t("./display/Container"); Object.defineProperty(r, "Container", { enumerable: !0, get: function () { return Y(u).default } }); var l = t("./display/Transform"); Object.defineProperty(r, "Transform", { enumerable: !0, get: function () { return Y(l).default } }); var h = t("./display/TransformStatic"); Object.defineProperty(r, "TransformStatic", { enumerable: !0, get: function () { return Y(h).default } }); var c = t("./display/TransformBase"); Object.defineProperty(r, "TransformBase", { enumerable: !0, get: function () { return Y(c).default } }); var f = t("./sprites/Sprite"); Object.defineProperty(r, "Sprite", { enumerable: !0, get: function () { return Y(f).default } }); var d = t("./sprites/canvas/CanvasSpriteRenderer"); Object.defineProperty(r, "CanvasSpriteRenderer", { enumerable: !0, get: function () { return Y(d).default } }); var p = t("./sprites/canvas/CanvasTinter"); Object.defineProperty(r, "CanvasTinter", { enumerable: !0, get: function () { return Y(p).default } }); var g = t("./sprites/webgl/SpriteRenderer"); Object.defineProperty(r, "SpriteRenderer", { enumerable: !0, get: function () { return Y(g).default } }); var m = t("./text/Text"); Object.defineProperty(r, "Text", { enumerable: !0, get: function () { return Y(m).default } }); var v = t("./text/TextStyle"); Object.defineProperty(r, "TextStyle", { enumerable: !0, get: function () { return Y(v).default } }); var y = t("./text/TextMetrics"); Object.defineProperty(r, "TextMetrics", { enumerable: !0, get: function () { return Y(y).default } }); var _ = t("./graphics/Graphics"); Object.defineProperty(r, "Graphics", { enumerable: !0, get: function () { return Y(_).default } }); var x = t("./graphics/GraphicsData"); Object.defineProperty(r, "GraphicsData", { enumerable: !0, get: function () { return Y(x).default } }); var b = t("./graphics/webgl/GraphicsRenderer"); Object.defineProperty(r, "GraphicsRenderer", { enumerable: !0, get: function () { return Y(b).default } }); var T = t("./graphics/canvas/CanvasGraphicsRenderer"); Object.defineProperty(r, "CanvasGraphicsRenderer", { enumerable: !0, get: function () { return Y(T).default } }); var w = t("./textures/Spritesheet"); Object.defineProperty(r, "Spritesheet", { enumerable: !0, get: function () { return Y(w).default } }); var S = t("./textures/Texture"); Object.defineProperty(r, "Texture", { enumerable: !0, get: function () { return Y(S).default } }); var C = t("./textures/BaseTexture"); Object.defineProperty(r, "BaseTexture", { enumerable: !0, get: function () { return Y(C).default } }); var E = t("./textures/RenderTexture"); Object.defineProperty(r, "RenderTexture", { enumerable: !0, get: function () { return Y(E).default } }); var O = t("./textures/BaseRenderTexture"); Object.defineProperty(r, "BaseRenderTexture", { enumerable: !0, get: function () { return Y(O).default } }); var P = t("./textures/VideoBaseTexture"); Object.defineProperty(r, "VideoBaseTexture", { enumerable: !0, get: function () { return Y(P).default } }); var A = t("./textures/TextureUvs"); Object.defineProperty(r, "TextureUvs", { enumerable: !0, get: function () { return Y(A).default } }); var M = t("./renderers/canvas/utils/CanvasRenderTarget"); Object.defineProperty(r, "CanvasRenderTarget", { enumerable: !0, get: function () { return Y(M).default } }); var R = t("./Shader"); Object.defineProperty(r, "Shader", { enumerable: !0, get: function () { return Y(R).default } }); var D = t("./renderers/webgl/managers/WebGLManager"); Object.defineProperty(r, "WebGLManager", { enumerable: !0, get: function () { return Y(D).default } }); var I = t("./renderers/webgl/utils/ObjectRenderer"); Object.defineProperty(r, "ObjectRenderer", { enumerable: !0, get: function () { return Y(I).default } }); var L = t("./renderers/webgl/utils/RenderTarget"); Object.defineProperty(r, "RenderTarget", { enumerable: !0, get: function () { return Y(L).default } }); var F = t("./renderers/webgl/utils/Quad"); Object.defineProperty(r, "Quad", { enumerable: !0, get: function () { return Y(F).default } }); var k = t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter"); Object.defineProperty(r, "SpriteMaskFilter", { enumerable: !0, get: function () { return Y(k).default } }); var j = t("./renderers/webgl/filters/Filter"); Object.defineProperty(r, "Filter", { enumerable: !0, get: function () { return Y(j).default } }); var N = t("./Application"); Object.defineProperty(r, "Application", { enumerable: !0, get: function () { return Y(N).default } }); var B = t("./autoDetectRenderer"); Object.defineProperty(r, "autoDetectRenderer", { enumerable: !0, get: function () { return B.autoDetectRenderer } }); var U = G(t("./utils")), z = G(t("./ticker")), X = Y(t("./settings")), W = Y(t("./renderers/canvas/CanvasRenderer")), H = Y(t("./renderers/webgl/WebGLRenderer")); function G(t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e } function Y(t) { return t && t.__esModule ? t : { default: t } } r.settings = X.default, r.utils = U, r.ticker = z, r.CanvasRenderer = W.default, r.WebGLRenderer = H.default }, { "./Application": 42, "./Shader": 43, "./autoDetectRenderer": 44, "./const": 45, "./display/Bounds": 46, "./display/Container": 47, "./display/DisplayObject": 48, "./display/Transform": 49, "./display/TransformBase": 50, "./display/TransformStatic": 51, "./graphics/Graphics": 52, "./graphics/GraphicsData": 53, "./graphics/canvas/CanvasGraphicsRenderer": 54, "./graphics/webgl/GraphicsRenderer": 56, "./math": 69, "./renderers/canvas/CanvasRenderer": 76, "./renderers/canvas/utils/CanvasRenderTarget": 78, "./renderers/webgl/WebGLRenderer": 83, "./renderers/webgl/filters/Filter": 85, "./renderers/webgl/filters/spriteMask/SpriteMaskFilter": 88, "./renderers/webgl/managers/WebGLManager": 92, "./renderers/webgl/utils/ObjectRenderer": 93, "./renderers/webgl/utils/Quad": 94, "./renderers/webgl/utils/RenderTarget": 95, "./settings": 100, "./sprites/Sprite": 101, "./sprites/canvas/CanvasSpriteRenderer": 102, "./sprites/canvas/CanvasTinter": 103, "./sprites/webgl/SpriteRenderer": 105, "./text/Text": 107, "./text/TextMetrics": 108, "./text/TextStyle": 109, "./textures/BaseRenderTexture": 110, "./textures/BaseTexture": 111, "./textures/RenderTexture": 112, "./textures/Spritesheet": 113, "./textures/Texture": 114, "./textures/TextureUvs": 115, "./textures/VideoBaseTexture": 116, "./ticker": 119, "./utils": 123, "pixi-gl-core": 12 }], 65: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("./Matrix"), o = (n = i) && n.__esModule ? n : { default: n }; var s = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1], a = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1], u = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1], l = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1], h = [], c = []; function f(t) { return t < 0 ? -1 : t > 0 ? 1 : 0 } !function () { for (var t = 0; t < 16; t++) { var e = []; c.push(e); for (var r = 0; r < 16; r++)for (var n = f(s[t] * s[r] + u[t] * a[r]), i = f(a[t] * s[r] + l[t] * a[r]), d = f(s[t] * u[r] + u[t] * l[r]), p = f(a[t] * u[r] + l[t] * l[r]), g = 0; g < 16; g++)if (s[g] === n && a[g] === i && u[g] === d && l[g] === p) { e.push(g); break } } for (var m = 0; m < 16; m++) { var v = new o.default; v.set(s[m], a[m], u[m], l[m], 0, 0), h.push(v) } }(); var d = { E: 0, SE: 1, S: 2, SW: 3, W: 4, NW: 5, N: 6, NE: 7, MIRROR_VERTICAL: 8, MIRROR_HORIZONTAL: 12, uX: function (t) { return s[t] }, uY: function (t) { return a[t] }, vX: function (t) { return u[t] }, vY: function (t) { return l[t] }, inv: function (t) { return 8 & t ? 15 & t : 7 & -t }, add: function (t, e) { return c[t][e] }, sub: function (t, e) { return c[t][d.inv(e)] }, rotate180: function (t) { return 4 ^ t }, isSwapWidthHeight: function (t) { return 2 == (3 & t) }, byDirection: function (t, e) { return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? d.S : d.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? d.E : d.W : e > 0 ? t > 0 ? d.SE : d.SW : t > 0 ? d.NE : d.NW }, matrixAppendRotationInv: function (t, e) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, i = h[d.inv(e)]; i.tx = r, i.ty = n, t.append(i) } }; r.default = d }, { "./Matrix": 66 }], 66: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = t("./Point"), s = (n = o) && n.__esModule ? n : { default: n }; var a = function () { function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0, s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.a = e, this.b = r, this.c = n, this.d = i, this.tx = o, this.ty = s, this.array = null } return t.prototype.fromArray = function (t) { this.a = t[0], this.b = t[1], this.c = t[3], this.d = t[4], this.tx = t[2], this.ty = t[5] }, t.prototype.set = function (t, e, r, n, i, o) { return this.a = t, this.b = e, this.c = r, this.d = n, this.tx = i, this.ty = o, this }, t.prototype.toArray = function (t, e) { this.array || (this.array = new Float32Array(9)); var r = e || this.array; return t ? (r[0] = this.a, r[1] = this.b, r[2] = 0, r[3] = this.c, r[4] = this.d, r[5] = 0, r[6] = this.tx, r[7] = this.ty, r[8] = 1) : (r[0] = this.a, r[1] = this.c, r[2] = this.tx, r[3] = this.b, r[4] = this.d, r[5] = this.ty, r[6] = 0, r[7] = 0, r[8] = 1), r }, t.prototype.apply = function (t, e) { e = e || new s.default; var r = t.x, n = t.y; return e.x = this.a * r + this.c * n + this.tx, e.y = this.b * r + this.d * n + this.ty, e }, t.prototype.applyInverse = function (t, e) { e = e || new s.default; var r = 1 / (this.a * this.d + this.c * -this.b), n = t.x, i = t.y; return e.x = this.d * r * n + -this.c * r * i + (this.ty * this.c - this.tx * this.d) * r, e.y = this.a * r * i + -this.b * r * n + (-this.ty * this.a + this.tx * this.b) * r, e }, t.prototype.translate = function (t, e) { return this.tx += t, this.ty += e, this }, t.prototype.scale = function (t, e) { return this.a *= t, this.d *= e, this.c *= t, this.b *= e, this.tx *= t, this.ty *= e, this }, t.prototype.rotate = function (t) { var e = Math.cos(t), r = Math.sin(t), n = this.a, i = this.c, o = this.tx; return this.a = n * e - this.b * r, this.b = n * r + this.b * e, this.c = i * e - this.d * r, this.d = i * r + this.d * e, this.tx = o * e - this.ty * r, this.ty = o * r + this.ty * e, this }, t.prototype.append = function (t) { var e = this.a, r = this.b, n = this.c, i = this.d; return this.a = t.a * e + t.b * n, this.b = t.a * r + t.b * i, this.c = t.c * e + t.d * n, this.d = t.c * r + t.d * i, this.tx = t.tx * e + t.ty * n + this.tx, this.ty = t.tx * r + t.ty * i + this.ty, this }, t.prototype.setTransform = function (t, e, r, n, i, o, s, a, u) { var l = Math.sin(s), h = Math.cos(s), c = Math.cos(u), f = Math.sin(u), d = -Math.sin(a), p = Math.cos(a), g = h * i, m = l * i, v = -l * o, y = h * o; return this.a = c * g + f * v, this.b = c * m + f * y, this.c = d * g + p * v, this.d = d * m + p * y, this.tx = t + (r * g + n * v), this.ty = e + (r * m + n * y), this }, t.prototype.prepend = function (t) { var e = this.tx; if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) { var r = this.a, n = this.c; this.a = r * t.a + this.b * t.c, this.b = r * t.b + this.b * t.d, this.c = n * t.a + this.d * t.c, this.d = n * t.b + this.d * t.d } return this.tx = e * t.a + this.ty * t.c + t.tx, this.ty = e * t.b + this.ty * t.d + t.ty, this }, t.prototype.decompose = function (t) { var e = this.a, r = this.b, n = this.c, i = this.d, o = -Math.atan2(-n, i), s = Math.atan2(r, e); return Math.abs(o + s) < 1e-5 ? (t.rotation = s, e < 0 && i >= 0 && (t.rotation += t.rotation <= 0 ? Math.PI : -Math.PI), t.skew.x = t.skew.y = 0) : (t.skew.x = o, t.skew.y = s), t.scale.x = Math.sqrt(e * e + r * r), t.scale.y = Math.sqrt(n * n + i * i), t.position.x = this.tx, t.position.y = this.ty, t }, t.prototype.invert = function () { var t = this.a, e = this.b, r = this.c, n = this.d, i = this.tx, o = t * n - e * r; return this.a = n / o, this.b = -e / o, this.c = -r / o, this.d = t / o, this.tx = (r * this.ty - n * i) / o, this.ty = -(t * this.ty - e * i) / o, this }, t.prototype.identity = function () { return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this }, t.prototype.clone = function () { var e = new t; return e.a = this.a, e.b = this.b, e.c = this.c, e.d = this.d, e.tx = this.tx, e.ty = this.ty, e }, t.prototype.copy = function (t) { return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t }, i(t, null, [{ key: "IDENTITY", get: function () { return new t } }, { key: "TEMP_MATRIX", get: function () { return new t } }]), t }(); r.default = a }, { "./Point": 68 }], 67: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(); var i = function () { function t(e, r) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this._x = n, this._y = i, this.cb = e, this.scope = r } return t.prototype.set = function (t, e) { var r = t || 0, n = e || (0 !== e ? r : 0); this._x === r && this._y === n || (this._x = r, this._y = n, this.cb.call(this.scope)) }, t.prototype.copy = function (t) { this._x === t.x && this._y === t.y || (this._x = t.x, this._y = t.y, this.cb.call(this.scope)) }, n(t, [{ key: "x", get: function () { return this._x }, set: function (t) { this._x !== t && (this._x = t, this.cb.call(this.scope)) } }, { key: "y", get: function () { return this._y }, set: function (t) { this._y !== t && (this._y = t, this.cb.call(this.scope)) } }]), t }(); r.default = i }, {}], 68: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.x = e, this.y = r } return t.prototype.clone = function () { return new t(this.x, this.y) }, t.prototype.copy = function (t) { this.set(t.x, t.y) }, t.prototype.equals = function (t) { return t.x === this.x && t.y === this.y }, t.prototype.set = function (t, e) { this.x = t || 0, this.y = e || (0 !== e ? this.x : 0) }, t }(); r.default = n }, {}], 69: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("./Point"); Object.defineProperty(r, "Point", { enumerable: !0, get: function () { return f(n).default } }); var i = t("./ObservablePoint"); Object.defineProperty(r, "ObservablePoint", { enumerable: !0, get: function () { return f(i).default } }); var o = t("./Matrix"); Object.defineProperty(r, "Matrix", { enumerable: !0, get: function () { return f(o).default } }); var s = t("./GroupD8"); Object.defineProperty(r, "GroupD8", { enumerable: !0, get: function () { return f(s).default } }); var a = t("./shapes/Circle"); Object.defineProperty(r, "Circle", { enumerable: !0, get: function () { return f(a).default } }); var u = t("./shapes/Ellipse"); Object.defineProperty(r, "Ellipse", { enumerable: !0, get: function () { return f(u).default } }); var l = t("./shapes/Polygon"); Object.defineProperty(r, "Polygon", { enumerable: !0, get: function () { return f(l).default } }); var h = t("./shapes/Rectangle"); Object.defineProperty(r, "Rectangle", { enumerable: !0, get: function () { return f(h).default } }); var c = t("./shapes/RoundedRectangle"); function f(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "RoundedRectangle", { enumerable: !0, get: function () { return f(c).default } }) }, { "./GroupD8": 65, "./Matrix": 66, "./ObservablePoint": 67, "./Point": 68, "./shapes/Circle": 70, "./shapes/Ellipse": 71, "./shapes/Polygon": 72, "./shapes/Rectangle": 73, "./shapes/RoundedRectangle": 74 }], 70: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("./Rectangle"), o = (n = i) && n.__esModule ? n : { default: n }, s = t("../../const"); var a = function () { function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.x = e, this.y = r, this.radius = n, this.type = s.SHAPES.CIRC } return t.prototype.clone = function () { return new t(this.x, this.y, this.radius) }, t.prototype.contains = function (t, e) { if (this.radius <= 0) return !1; var r = this.radius * this.radius, n = this.x - t, i = this.y - e; return (n *= n) + (i *= i) <= r }, t.prototype.getBounds = function () { return new o.default(this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius) }, t }(); r.default = a }, { "../../const": 45, "./Rectangle": 73 }], 71: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("./Rectangle"), o = (n = i) && n.__esModule ? n : { default: n }, s = t("../../const"); var a = function () { function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.x = e, this.y = r, this.width = n, this.height = i, this.type = s.SHAPES.ELIP } return t.prototype.clone = function () { return new t(this.x, this.y, this.width, this.height) }, t.prototype.contains = function (t, e) { if (this.width <= 0 || this.height <= 0) return !1; var r = (t - this.x) / this.width, n = (e - this.y) / this.height; return (r *= r) + (n *= n) <= 1 }, t.prototype.getBounds = function () { return new o.default(this.x - this.width, this.y - this.height, this.width, this.height) }, t }(); r.default = a }, { "../../const": 45, "./Rectangle": 73 }], 72: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../Point"), o = (n = i) && n.__esModule ? n : { default: n }, s = t("../../const"); var a = function () { function t() { for (var e = arguments.length, r = Array(e), n = 0; n < e; n++)r[n] = arguments[n]; if (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), Array.isArray(r[0]) && (r = r[0]), r[0] instanceof o.default) { for (var i = [], a = 0, u = r.length; a < u; a++)i.push(r[a].x, r[a].y); r = i } this.closed = !0, this.points = r, this.type = s.SHAPES.POLY } return t.prototype.clone = function () { return new t(this.points.slice()) }, t.prototype.close = function () { var t = this.points; t[0] === t[t.length - 2] && t[1] === t[t.length - 1] || t.push(t[0], t[1]) }, t.prototype.contains = function (t, e) { for (var r = !1, n = this.points.length / 2, i = 0, o = n - 1; i < n; o = i++) { var s = this.points[2 * i], a = this.points[2 * i + 1], u = this.points[2 * o], l = this.points[2 * o + 1]; a > e != l > e && t < (e - a) / (l - a) * (u - s) + s && (r = !r) } return r }, t }(); r.default = a }, { "../../const": 45, "../Point": 68 }], 73: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = t("../../const"); var o = function () { function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.x = e, this.y = r, this.width = n, this.height = o, this.type = i.SHAPES.RECT } return t.prototype.clone = function () { return new t(this.x, this.y, this.width, this.height) }, t.prototype.copy = function (t) { return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this }, t.prototype.contains = function (t, e) { return !(this.width <= 0 || this.height <= 0) && (t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height) }, t.prototype.pad = function (t, e) { t = t || 0, e = e || (0 !== e ? t : 0), this.x -= t, this.y -= e, this.width += 2 * t, this.height += 2 * e }, t.prototype.fit = function (t) { this.x < t.x && (this.width += this.x, this.width < 0 && (this.width = 0), this.x = t.x), this.y < t.y && (this.height += this.y, this.height < 0 && (this.height = 0), this.y = t.y), this.x + this.width > t.x + t.width && (this.width = t.width - this.x, this.width < 0 && (this.width = 0)), this.y + this.height > t.y + t.height && (this.height = t.height - this.y, this.height < 0 && (this.height = 0)) }, t.prototype.enlarge = function (t) { var e = Math.min(this.x, t.x), r = Math.max(this.x + this.width, t.x + t.width), n = Math.min(this.y, t.y), i = Math.max(this.y + this.height, t.y + t.height); this.x = e, this.width = r - e, this.y = n, this.height = i - n }, n(t, [{ key: "left", get: function () { return this.x } }, { key: "right", get: function () { return this.x + this.width } }, { key: "top", get: function () { return this.y } }, { key: "bottom", get: function () { return this.y + this.height } }], [{ key: "EMPTY", get: function () { return new t(0, 0, 0, 0) } }]), t }(); r.default = o }, { "../../const": 45 }], 74: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("../../const"); var i = function () { function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 20; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.x = e, this.y = r, this.width = i, this.height = o, this.radius = s, this.type = n.SHAPES.RREC } return t.prototype.clone = function () { return new t(this.x, this.y, this.width, this.height, this.radius) }, t.prototype.contains = function (t, e) { if (this.width <= 0 || this.height <= 0) return !1; if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) { if (e >= this.y + this.radius && e <= this.y + this.height - this.radius || t >= this.x + this.radius && t <= this.x + this.width - this.radius) return !0; var r = t - (this.x + this.radius), n = e - (this.y + this.radius), i = this.radius * this.radius; if (r * r + n * n <= i) return !0; if ((r = t - (this.x + this.width - this.radius)) * r + n * n <= i) return !0; if (r * r + (n = e - (this.y + this.height - this.radius)) * n <= i) return !0; if ((r = t - (this.x + this.radius)) * r + n * n <= i) return !0 } return !1 }, t }(); r.default = i }, { "../../const": 45 }], 75: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = t("../utils"), o = t("../math"), s = t("../const"), a = c(t("../settings")), u = c(t("../display/Container")), l = c(t("../textures/RenderTexture")), h = c(t("eventemitter3")); function c(t) { return t && t.__esModule ? t : { default: t } } var f = new o.Matrix, d = function (t) { function e(r, n, l, h) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var c = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return (0, i.sayHello)(r), "number" == typeof n && (n = Object.assign({ width: n, height: l || a.default.RENDER_OPTIONS.height }, h)), n = Object.assign({}, a.default.RENDER_OPTIONS, n), c.options = n, c.type = s.RENDERER_TYPE.UNKNOWN, c.screen = new o.Rectangle(0, 0, n.width, n.height), c.view = n.view || document.createElement("canvas"), c.resolution = n.resolution || a.default.RESOLUTION, c.transparent = n.transparent, c.autoResize = n.autoResize || !1, c.blendModes = null, c.preserveDrawingBuffer = n.preserveDrawingBuffer, c.clearBeforeRender = n.clearBeforeRender, c.roundPixels = n.roundPixels, c._backgroundColor = 0, c._backgroundColorRgba = [0, 0, 0, 0], c._backgroundColorString = "#000000", c.backgroundColor = n.backgroundColor || c._backgroundColor, c._tempDisplayObjectParent = new u.default, c._lastObjectRendered = c._tempDisplayObjectParent, c } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.resize = function (t, e) { this.screen.width = t, this.screen.height = e, this.view.width = t * this.resolution, this.view.height = e * this.resolution, this.autoResize && (this.view.style.width = t + "px", this.view.style.height = e + "px") }, e.prototype.generateTexture = function (t, e, r) { var n = t.getLocalBounds(), i = l.default.create(0 | n.width, 0 | n.height, e, r); return f.tx = -n.x, f.ty = -n.y, this.render(t, i, !1, f, !0), i }, e.prototype.destroy = function (t) { t && this.view.parentNode && this.view.parentNode.removeChild(this.view), this.type = s.RENDERER_TYPE.UNKNOWN, this.view = null, this.screen = null, this.resolution = 0, this.transparent = !1, this.autoResize = !1, this.blendModes = null, this.options = null, this.preserveDrawingBuffer = !1, this.clearBeforeRender = !1, this.roundPixels = !1, this._backgroundColor = 0, this._backgroundColorRgba = null, this._backgroundColorString = null, this.backgroundColor = 0, this._tempDisplayObjectParent = null, this._lastObjectRendered = null }, n(e, [{ key: "width", get: function () { return this.view.width } }, { key: "height", get: function () { return this.view.height } }, { key: "backgroundColor", get: function () { return this._backgroundColor }, set: function (t) { this._backgroundColor = t, this._backgroundColorString = (0, i.hex2string)(t), (0, i.hex2rgb)(t, this._backgroundColorRgba) } }]), e }(h.default); r.default = d }, { "../const": 45, "../display/Container": 47, "../math": 69, "../settings": 100, "../textures/RenderTexture": 112, "../utils": 123, eventemitter3: 3 }], 76: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = h(t("../SystemRenderer")), i = h(t("./utils/CanvasMaskManager")), o = h(t("./utils/CanvasRenderTarget")), s = h(t("./utils/mapCanvasBlendModesToPixi")), a = t("../../utils"), u = t("../../const"), l = h(t("../../settings")); function h(t) { return t && t.__esModule ? t : { default: t } } var c = function (t) { function e(r, n, o) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var a = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, "Canvas", r, n, o)); return a.type = u.RENDERER_TYPE.CANVAS, a.rootContext = a.view.getContext("2d", { alpha: a.transparent }), a.refresh = !0, a.maskManager = new i.default(a), a.smoothProperty = "imageSmoothingEnabled", a.rootContext.imageSmoothingEnabled || (a.rootContext.webkitImageSmoothingEnabled ? a.smoothProperty = "webkitImageSmoothingEnabled" : a.rootContext.mozImageSmoothingEnabled ? a.smoothProperty = "mozImageSmoothingEnabled" : a.rootContext.oImageSmoothingEnabled ? a.smoothProperty = "oImageSmoothingEnabled" : a.rootContext.msImageSmoothingEnabled && (a.smoothProperty = "msImageSmoothingEnabled")), a.initPlugins(), a.blendModes = (0, s.default)(), a._activeBlendMode = null, a.context = null, a.renderingToScreen = !1, a.resize(a.options.width, a.options.height), a } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.render = function (t, e, r, n, i) { if (this.view) { this.renderingToScreen = !e, this.emit("prerender"); var s = this.resolution; e ? ((e = e.baseTexture || e)._canvasRenderTarget || (e._canvasRenderTarget = new o.default(e.width, e.height, e.resolution), e.source = e._canvasRenderTarget.canvas, e.valid = !0), this.context = e._canvasRenderTarget.context, this.resolution = e._canvasRenderTarget.resolution) : this.context = this.rootContext; var a = this.context; if (e || (this._lastObjectRendered = t), !i) { var l = t.parent, h = this._tempDisplayObjectParent.transform.worldTransform; n ? (n.copy(h), this._tempDisplayObjectParent.transform._worldID = -1) : h.identity(), t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = l } a.setTransform(1, 0, 0, 1, 0, 0), a.globalAlpha = 1, a.globalCompositeOperation = this.blendModes[u.BLEND_MODES.NORMAL], navigator.isCocoonJS && this.view.screencanvas && (a.fillStyle = "black", a.clear()), (void 0 !== r ? r : this.clearBeforeRender) && this.renderingToScreen && (this.transparent ? a.clearRect(0, 0, this.width, this.height) : (a.fillStyle = this._backgroundColorString, a.fillRect(0, 0, this.width, this.height))); var c = this.context; this.context = a, t.renderCanvas(this), this.context = c, this.resolution = s, this.emit("postrender") } }, e.prototype.clear = function (t) { var e = this.context; t = t || this._backgroundColorString, !this.transparent && t ? (e.fillStyle = t, e.fillRect(0, 0, this.width, this.height)) : e.clearRect(0, 0, this.width, this.height) }, e.prototype.setBlendMode = function (t) { this._activeBlendMode !== t && (this._activeBlendMode = t, this.context.globalCompositeOperation = this.blendModes[t]) }, e.prototype.destroy = function (e) { this.destroyPlugins(), t.prototype.destroy.call(this, e), this.context = null, this.refresh = !0, this.maskManager.destroy(), this.maskManager = null, this.smoothProperty = null }, e.prototype.resize = function (e, r) { t.prototype.resize.call(this, e, r), this.smoothProperty && (this.rootContext[this.smoothProperty] = l.default.SCALE_MODE === u.SCALE_MODES.LINEAR) }, e }(n.default); r.default = c, a.pluginTarget.mixin(c) }, { "../../const": 45, "../../settings": 100, "../../utils": 123, "../SystemRenderer": 75, "./utils/CanvasMaskManager": 77, "./utils/CanvasRenderTarget": 78, "./utils/mapCanvasBlendModesToPixi": 80 }], 77: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("../../../const"); var i = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e } return t.prototype.pushMask = function (t) { var e = this.renderer; e.context.save(); var r = t.alpha, n = t.transform.worldTransform, i = e.resolution; e.context.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i, n.ty * i), t._texture || (this.renderGraphicsShape(t), e.context.clip()), t.worldAlpha = r }, t.prototype.renderGraphicsShape = function (t) { var e = this.renderer.context, r = t.graphicsData.length; if (0 !== r) { e.beginPath(); for (var i = 0; i < r; i++) { var o = t.graphicsData[i], s = o.shape; if (o.type === n.SHAPES.POLY) { var a = s.points; e.moveTo(a[0], a[1]); for (var u = 1; u < a.length / 2; u++)e.lineTo(a[2 * u], a[2 * u + 1]); a[0] === a[a.length - 2] && a[1] === a[a.length - 1] && e.closePath() } else if (o.type === n.SHAPES.RECT) e.rect(s.x, s.y, s.width, s.height), e.closePath(); else if (o.type === n.SHAPES.CIRC) e.arc(s.x, s.y, s.radius, 0, 2 * Math.PI), e.closePath(); else if (o.type === n.SHAPES.ELIP) { var l = 2 * s.width, h = 2 * s.height, c = s.x - l / 2, f = s.y - h / 2, d = l / 2 * .5522848, p = h / 2 * .5522848, g = c + l, m = f + h, v = c + l / 2, y = f + h / 2; e.moveTo(c, y), e.bezierCurveTo(c, y - p, v - d, f, v, f), e.bezierCurveTo(v + d, f, g, y - p, g, y), e.bezierCurveTo(g, y + p, v + d, m, v, m), e.bezierCurveTo(v - d, m, c, y + p, c, y), e.closePath() } else if (o.type === n.SHAPES.RREC) { var _ = s.x, x = s.y, b = s.width, T = s.height, w = s.radius, S = Math.min(b, T) / 2 | 0; w = w > S ? S : w, e.moveTo(_, x + w), e.lineTo(_, x + T - w), e.quadraticCurveTo(_, x + T, _ + w, x + T), e.lineTo(_ + b - w, x + T), e.quadraticCurveTo(_ + b, x + T, _ + b, x + T - w), e.lineTo(_ + b, x + w), e.quadraticCurveTo(_ + b, x, _ + b - w, x), e.lineTo(_ + w, x), e.quadraticCurveTo(_, x, _, x + w), e.closePath() } } } }, t.prototype.popMask = function (t) { t.context.restore() }, t.prototype.destroy = function () { }, t }(); r.default = i }, { "../../../const": 45 }], 78: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = t("../../../settings"), s = (n = o) && n.__esModule ? n : { default: n }; var a = function () { function t(e, r, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.resolution = n || s.default.RESOLUTION, this.resize(e, r) } return t.prototype.clear = function () { this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height) }, t.prototype.resize = function (t, e) { this.canvas.width = t * this.resolution, this.canvas.height = e * this.resolution }, t.prototype.destroy = function () { this.context = null, this.canvas = null }, i(t, [{ key: "width", get: function () { return this.canvas.width }, set: function (t) { this.canvas.width = t } }, { key: "height", get: function () { return this.canvas.height }, set: function (t) { this.canvas.height = t } }]), t }(); r.default = a }, { "../../../settings": 100 }], 79: [function (t, e, r) { "use strict"; function n(t) { var e = document.createElement("canvas"); e.width = 6, e.height = 1; var r = e.getContext("2d"); return r.fillStyle = t, r.fillRect(0, 0, 6, 1), e } r.__esModule = !0, r.default = function () { if ("undefined" == typeof document) return !1; var t = n("#ff00ff"), e = n("#ffff00"), r = document.createElement("canvas"); r.width = 6, r.height = 1; var i = r.getContext("2d"); i.globalCompositeOperation = "multiply", i.drawImage(t, 0, 0), i.drawImage(e, 2, 0); var o = i.getImageData(2, 0, 1, 1); if (!o) return !1; var s = o.data; return 255 === s[0] && 0 === s[1] && 0 === s[2] } }, {}], 80: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; (0, s.default)() ? (t[i.BLEND_MODES.NORMAL] = "source-over", t[i.BLEND_MODES.ADD] = "lighter", t[i.BLEND_MODES.MULTIPLY] = "multiply", t[i.BLEND_MODES.SCREEN] = "screen", t[i.BLEND_MODES.OVERLAY] = "overlay", t[i.BLEND_MODES.DARKEN] = "darken", t[i.BLEND_MODES.LIGHTEN] = "lighten", t[i.BLEND_MODES.COLOR_DODGE] = "color-dodge", t[i.BLEND_MODES.COLOR_BURN] = "color-burn", t[i.BLEND_MODES.HARD_LIGHT] = "hard-light", t[i.BLEND_MODES.SOFT_LIGHT] = "soft-light", t[i.BLEND_MODES.DIFFERENCE] = "difference", t[i.BLEND_MODES.EXCLUSION] = "exclusion", t[i.BLEND_MODES.HUE] = "hue", t[i.BLEND_MODES.SATURATION] = "saturate", t[i.BLEND_MODES.COLOR] = "color", t[i.BLEND_MODES.LUMINOSITY] = "luminosity") : (t[i.BLEND_MODES.NORMAL] = "source-over", t[i.BLEND_MODES.ADD] = "lighter", t[i.BLEND_MODES.MULTIPLY] = "source-over", t[i.BLEND_MODES.SCREEN] = "source-over", t[i.BLEND_MODES.OVERLAY] = "source-over", t[i.BLEND_MODES.DARKEN] = "source-over", t[i.BLEND_MODES.LIGHTEN] = "source-over", t[i.BLEND_MODES.COLOR_DODGE] = "source-over", t[i.BLEND_MODES.COLOR_BURN] = "source-over", t[i.BLEND_MODES.HARD_LIGHT] = "source-over", t[i.BLEND_MODES.SOFT_LIGHT] = "source-over", t[i.BLEND_MODES.DIFFERENCE] = "source-over", t[i.BLEND_MODES.EXCLUSION] = "source-over", t[i.BLEND_MODES.HUE] = "source-over", t[i.BLEND_MODES.SATURATION] = "source-over", t[i.BLEND_MODES.COLOR] = "source-over", t[i.BLEND_MODES.LUMINOSITY] = "source-over"); return t }; var n, i = t("../../../const"), o = t("./canUseNewCanvasBlendModes"), s = (n = o) && n.__esModule ? n : { default: n } }, { "../../../const": 45, "./canUseNewCanvasBlendModes": 79 }], 81: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../../const"), o = t("../../settings"), s = (n = o) && n.__esModule ? n : { default: n }; var a = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e, this.count = 0, this.checkCount = 0, this.maxIdle = s.default.GC_MAX_IDLE, this.checkCountMax = s.default.GC_MAX_CHECK_COUNT, this.mode = s.default.GC_MODE } return t.prototype.update = function () { this.count++, this.mode !== i.GC_MODES.MANUAL && (this.checkCount++, this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run())) }, t.prototype.run = function () { for (var t = this.renderer.textureManager, e = t._managedTextures, r = !1, n = 0; n < e.length; n++) { var i = e[n]; !i._glRenderTargets && this.count - i.touched > this.maxIdle && (t.destroyTexture(i, !0), e[n] = null, r = !0) } if (r) { for (var o = 0, s = 0; s < e.length; s++)null !== e[s] && (e[o++] = e[s]); e.length = o } }, t.prototype.unload = function (t) { var e = this.renderer.textureManager; t._texture && t._texture._glRenderTargets && e.destroyTexture(t._texture, !0); for (var r = t.children.length - 1; r >= 0; r--)this.unload(t.children[r]) }, t }(); r.default = a }, { "../../const": 45, "../../settings": 100 }], 82: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("pixi-gl-core"), o = t("../../const"), s = t("./utils/RenderTarget"), a = (n = s) && n.__esModule ? n : { default: n }, u = t("../../utils"); var l = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e, this.gl = e.gl, this._managedTextures = [] } return t.prototype.bindTexture = function () { }, t.prototype.getTexture = function () { }, t.prototype.updateTexture = function (t, e) { var r = this.gl, n = !!t._glRenderTargets; if (!t.hasLoaded) return null; var s = this.renderer.boundTextures; if (void 0 === e) { e = 0; for (var u = 0; u < s.length; ++u)if (s[u] === t) { e = u; break } } s[e] = t, r.activeTexture(r.TEXTURE0 + e); var l = t._glTextures[this.renderer.CONTEXT_UID]; if (l) n ? t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width, t.height) : l.upload(t.source); else { if (n) { var h = new a.default(this.gl, t.width, t.height, t.scaleMode, t.resolution); h.resize(t.width, t.height), t._glRenderTargets[this.renderer.CONTEXT_UID] = h, l = h.texture } else (l = new i.GLTexture(this.gl, null, null, null, null)).bind(e), l.premultiplyAlpha = !0, l.upload(t.source); t._glTextures[this.renderer.CONTEXT_UID] = l, t.on("update", this.updateTexture, this), t.on("dispose", this.destroyTexture, this), this._managedTextures.push(t), t.isPowerOfTwo ? (t.mipmap && l.enableMipmap(), t.wrapMode === o.WRAP_MODES.CLAMP ? l.enableWrapClamp() : t.wrapMode === o.WRAP_MODES.REPEAT ? l.enableWrapRepeat() : l.enableWrapMirrorRepeat()) : l.enableWrapClamp(), t.scaleMode === o.SCALE_MODES.NEAREST ? l.enableNearestScaling() : l.enableLinearScaling() } return l }, t.prototype.destroyTexture = function (t, e) { if ((t = t.baseTexture || t).hasLoaded && t._glTextures[this.renderer.CONTEXT_UID] && (this.renderer.unbindTexture(t), t._glTextures[this.renderer.CONTEXT_UID].destroy(), t.off("update", this.updateTexture, this), t.off("dispose", this.destroyTexture, this), delete t._glTextures[this.renderer.CONTEXT_UID], !e)) { var r = this._managedTextures.indexOf(t); -1 !== r && (0, u.removeItems)(this._managedTextures, r, 1) } }, t.prototype.removeAll = function () { for (var t = 0; t < this._managedTextures.length; ++t) { var e = this._managedTextures[t]; e._glTextures[this.renderer.CONTEXT_UID] && delete e._glTextures[this.renderer.CONTEXT_UID] } }, t.prototype.destroy = function () { for (var t = 0; t < this._managedTextures.length; ++t) { var e = this._managedTextures[t]; this.destroyTexture(e, !0), e.off("update", this.updateTexture, this), e.off("dispose", this.destroyTexture, this) } this._managedTextures = null }, t }(); r.default = l }, { "../../const": 45, "../../utils": 123, "./utils/RenderTarget": 95, "pixi-gl-core": 12 }], 83: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = y(t("../SystemRenderer")), i = y(t("./managers/MaskManager")), o = y(t("./managers/StencilManager")), s = y(t("./managers/FilterManager")), a = y(t("./utils/RenderTarget")), u = y(t("./utils/ObjectRenderer")), l = y(t("./TextureManager")), h = y(t("../../textures/BaseTexture")), c = y(t("./TextureGarbageCollector")), f = y(t("./WebGLState")), d = y(t("./utils/mapWebGLDrawModesToPixi")), p = y(t("./utils/validateContext")), g = t("../../utils"), m = y(t("pixi-gl-core")), v = t("../../const"); function y(t) { return t && t.__esModule ? t : { default: t } } var _ = 0, x = function (t) { function e(r, n, a) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var l = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, "WebGL", r, n, a)); return l.legacy = l.options.legacy, l.legacy && (m.default.VertexArrayObject.FORCE_NATIVE = !0), l.type = v.RENDERER_TYPE.WEBGL, l.handleContextLost = l.handleContextLost.bind(l), l.handleContextRestored = l.handleContextRestored.bind(l), l.view.addEventListener("webglcontextlost", l.handleContextLost, !1), l.view.addEventListener("webglcontextrestored", l.handleContextRestored, !1), l._contextOptions = { alpha: l.transparent, antialias: l.options.antialias, premultipliedAlpha: l.transparent && "notMultiplied" !== l.transparent, stencil: !0, preserveDrawingBuffer: l.options.preserveDrawingBuffer }, l._backgroundColorRgba[3] = l.transparent ? 0 : 1, l.maskManager = new i.default(l), l.stencilManager = new o.default(l), l.emptyRenderer = new u.default(l), l.currentRenderer = l.emptyRenderer, l.initPlugins(), l.options.context && (0, p.default)(l.options.context), l.gl = l.options.context || m.default.createContext(l.view, l._contextOptions), l.CONTEXT_UID = _++, l.state = new f.default(l.gl), l.renderingToScreen = !0, l.boundTextures = null, l._activeShader = null, l._activeVao = null, l._activeRenderTarget = null, l._initContext(), l.filterManager = new s.default(l), l.drawModes = (0, d.default)(l.gl), l._nextTextureLocation = 0, l.setBlendMode(0), l } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype._initContext = function () { var t = this.gl; t.isContextLost() && t.getExtension("WEBGL_lose_context") && t.getExtension("WEBGL_lose_context").restoreContext(); var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS); this.boundTextures = new Array(e), this.emptyTextures = new Array(e), this.textureManager = new l.default(this), this.textureGC = new c.default(this), this.state.resetToDefault(), this.rootRenderTarget = new a.default(t, this.width, this.height, null, this.resolution, !0), this.rootRenderTarget.clearColor = this._backgroundColorRgba, this.bindRenderTarget(this.rootRenderTarget); var r = new m.default.GLTexture.fromData(t, null, 1, 1), n = { _glTextures: {} }; n._glTextures[this.CONTEXT_UID] = {}; for (var i = 0; i < e; i++) { var o = new h.default; o._glTextures[this.CONTEXT_UID] = r, this.boundTextures[i] = n, this.emptyTextures[i] = o, this.bindTexture(null, i) } this.emit("context", t), this.resize(this.screen.width, this.screen.height) }, e.prototype.render = function (t, e, r, n, i) { if (this.renderingToScreen = !e, this.emit("prerender"), this.gl && !this.gl.isContextLost()) { if (this._nextTextureLocation = 0, e || (this._lastObjectRendered = t), !i) { var o = t.parent; t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = o } this.bindRenderTexture(e, n), this.currentRenderer.start(), (void 0 !== r ? r : this.clearBeforeRender) && this._activeRenderTarget.clear(), t.renderWebGL(this), this.currentRenderer.flush(), this.textureGC.update(), this.emit("postrender") } }, e.prototype.setObjectRenderer = function (t) { this.currentRenderer !== t && (this.currentRenderer.stop(), this.currentRenderer = t, this.currentRenderer.start()) }, e.prototype.flush = function () { this.setObjectRenderer(this.emptyRenderer) }, e.prototype.resize = function (t, e) { n.default.prototype.resize.call(this, t, e), this.rootRenderTarget.resize(t, e), this._activeRenderTarget === this.rootRenderTarget && (this.rootRenderTarget.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(!0))) }, e.prototype.setBlendMode = function (t) { this.state.setBlendMode(t) }, e.prototype.clear = function (t) { this._activeRenderTarget.clear(t) }, e.prototype.setTransform = function (t) { this._activeRenderTarget.transform = t }, e.prototype.clearRenderTexture = function (t, e) { var r = t.baseTexture._glRenderTargets[this.CONTEXT_UID]; return r && r.clear(e), this }, e.prototype.bindRenderTexture = function (t, e) { var r = void 0; if (t) { var n = t.baseTexture; n._glRenderTargets[this.CONTEXT_UID] || this.textureManager.updateTexture(n, 0), this.unbindTexture(n), (r = n._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame) } else r = this.rootRenderTarget; return r.transform = e, this.bindRenderTarget(r), this }, e.prototype.bindRenderTarget = function (t) { return t !== this._activeRenderTarget && (this._activeRenderTarget = t, t.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = t.projectionMatrix.toArray(!0)), this.stencilManager.setMaskStack(t.stencilMaskStack)), this }, e.prototype.bindShader = function (t, e) { return this._activeShader !== t && (this._activeShader = t, t.bind(), !1 !== e && (t.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(!0))), this }, e.prototype.bindTexture = function (t, e, r) { if ((t = (t = t || this.emptyTextures[e]).baseTexture || t).touched = this.textureGC.count, r) e = e || 0; else { for (var n = 0; n < this.boundTextures.length; n++)if (this.boundTextures[n] === t) return n; void 0 === e && (this._nextTextureLocation++, this._nextTextureLocation %= this.boundTextures.length, e = this.boundTextures.length - this._nextTextureLocation - 1) } var i = this.gl, o = t._glTextures[this.CONTEXT_UID]; return o ? (this.boundTextures[e] = t, i.activeTexture(i.TEXTURE0 + e), i.bindTexture(i.TEXTURE_2D, o.texture)) : this.textureManager.updateTexture(t, e), e }, e.prototype.unbindTexture = function (t) { var e = this.gl; t = t.baseTexture || t; for (var r = 0; r < this.boundTextures.length; r++)this.boundTextures[r] === t && (this.boundTextures[r] = this.emptyTextures[r], e.activeTexture(e.TEXTURE0 + r), e.bindTexture(e.TEXTURE_2D, this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture)); return this }, e.prototype.createVao = function () { return new m.default.VertexArrayObject(this.gl, this.state.attribState) }, e.prototype.bindVao = function (t) { return this._activeVao === t ? this : (t ? t.bind() : this._activeVao && this._activeVao.unbind(), this._activeVao = t, this) }, e.prototype.reset = function () { return this.setObjectRenderer(this.emptyRenderer), this._activeShader = null, this._activeRenderTarget = this.rootRenderTarget, this.rootRenderTarget.activate(), this.state.resetToDefault(), this }, e.prototype.handleContextLost = function (t) { t.preventDefault() }, e.prototype.handleContextRestored = function () { this._initContext(), this.textureManager.removeAll() }, e.prototype.destroy = function (e) { this.destroyPlugins(), this.view.removeEventListener("webglcontextlost", this.handleContextLost), this.view.removeEventListener("webglcontextrestored", this.handleContextRestored), this.textureManager.destroy(), t.prototype.destroy.call(this, e), this.uid = 0, this.maskManager.destroy(), this.stencilManager.destroy(), this.filterManager.destroy(), this.maskManager = null, this.filterManager = null, this.textureManager = null, this.currentRenderer = null, this.handleContextLost = null, this.handleContextRestored = null, this._contextOptions = null, this.gl.useProgram(null), this.gl.getExtension("WEBGL_lose_context") && this.gl.getExtension("WEBGL_lose_context").loseContext(), this.gl = null }, e }(n.default); r.default = x, g.pluginTarget.mixin(x) }, { "../../const": 45, "../../textures/BaseTexture": 111, "../../utils": 123, "../SystemRenderer": 75, "./TextureGarbageCollector": 81, "./TextureManager": 82, "./WebGLState": 84, "./managers/FilterManager": 89, "./managers/MaskManager": 90, "./managers/StencilManager": 91, "./utils/ObjectRenderer": 93, "./utils/RenderTarget": 95, "./utils/mapWebGLDrawModesToPixi": 98, "./utils/validateContext": 99, "pixi-gl-core": 12 }], 84: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("./utils/mapWebGLBlendModesToPixi"), o = (n = i) && n.__esModule ? n : { default: n }; var s = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.activeState = new Uint8Array(16), this.defaultState = new Uint8Array(16), this.defaultState[0] = 1, this.stackIndex = 0, this.stack = [], this.gl = e, this.maxAttribs = e.getParameter(e.MAX_VERTEX_ATTRIBS), this.attribState = { tempAttribState: new Array(this.maxAttribs), attribState: new Array(this.maxAttribs) }, this.blendModes = (0, o.default)(e), this.nativeVaoExtension = e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object") } return t.prototype.push = function () { var t = this.stack[this.stackIndex]; t || (t = this.stack[this.stackIndex] = new Uint8Array(16)), ++this.stackIndex; for (var e = 0; e < this.activeState.length; e++)t[e] = this.activeState[e] }, t.prototype.pop = function () { var t = this.stack[--this.stackIndex]; this.setState(t) }, t.prototype.setState = function (t) { this.setBlend(t[0]), this.setDepthTest(t[1]), this.setFrontFace(t[2]), this.setCullFace(t[3]), this.setBlendMode(t[4]) }, t.prototype.setBlend = function (t) { t = t ? 1 : 0, this.activeState[0] !== t && (this.activeState[0] = t, this.gl[t ? "enable" : "disable"](this.gl.BLEND)) }, t.prototype.setBlendMode = function (t) { t !== this.activeState[4] && (this.activeState[4] = t, this.gl.blendFunc(this.blendModes[t][0], this.blendModes[t][1])) }, t.prototype.setDepthTest = function (t) { t = t ? 1 : 0, this.activeState[1] !== t && (this.activeState[1] = t, this.gl[t ? "enable" : "disable"](this.gl.DEPTH_TEST)) }, t.prototype.setCullFace = function (t) { t = t ? 1 : 0, this.activeState[3] !== t && (this.activeState[3] = t, this.gl[t ? "enable" : "disable"](this.gl.CULL_FACE)) }, t.prototype.setFrontFace = function (t) { t = t ? 1 : 0, this.activeState[2] !== t && (this.activeState[2] = t, this.gl.frontFace(this.gl[t ? "CW" : "CCW"])) }, t.prototype.resetAttributes = function () { for (var t = 0; t < this.attribState.tempAttribState.length; t++)this.attribState.tempAttribState[t] = 0; for (var e = 0; e < this.attribState.attribState.length; e++)this.attribState.attribState[e] = 0; for (var r = 1; r < this.maxAttribs; r++)this.gl.disableVertexAttribArray(r) }, t.prototype.resetToDefault = function () { this.nativeVaoExtension && this.nativeVaoExtension.bindVertexArrayOES(null), this.resetAttributes(); for (var t = 0; t < this.activeState.length; ++t)this.activeState[t] = 32; this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.setState(this.defaultState) }, t }(); r.default = s }, { "./utils/mapWebGLBlendModesToPixi": 97 }], 85: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = u(t("./extractUniformsFromSrc")), o = t("../../../utils"), s = t("../../../const"), a = u(t("../../../settings")); function u(t) { return t && t.__esModule ? t : { default: t } } var l = {}, h = function () { function t(e, r, n) { for (var u in function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.vertexSrc = e || t.defaultVertexSrc, this.fragmentSrc = r || t.defaultFragmentSrc, this.blendMode = s.BLEND_MODES.NORMAL, this.uniformData = n || (0, i.default)(this.vertexSrc, this.fragmentSrc, "projectionMatrix|uSampler"), this.uniforms = {}, this.uniformData) this.uniforms[u] = this.uniformData[u].value; this.glShaders = {}, l[this.vertexSrc + this.fragmentSrc] || (l[this.vertexSrc + this.fragmentSrc] = (0, o.uid)()), this.glShaderKey = l[this.vertexSrc + this.fragmentSrc], this.padding = 4, this.resolution = a.default.RESOLUTION, this.enabled = !0, this.autoFit = !0 } return t.prototype.apply = function (t, e, r, n, i) { t.applyFilter(this, e, r, n) }, n(t, null, [{ key: "defaultVertexSrc", get: function () { return ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 projectionMatrix;", "uniform mat3 filterMatrix;", "varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;", "   vTextureCoord = aTextureCoord ;", "}"].join("\n") } }, { key: "defaultFragmentSrc", get: function () { return ["varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "uniform sampler2D uSampler;", "uniform sampler2D filterSampler;", "void main(void){", "   vec4 masky = texture2D(filterSampler, vFilterCoord);", "   vec4 sample = texture2D(uSampler, vTextureCoord);", "   vec4 color;", "   if(mod(vFilterCoord.x, 1.0) > 0.5)", "   {", "     color = vec4(1.0, 0.0, 0.0, 1.0);", "   }", "   else", "   {", "     color = vec4(0.0, 1.0, 0.0, 1.0);", "   }", "   gl_FragColor = mix(sample, masky, 0.5);", "   gl_FragColor *= sample.a;", "}"].join("\n") } }]), t }(); r.default = h }, { "../../../const": 45, "../../../settings": 100, "../../../utils": 123, "./extractUniformsFromSrc": 86 }], 86: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e, r) { var n = s(t), i = s(e); return Object.assign(n, i) }; var n, i = t("pixi-gl-core"); var o = ((n = i) && n.__esModule ? n : { default: n }).default.shader.defaultValue; function s(t) { for (var e = new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"), r = {}, n = void 0, i = t.replace(/\s+/g, " ").split(/\s*;\s*/), s = 0; s < i.length; s++) { var a = i[s].trim(); if (a.indexOf("uniform") > -1) { var u = a.split(" "), l = u[1], h = u[2], c = 1; h.indexOf("[") > -1 && (n = h.split(/\[|]/), h = n[0], c *= Number(n[1])), h.match(e) || (r[h] = { value: o(l, c), name: h, type: l }) } } return r } }, { "pixi-gl-core": 12 }], 87: [function (t, e, r) { "use strict"; r.__esModule = !0, r.calculateScreenSpaceMatrix = function (t, e, r) { var n = t.identity(); return n.translate(e.x / r.width, e.y / r.height), n.scale(r.width, r.height), n }, r.calculateNormalizedScreenSpaceMatrix = function (t, e, r) { var n = t.identity(); n.translate(e.x / r.width, e.y / r.height); var i = r.width / e.width, o = r.height / e.height; return n.scale(i, o), n }, r.calculateSpriteMatrix = function (t, e, r, i) { var o = i.worldTransform.copy(n.Matrix.TEMP_MATRIX), s = i._texture.baseTexture, a = t.identity(), u = r.height / r.width; a.translate(e.x / r.width, e.y / r.height), a.scale(1, u); var l = r.width / s.width, h = r.height / s.height; return o.tx /= s.width * l, o.ty /= s.width * l, o.invert(), a.prepend(o), a.scale(1, 1 / u), a.scale(l, h), a.translate(i.anchor.x, i.anchor.y), a }; var n = t("../../../math") }, { "../../../math": 69 }], 88: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../Filter"), o = (n = i) && n.__esModule ? n : { default: n }, s = t("../../../../math"); t("path"); var a = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = new s.Matrix, i = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n")); return r.renderable = !1, i.maskSprite = r, i.maskMatrix = n, i } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.apply = function (t, e, r) { var n = this.maskSprite; this.uniforms.mask = n._texture, this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, n), this.uniforms.alpha = n.worldAlpha, t.applyFilter(this, e, r) }, e }(o.default); r.default = a }, { "../../../../math": 69, "../Filter": 85, path: 23 }], 89: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = h(t("./WebGLManager")), i = h(t("../utils/RenderTarget")), o = h(t("../utils/Quad")), s = t("../../../math"), a = h(t("../../../Shader")), u = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../filters/filterTransforms")), l = h(t("bit-twiddle")); function h(t) { return t && t.__esModule ? t : { default: t } } function c(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } var f = function t() { c(this, t), this.renderTarget = null, this.sourceFrame = new s.Rectangle, this.destinationFrame = new s.Rectangle, this.filters = [], this.target = null, this.resolution = 1 }, d = function (t) { function e(r) { c(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return n.gl = n.renderer.gl, n.quad = new o.default(n.gl, r.state.attribState), n.shaderCache = {}, n.pool = {}, n.filterData = null, n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.pushFilter = function (t, e) { var r = this.renderer, n = this.filterData; if (!n) { n = this.renderer._activeRenderTarget.filterStack; var i = new f; i.sourceFrame = i.destinationFrame = this.renderer._activeRenderTarget.size, i.renderTarget = r._activeRenderTarget, this.renderer._activeRenderTarget.filterData = n = { index: 0, stack: [i] }, this.filterData = n } var o = n.stack[++n.index]; o || (o = n.stack[n.index] = new f); var s = e[0].resolution, a = 0 | e[0].padding, u = t.filterArea || t.getBounds(!0), l = o.sourceFrame, h = o.destinationFrame; l.x = (u.x * s | 0) / s, l.y = (u.y * s | 0) / s, l.width = (u.width * s | 0) / s, l.height = (u.height * s | 0) / s, n.stack[0].renderTarget.transform || e[0].autoFit && l.fit(n.stack[0].destinationFrame), l.pad(a), h.width = l.width, h.height = l.height; var c = this.getPotRenderTarget(r.gl, l.width, l.height, s); o.target = t, o.filters = e, o.resolution = s, o.renderTarget = c, c.setFrame(h, l), r.bindRenderTarget(c), c.clear() }, e.prototype.popFilter = function () { var t = this.filterData, e = t.stack[t.index - 1], r = t.stack[t.index]; this.quad.map(r.renderTarget.size, r.sourceFrame).upload(); var n = r.filters; if (1 === n.length) n[0].apply(this, r.renderTarget, e.renderTarget, !1, r), this.freePotRenderTarget(r.renderTarget); else { var i = r.renderTarget, o = this.getPotRenderTarget(this.renderer.gl, r.sourceFrame.width, r.sourceFrame.height, r.resolution); o.setFrame(r.destinationFrame, r.sourceFrame), o.clear(); var s = 0; for (s = 0; s < n.length - 1; ++s) { n[s].apply(this, i, o, !0, r); var a = i; i = o, o = a } n[s].apply(this, i, e.renderTarget, !1, r), this.freePotRenderTarget(i), this.freePotRenderTarget(o) } t.index--, 0 === t.index && (this.filterData = null) }, e.prototype.applyFilter = function (t, e, r, n) { var i = this.renderer, o = i.gl, s = t.glShaders[i.CONTEXT_UID]; s || (t.glShaderKey ? (s = this.shaderCache[t.glShaderKey]) || (s = new a.default(this.gl, t.vertexSrc, t.fragmentSrc), t.glShaders[i.CONTEXT_UID] = this.shaderCache[t.glShaderKey] = s) : s = t.glShaders[i.CONTEXT_UID] = new a.default(this.gl, t.vertexSrc, t.fragmentSrc), i.bindVao(null), this.quad.initVao(s)), i.bindVao(this.quad.vao), i.bindRenderTarget(r), n && (o.disable(o.SCISSOR_TEST), i.clear(), o.enable(o.SCISSOR_TEST)), r === i.maskManager.scissorRenderTarget && i.maskManager.pushScissorMask(null, i.maskManager.scissorData), i.bindShader(s); var u = this.renderer.emptyTextures[0]; this.renderer.boundTextures[0] = u, this.syncUniforms(s, t), i.state.setBlendMode(t.blendMode), o.activeTexture(o.TEXTURE0), o.bindTexture(o.TEXTURE_2D, e.texture.texture), this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0), o.bindTexture(o.TEXTURE_2D, u._glTextures[this.renderer.CONTEXT_UID].texture) }, e.prototype.syncUniforms = function (t, e) { var r = e.uniformData, n = e.uniforms, i = 1, o = void 0; if (t.uniforms.filterArea) { o = this.filterData.stack[this.filterData.index]; var s = t.uniforms.filterArea; s[0] = o.renderTarget.size.width, s[1] = o.renderTarget.size.height, s[2] = o.sourceFrame.x, s[3] = o.sourceFrame.y, t.uniforms.filterArea = s } if (t.uniforms.filterClamp) { o = o || this.filterData.stack[this.filterData.index]; var a = t.uniforms.filterClamp; a[0] = 0, a[1] = 0, a[2] = (o.sourceFrame.width - 1) / o.renderTarget.size.width, a[3] = (o.sourceFrame.height - 1) / o.renderTarget.size.height, t.uniforms.filterClamp = a } for (var u in r) if ("sampler2D" === r[u].type && 0 !== n[u]) { if (n[u].baseTexture) t.uniforms[u] = this.renderer.bindTexture(n[u].baseTexture, i); else { t.uniforms[u] = i; var l = this.renderer.gl; this.renderer.boundTextures[i] = this.renderer.emptyTextures[i], l.activeTexture(l.TEXTURE0 + i), n[u].texture.bind() } i++ } else if ("mat3" === r[u].type) void 0 !== n[u].a ? t.uniforms[u] = n[u].toArray(!0) : t.uniforms[u] = n[u]; else if ("vec2" === r[u].type) if (void 0 !== n[u].x) { var h = t.uniforms[u] || new Float32Array(2); h[0] = n[u].x, h[1] = n[u].y, t.uniforms[u] = h } else t.uniforms[u] = n[u]; else "float" === r[u].type ? t.uniforms.data[u].value !== r[u] && (t.uniforms[u] = n[u]) : t.uniforms[u] = n[u] }, e.prototype.getRenderTarget = function (t, e) { var r = this.filterData.stack[this.filterData.index], n = this.getPotRenderTarget(this.renderer.gl, r.sourceFrame.width, r.sourceFrame.height, e || r.resolution); return n.setFrame(r.destinationFrame, r.sourceFrame), n }, e.prototype.returnRenderTarget = function (t) { this.freePotRenderTarget(t) }, e.prototype.calculateScreenSpaceMatrix = function (t) { var e = this.filterData.stack[this.filterData.index]; return u.calculateScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size) }, e.prototype.calculateNormalizedScreenSpaceMatrix = function (t) { var e = this.filterData.stack[this.filterData.index]; return u.calculateNormalizedScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size, e.destinationFrame) }, e.prototype.calculateSpriteMatrix = function (t, e) { var r = this.filterData.stack[this.filterData.index]; return u.calculateSpriteMatrix(t, r.sourceFrame, r.renderTarget.size, e) }, e.prototype.destroy = function () { this.shaderCache = {}, this.emptyPool() }, e.prototype.getPotRenderTarget = function (t, e, r, n) { var o = (65535 & (e = l.default.nextPow2(e * n))) << 16 | 65535 & (r = l.default.nextPow2(r * n)); this.pool[o] || (this.pool[o] = []); var s = this.pool[o].pop(); if (!s) { var a = this.renderer.boundTextures[0]; t.activeTexture(t.TEXTURE0), s = new i.default(t, e, r, null, 1), t.bindTexture(t.TEXTURE_2D, a._glTextures[this.renderer.CONTEXT_UID].texture) } return s.resolution = n, s.defaultFrame.width = s.size.width = e / n, s.defaultFrame.height = s.size.height = r / n, s }, e.prototype.emptyPool = function () { for (var t in this.pool) { var e = this.pool[t]; if (e) for (var r = 0; r < e.length; r++)e[r].destroy(!0) } this.pool = {} }, e.prototype.freePotRenderTarget = function (t) { var e = (65535 & t.size.width * t.resolution) << 16 | 65535 & t.size.height * t.resolution; this.pool[e].push(t) }, e }(n.default); r.default = d }, { "../../../Shader": 43, "../../../math": 69, "../filters/filterTransforms": 87, "../utils/Quad": 94, "../utils/RenderTarget": 95, "./WebGLManager": 92, "bit-twiddle": 1 }], 90: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = o(t("./WebGLManager")), i = o(t("../filters/spriteMask/SpriteMaskFilter")); function o(t) { return t && t.__esModule ? t : { default: t } } var s = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return n.scissor = !1, n.scissorData = null, n.scissorRenderTarget = null, n.enableScissor = !0, n.alphaMaskPool = [], n.alphaMaskIndex = 0, n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.pushMask = function (t, e) { if (e.texture) this.pushSpriteMask(t, e); else if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && e.isFastRect()) { var r = e.worldTransform, n = Math.atan2(r.b, r.a); (n = Math.round(n * (180 / Math.PI))) % 90 ? this.pushStencilMask(e) : this.pushScissorMask(t, e) } else this.pushStencilMask(e) }, e.prototype.popMask = function (t, e) { e.texture ? this.popSpriteMask(t, e) : this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length ? this.popScissorMask(t, e) : this.popStencilMask(t, e) }, e.prototype.pushSpriteMask = function (t, e) { var r = this.alphaMaskPool[this.alphaMaskIndex]; r || (r = this.alphaMaskPool[this.alphaMaskIndex] = [new i.default(e)]), r[0].resolution = this.renderer.resolution, r[0].maskSprite = e, t.filterArea = e.getBounds(!0), this.renderer.filterManager.pushFilter(t, r), this.alphaMaskIndex++ }, e.prototype.popSpriteMask = function () { this.renderer.filterManager.popFilter(), this.alphaMaskIndex-- }, e.prototype.pushStencilMask = function (t) { this.renderer.currentRenderer.stop(), this.renderer.stencilManager.pushStencil(t) }, e.prototype.popStencilMask = function () { this.renderer.currentRenderer.stop(), this.renderer.stencilManager.popStencil() }, e.prototype.pushScissorMask = function (t, e) { e.renderable = !0; var r = this.renderer._activeRenderTarget, n = e.getBounds(); n.fit(r.size), e.renderable = !1, this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST); var i = this.renderer.resolution; this.renderer.gl.scissor(n.x * i, (r.root ? r.size.height - n.y - n.height : n.y) * i, n.width * i, n.height * i), this.scissorRenderTarget = r, this.scissorData = e, this.scissor = !0 }, e.prototype.popScissorMask = function () { this.scissorRenderTarget = null, this.scissorData = null, this.scissor = !1; var t = this.renderer.gl; t.disable(t.SCISSOR_TEST) }, e }(n.default); r.default = s }, { "../filters/spriteMask/SpriteMaskFilter": 88, "./WebGLManager": 92 }], 91: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("./WebGLManager"), o = (n = i) && n.__esModule ? n : { default: n }; var s = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return n.stencilMaskStack = null, n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.setMaskStack = function (t) { this.stencilMaskStack = t; var e = this.renderer.gl; 0 === t.length ? e.disable(e.STENCIL_TEST) : e.enable(e.STENCIL_TEST) }, e.prototype.pushStencil = function (t) { this.renderer.setObjectRenderer(this.renderer.plugins.graphics), this.renderer._activeRenderTarget.attachStencilBuffer(); var e = this.renderer.gl, r = this.stencilMaskStack; 0 === r.length && (e.enable(e.STENCIL_TEST), e.clear(e.STENCIL_BUFFER_BIT), e.stencilFunc(e.ALWAYS, 1, 1)), r.push(t), e.colorMask(!1, !1, !1, !1), e.stencilOp(e.KEEP, e.KEEP, e.INCR), this.renderer.plugins.graphics.render(t), e.colorMask(!0, !0, !0, !0), e.stencilFunc(e.NOTEQUAL, 0, r.length), e.stencilOp(e.KEEP, e.KEEP, e.KEEP) }, e.prototype.popStencil = function () { this.renderer.setObjectRenderer(this.renderer.plugins.graphics); var t = this.renderer.gl, e = this.stencilMaskStack, r = e.pop(); 0 === e.length ? t.disable(t.STENCIL_TEST) : (t.colorMask(!1, !1, !1, !1), t.stencilOp(t.KEEP, t.KEEP, t.DECR), this.renderer.plugins.graphics.render(r), t.colorMask(!0, !0, !0, !0), t.stencilFunc(t.NOTEQUAL, 0, e.length), t.stencilOp(t.KEEP, t.KEEP, t.KEEP)) }, e.prototype.destroy = function () { o.default.prototype.destroy.call(this), this.stencilMaskStack.stencilStack = null }, e }(o.default); r.default = s }, { "./WebGLManager": 92 }], 92: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e, this.renderer.on("context", this.onContextChange, this) } return t.prototype.onContextChange = function () { }, t.prototype.destroy = function () { this.renderer.off("context", this.onContextChange, this), this.renderer = null }, t }(); r.default = n }, {}], 93: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../managers/WebGLManager"); var o = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.apply(this, arguments)) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.start = function () { }, e.prototype.stop = function () { this.flush() }, e.prototype.flush = function () { }, e.prototype.render = function (t) { }, e }(((n = i) && n.__esModule ? n : { default: n }).default); r.default = o }, { "../managers/WebGLManager": 92 }], 94: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = o(t("pixi-gl-core")), i = o(t("../../../utils/createIndicesForQuads")); function o(t) { return t && t.__esModule ? t : { default: t } } var s = function () { function t(e, r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.gl = e, this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]), this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), this.interleaved = new Float32Array(16); for (var o = 0; o < 4; o++)this.interleaved[4 * o] = this.vertices[2 * o], this.interleaved[4 * o + 1] = this.vertices[2 * o + 1], this.interleaved[4 * o + 2] = this.uvs[2 * o], this.interleaved[4 * o + 3] = this.uvs[2 * o + 1]; this.indices = (0, i.default)(1), this.vertexBuffer = n.default.GLBuffer.createVertexBuffer(e, this.interleaved, e.STATIC_DRAW), this.indexBuffer = n.default.GLBuffer.createIndexBuffer(e, this.indices, e.STATIC_DRAW), this.vao = new n.default.VertexArrayObject(e, r) } return t.prototype.initVao = function (t) { this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer, t.attributes.aVertexPosition, this.gl.FLOAT, !1, 16, 0).addAttribute(this.vertexBuffer, t.attributes.aTextureCoord, this.gl.FLOAT, !1, 16, 8) }, t.prototype.map = function (t, e) { var r = 0, n = 0; return this.uvs[0] = r, this.uvs[1] = n, this.uvs[2] = r + e.width / t.width, this.uvs[3] = n, this.uvs[4] = r + e.width / t.width, this.uvs[5] = n + e.height / t.height, this.uvs[6] = r, this.uvs[7] = n + e.height / t.height, r = e.x, n = e.y, this.vertices[0] = r, this.vertices[1] = n, this.vertices[2] = r + e.width, this.vertices[3] = n, this.vertices[4] = r + e.width, this.vertices[5] = n + e.height, this.vertices[6] = r, this.vertices[7] = n + e.height, this }, t.prototype.upload = function () { for (var t = 0; t < 4; t++)this.interleaved[4 * t] = this.vertices[2 * t], this.interleaved[4 * t + 1] = this.vertices[2 * t + 1], this.interleaved[4 * t + 2] = this.uvs[2 * t], this.interleaved[4 * t + 3] = this.uvs[2 * t + 1]; return this.vertexBuffer.upload(this.interleaved), this }, t.prototype.destroy = function () { var t = this.gl; t.deleteBuffer(this.vertexBuffer), t.deleteBuffer(this.indexBuffer) }, t }(); r.default = s }, { "../../../utils/createIndicesForQuads": 121, "pixi-gl-core": 12 }], 95: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../../../math"), o = t("../../../const"), s = t("../../../settings"), a = (n = s) && n.__esModule ? n : { default: n }, u = t("pixi-gl-core"); var l = function () { function t(e, r, n, s, l, h) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.gl = e, this.frameBuffer = null, this.texture = null, this.clearColor = [0, 0, 0, 0], this.size = new i.Rectangle(0, 0, 1, 1), this.resolution = l || a.default.RESOLUTION, this.projectionMatrix = new i.Matrix, this.transform = null, this.frame = null, this.defaultFrame = new i.Rectangle, this.destinationFrame = null, this.sourceFrame = null, this.stencilBuffer = null, this.stencilMaskStack = [], this.filterData = null, this.scaleMode = void 0 !== s ? s : a.default.SCALE_MODE, this.root = h, this.root ? (this.frameBuffer = new u.GLFramebuffer(e, 100, 100), this.frameBuffer.framebuffer = null) : (this.frameBuffer = u.GLFramebuffer.createRGBA(e, 100, 100), this.scaleMode === o.SCALE_MODES.NEAREST ? this.frameBuffer.texture.enableNearestScaling() : this.frameBuffer.texture.enableLinearScaling(), this.texture = this.frameBuffer.texture), this.setFrame(), this.resize(r, n) } return t.prototype.clear = function (t) { var e = t || this.clearColor; this.frameBuffer.clear(e[0], e[1], e[2], e[3]) }, t.prototype.attachStencilBuffer = function () { this.root || this.frameBuffer.enableStencil() }, t.prototype.setFrame = function (t, e) { this.destinationFrame = t || this.destinationFrame || this.defaultFrame, this.sourceFrame = e || this.sourceFrame || t }, t.prototype.activate = function () { var t = this.gl; this.frameBuffer.bind(), this.calculateProjection(this.destinationFrame, this.sourceFrame), this.transform && this.projectionMatrix.append(this.transform), this.destinationFrame !== this.sourceFrame ? (t.enable(t.SCISSOR_TEST), t.scissor(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)) : t.disable(t.SCISSOR_TEST), t.viewport(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0) }, t.prototype.calculateProjection = function (t, e) { var r = this.projectionMatrix; e = e || t, r.identity(), this.root ? (r.a = 1 / t.width * 2, r.d = -1 / t.height * 2, r.tx = -1 - e.x * r.a, r.ty = 1 - e.y * r.d) : (r.a = 1 / t.width * 2, r.d = 1 / t.height * 2, r.tx = -1 - e.x * r.a, r.ty = -1 - e.y * r.d) }, t.prototype.resize = function (t, e) { if (t |= 0, e |= 0, this.size.width !== t || this.size.height !== e) { this.size.width = t, this.size.height = e, this.defaultFrame.width = t, this.defaultFrame.height = e, this.frameBuffer.resize(t * this.resolution, e * this.resolution); var r = this.frame || this.size; this.calculateProjection(r) } }, t.prototype.destroy = function () { this.frameBuffer.destroy(), this.frameBuffer = null, this.texture = null }, t }(); r.default = l }, { "../../../const": 45, "../../../math": 69, "../../../settings": 100, "pixi-gl-core": 12 }], 96: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e) { var r = !e; if (0 === t) throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`"); if (r) { var n = document.createElement("canvas"); n.width = 1, n.height = 1, e = o.default.createContext(n) } var i = e.createShader(e.FRAGMENT_SHADER); for (; ;) { var u = s.replace(/%forloop%/gi, a(t)); if (e.shaderSource(i, u), e.compileShader(i), e.getShaderParameter(i, e.COMPILE_STATUS)) break; t = t / 2 | 0 } r && e.getExtension("WEBGL_lose_context") && e.getExtension("WEBGL_lose_context").loseContext(); return t }; var n, i = t("pixi-gl-core"), o = (n = i) && n.__esModule ? n : { default: n }; var s = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n"); function a(t) { for (var e = "", r = 0; r < t; ++r)r > 0 && (e += "\nelse "), r < t - 1 && (e += "if(test == " + r + ".0){}"); return e } }, { "pixi-gl-core": 12 }], 97: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []; return e[n.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.ADD] = [t.ONE, t.DST_ALPHA], e[n.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR], e[n.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[n.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e }; var n = t("../../../const") }, { "../../../const": 45 }], 98: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return e[n.DRAW_MODES.POINTS] = t.POINTS, e[n.DRAW_MODES.LINES] = t.LINES, e[n.DRAW_MODES.LINE_LOOP] = t.LINE_LOOP, e[n.DRAW_MODES.LINE_STRIP] = t.LINE_STRIP, e[n.DRAW_MODES.TRIANGLES] = t.TRIANGLES, e[n.DRAW_MODES.TRIANGLE_STRIP] = t.TRIANGLE_STRIP, e[n.DRAW_MODES.TRIANGLE_FAN] = t.TRIANGLE_FAN, e }; var n = t("../../../const") }, { "../../../const": 45 }], 99: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { t.getContextAttributes().stencil || console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly") } }, {}], 100: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = o(t("./utils/maxRecommendedTextures")), i = o(t("./utils/canUploadSameBuffer")); function o(t) { return t && t.__esModule ? t : { default: t } } r.default = { TARGET_FPMS: .06, MIPMAP_TEXTURES: !0, RESOLUTION: 1, FILTER_RESOLUTION: 1, SPRITE_MAX_TEXTURES: (0, n.default)(32), SPRITE_BATCH_SIZE: 4096, RETINA_PREFIX: /@([0-9\.]+)x/, RENDER_OPTIONS: { view: null, antialias: !1, forceFXAA: !1, autoResize: !1, transparent: !1, backgroundColor: 0, clearBeforeRender: !0, preserveDrawingBuffer: !1, roundPixels: !1, width: 800, height: 600, legacy: !1 }, TRANSFORM_MODE: 0, GC_MODE: 0, GC_MAX_IDLE: 3600, GC_MAX_CHECK_COUNT: 600, WRAP_MODE: 0, SCALE_MODE: 0, PRECISION_VERTEX: "highp", PRECISION_FRAGMENT: "mediump", CAN_UPLOAD_SAME_BUFFER: (0, i.default)() } }, { "./utils/canUploadSameBuffer": 120, "./utils/maxRecommendedTextures": 124 }], 101: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = t("../math"), o = t("../utils"), s = t("../const"), a = l(t("../textures/Texture")), u = l(t("../display/Container")); function l(t) { return t && t.__esModule ? t : { default: t } } var h = new i.Point, c = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return n._anchor = new i.ObservablePoint(n._onAnchorUpdate, n), n._texture = null, n._width = 0, n._height = 0, n._tint = null, n._tintRGB = null, n.tint = 16777215, n.blendMode = s.BLEND_MODES.NORMAL, n.shader = null, n.cachedTint = 16777215, n.texture = r || a.default.EMPTY, n.vertexData = new Float32Array(8), n.vertexTrimmedData = null, n._transformID = -1, n._textureID = -1, n._transformTrimmedID = -1, n._textureTrimmedID = -1, n.pluginName = "sprite", n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype._onTextureUpdate = function () { this._textureID = -1, this._textureTrimmedID = -1, this._width && (this.scale.x = (0, o.sign)(this.scale.x) * this._width / this._texture.orig.width), this._height && (this.scale.y = (0, o.sign)(this.scale.y) * this._height / this._texture.orig.height) }, e.prototype._onAnchorUpdate = function () { this._transformID = -1, this._transformTrimmedID = -1 }, e.prototype.calculateVertices = function () { if (this._transformID !== this.transform._worldID || this._textureID !== this._texture._updateID) { this._transformID = this.transform._worldID, this._textureID = this._texture._updateID; var t = this._texture, e = this.transform.worldTransform, r = e.a, n = e.b, i = e.c, o = e.d, s = e.tx, a = e.ty, u = this.vertexData, l = t.trim, h = t.orig, c = this._anchor, f = 0, d = 0, p = 0, g = 0; l ? (f = (d = l.x - c._x * h.width) + l.width, p = (g = l.y - c._y * h.height) + l.height) : (f = (d = -c._x * h.width) + h.width, p = (g = -c._y * h.height) + h.height), u[0] = r * d + i * g + s, u[1] = o * g + n * d + a, u[2] = r * f + i * g + s, u[3] = o * g + n * f + a, u[4] = r * f + i * p + s, u[5] = o * p + n * f + a, u[6] = r * d + i * p + s, u[7] = o * p + n * d + a } }, e.prototype.calculateTrimmedVertices = function () { if (this.vertexTrimmedData) { if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) return } else this.vertexTrimmedData = new Float32Array(8); this._transformTrimmedID = this.transform._worldID, this._textureTrimmedID = this._texture._updateID; var t = this._texture, e = this.vertexTrimmedData, r = t.orig, n = this._anchor, i = this.transform.worldTransform, o = i.a, s = i.b, a = i.c, u = i.d, l = i.tx, h = i.ty, c = -n._x * r.width, f = c + r.width, d = -n._y * r.height, p = d + r.height; e[0] = o * c + a * d + l, e[1] = u * d + s * c + h, e[2] = o * f + a * d + l, e[3] = u * d + s * f + h, e[4] = o * f + a * p + l, e[5] = u * p + s * f + h, e[6] = o * c + a * p + l, e[7] = u * p + s * c + h }, e.prototype._renderWebGL = function (t) { this.calculateVertices(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this) }, e.prototype._renderCanvas = function (t) { t.plugins[this.pluginName].render(this) }, e.prototype._calculateBounds = function () { var t = this._texture.trim, e = this._texture.orig; !t || t.width === e.width && t.height === e.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData)) }, e.prototype.getLocalBounds = function (e) { return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._x), e || (this._localBoundsRect || (this._localBoundsRect = new i.Rectangle), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e) }, e.prototype.containsPoint = function (t) { this.worldTransform.applyInverse(t, h); var e = this._texture.orig.width, r = this._texture.orig.height, n = -e * this.anchor.x, i = 0; return h.x > n && h.x < n + e && (i = -r * this.anchor.y, h.y > i && h.y < i + r) }, e.prototype.destroy = function (e) { if (t.prototype.destroy.call(this, e), this._anchor = null, "boolean" == typeof e ? e : e && e.texture) { var r = "boolean" == typeof e ? e : e && e.baseTexture; this._texture.destroy(!!r) } this._texture = null, this.shader = null }, e.from = function (t) { return new e(a.default.from(t)) }, e.fromFrame = function (t) { var r = o.TextureCache[t]; if (!r) throw new Error('The frameId "' + t + '" does not exist in the texture cache'); return new e(r) }, e.fromImage = function (t, r, n) { return new e(a.default.fromImage(t, r, n)) }, n(e, [{ key: "width", get: function () { return Math.abs(this.scale.x) * this._texture.orig.width }, set: function (t) { var e = (0, o.sign)(this.scale.x) || 1; this.scale.x = e * t / this._texture.orig.width, this._width = t } }, { key: "height", get: function () { return Math.abs(this.scale.y) * this._texture.orig.height }, set: function (t) { var e = (0, o.sign)(this.scale.y) || 1; this.scale.y = e * t / this._texture.orig.height, this._height = t } }, { key: "anchor", get: function () { return this._anchor }, set: function (t) { this._anchor.copy(t) } }, { key: "tint", get: function () { return this._tint }, set: function (t) { this._tint = t, this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16) } }, { key: "texture", get: function () { return this._texture }, set: function (t) { this._texture !== t && (this._texture = t, this.cachedTint = 16777215, this._textureID = -1, this._textureTrimmedID = -1, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this))) } }]), e }(u.default); r.default = c }, { "../const": 45, "../display/Container": 47, "../math": 69, "../textures/Texture": 114, "../utils": 123 }], 102: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = a(t("../../renderers/canvas/CanvasRenderer")), i = t("../../const"), o = t("../../math"), s = a(t("./CanvasTinter")); function a(t) { return t && t.__esModule ? t : { default: t } } var u = new o.Matrix, l = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e } return t.prototype.render = function (t) { var e = t._texture, r = this.renderer, n = e._frame.width, a = e._frame.height, l = t.transform.worldTransform, h = 0, c = 0; if (!(e.orig.width <= 0 || e.orig.height <= 0) && e.baseTexture.source && (r.setBlendMode(t.blendMode), e.valid)) { r.context.globalAlpha = t.worldAlpha; var f = e.baseTexture.scaleMode === i.SCALE_MODES.LINEAR; r.smoothProperty && r.context[r.smoothProperty] !== f && (r.context[r.smoothProperty] = f), e.trim ? (h = e.trim.width / 2 + e.trim.x - t.anchor.x * e.orig.width, c = e.trim.height / 2 + e.trim.y - t.anchor.y * e.orig.height) : (h = (.5 - t.anchor.x) * e.orig.width, c = (.5 - t.anchor.y) * e.orig.height), e.rotate && (l.copy(u), l = u, o.GroupD8.matrixAppendRotationInv(l, e.rotate, h, c), h = 0, c = 0), h -= n / 2, c -= a / 2, r.roundPixels ? (r.context.setTransform(l.a, l.b, l.c, l.d, l.tx * r.resolution | 0, l.ty * r.resolution | 0), h |= 0, c |= 0) : r.context.setTransform(l.a, l.b, l.c, l.d, l.tx * r.resolution, l.ty * r.resolution); var d = e.baseTexture.resolution; 16777215 !== t.tint ? (t.cachedTint !== t.tint && (t.cachedTint = t.tint, t.tintedTexture = s.default.getTintedTexture(t, t.tint)), r.context.drawImage(t.tintedTexture, 0, 0, n * d, a * d, h * r.resolution, c * r.resolution, n * r.resolution, a * r.resolution)) : r.context.drawImage(e.baseTexture.source, e._frame.x * d, e._frame.y * d, n * d, a * d, h * r.resolution, c * r.resolution, n * r.resolution, a * r.resolution) } }, t.prototype.destroy = function () { this.renderer = null }, t }(); r.default = l, n.default.registerPlugin("sprite", l) }, { "../../const": 45, "../../math": 69, "../../renderers/canvas/CanvasRenderer": 76, "./CanvasTinter": 103 }], 103: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../../utils"), o = t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"); var s = { getTintedTexture: function (t, e) { var r = t._texture, n = "#" + ("00000" + (0 | (e = s.roundColor(e))).toString(16)).substr(-6); if (r.tintCache = r.tintCache || {}, r.tintCache[n]) return r.tintCache[n]; var i = s.canvas || document.createElement("canvas"); if (s.tintMethod(r, e, i), s.convertTintToImage) { var o = new Image; o.src = i.toDataURL(), r.tintCache[n] = o } else r.tintCache[n] = i, s.canvas = null; return i }, tintWithMultiply: function (t, e, r) { var n = r.getContext("2d"), i = t._frame.clone(), o = t.baseTexture.resolution; i.x *= o, i.y *= o, i.width *= o, i.height *= o, r.width = Math.ceil(i.width), r.height = Math.ceil(i.height), n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, i.width, i.height), n.globalCompositeOperation = "multiply", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height) }, tintWithOverlay: function (t, e, r) { var n = r.getContext("2d"), i = t._frame.clone(), o = t.baseTexture.resolution; i.x *= o, i.y *= o, i.width *= o, i.height *= o, r.width = Math.ceil(i.width), r.height = Math.ceil(i.height), n.globalCompositeOperation = "copy", n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, i.width, i.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, i.x, i.y, i.width, i.height, 0, 0, i.width, i.height) }, tintWithPerPixel: function (t, e, r) { var n = r.getContext("2d"), o = t._frame.clone(), s = t.baseTexture.resolution; o.x *= s, o.y *= s, o.width *= s, o.height *= s, r.width = Math.ceil(o.width), r.height = Math.ceil(o.height), n.globalCompositeOperation = "copy", n.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height); for (var a = (0, i.hex2rgb)(e), u = a[0], l = a[1], h = a[2], c = n.getImageData(0, 0, o.width, o.height), f = c.data, d = 0; d < f.length; d += 4)f[d + 0] *= u, f[d + 1] *= l, f[d + 2] *= h; n.putImageData(c, 0, 0) }, roundColor: function (t) { var e = s.cacheStepsPerColorChannel, r = (0, i.hex2rgb)(t); return r[0] = Math.min(255, r[0] / e * e), r[1] = Math.min(255, r[1] / e * e), r[2] = Math.min(255, r[2] / e * e), (0, i.rgb2hex)(r) }, cacheStepsPerColorChannel: 8, convertTintToImage: !1, canUseMultiply: (0, ((n = o) && n.__esModule ? n : { default: n }).default)(), tintMethod: 0 }; s.tintMethod = s.canUseMultiply ? s.tintWithMultiply : s.tintWithPerPixel, r.default = s }, { "../../renderers/canvas/utils/canUseNewCanvasBlendModes": 79, "../../utils": 123 }], 104: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.vertices = new ArrayBuffer(e), this.float32View = new Float32Array(this.vertices), this.uint32View = new Uint32Array(this.vertices) } return t.prototype.destroy = function () { this.vertices = null, this.positions = null, this.uvs = null, this.colors = null }, t }(); r.default = n }, {}], 105: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = f(t("../../renderers/webgl/utils/ObjectRenderer")), i = f(t("../../renderers/webgl/WebGLRenderer")), o = f(t("../../utils/createIndicesForQuads")), s = f(t("./generateMultiTextureShader")), a = f(t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")), u = f(t("./BatchBuffer")), l = f(t("../../settings")), h = f(t("pixi-gl-core")), c = f(t("bit-twiddle")); function f(t) { return t && t.__esModule ? t : { default: t } } var d = 0, p = 0, g = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); n.vertSize = 5, n.vertByteSize = 4 * n.vertSize, n.size = l.default.SPRITE_BATCH_SIZE, n.buffers = []; for (var i = 1; i <= c.default.nextPow2(n.size); i *= 2)n.buffers.push(new u.default(4 * i * n.vertByteSize)); n.indices = (0, o.default)(n.size), n.shader = null, n.currentIndex = 0, n.groups = []; for (var s = 0; s < n.size; s++)n.groups[s] = { textures: [], textureCount: 0, ids: [], size: 0, start: 0, blend: 0 }; return n.sprites = [], n.vertexBuffers = [], n.vaos = [], n.vaoMax = 2, n.vertexCount = 0, n.renderer.on("prerender", n.onPrerender, n), n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.onContextChange = function () { var t = this.renderer.gl; this.renderer.legacy ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), l.default.SPRITE_MAX_TEXTURES), this.MAX_TEXTURES = (0, a.default)(this.MAX_TEXTURES, t)), this.shader = (0, s.default)(t, this.MAX_TEXTURES), this.indexBuffer = h.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.renderer.bindVao(null); for (var e = this.shader.attributes, r = 0; r < this.vaoMax; r++) { var n = this.vertexBuffers[r] = h.default.GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW), i = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n, e.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(n, e.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(n, e.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12); e.aTextureId && i.addAttribute(n, e.aTextureId, t.FLOAT, !1, this.vertByteSize, 16), this.vaos[r] = i } this.vao = this.vaos[0], this.currentBlendMode = 99999, this.boundTextures = new Array(this.MAX_TEXTURES) }, e.prototype.onPrerender = function () { this.vertexCount = 0 }, e.prototype.render = function (t) { this.currentIndex >= this.size && this.flush(), t._texture._uvs && (this.sprites[this.currentIndex++] = t) }, e.prototype.flush = function () { if (0 !== this.currentIndex) { var t = this.renderer.gl, e = this.MAX_TEXTURES, r = c.default.nextPow2(this.currentIndex), n = c.default.log2(r), i = this.buffers[n], o = this.sprites, s = this.groups, a = i.float32View, u = i.uint32View, f = this.boundTextures, g = this.renderer.boundTextures, m = this.renderer.textureGC.count, v = 0, y = void 0, _ = void 0, x = 1, b = 0, T = s[0], w = void 0, S = void 0, C = o[0].blendMode; T.textureCount = 0, T.start = 0, T.blend = C, d++; var E = void 0; for (E = 0; E < e; ++E)f[E] = g[E], f[E]._virtalBoundId = E; for (E = 0; E < this.currentIndex; ++E) { var O = o[E]; if (y = O._texture.baseTexture, C !== O.blendMode && (C = O.blendMode, _ = null, b = e, d++), _ !== y && (_ = y, y._enabled !== d)) { if (b === e && (d++, T.size = E - T.start, b = 0, (T = s[x++]).blend = C, T.textureCount = 0, T.start = E), y.touched = m, -1 === y._virtalBoundId) for (var P = 0; P < e; ++P) { var A = (P + p) % e, M = f[A]; if (M._enabled !== d) { p++, M._virtalBoundId = -1, y._virtalBoundId = A, f[A] = y; break } } y._enabled = d, T.textureCount++, T.ids[b] = y._virtalBoundId, T.textures[b++] = y } if (w = O.vertexData, S = O._texture._uvs.uvsUint32, this.renderer.roundPixels) { var R = this.renderer.resolution; a[v] = (w[0] * R | 0) / R, a[v + 1] = (w[1] * R | 0) / R, a[v + 5] = (w[2] * R | 0) / R, a[v + 6] = (w[3] * R | 0) / R, a[v + 10] = (w[4] * R | 0) / R, a[v + 11] = (w[5] * R | 0) / R, a[v + 15] = (w[6] * R | 0) / R, a[v + 16] = (w[7] * R | 0) / R } else a[v] = w[0], a[v + 1] = w[1], a[v + 5] = w[2], a[v + 6] = w[3], a[v + 10] = w[4], a[v + 11] = w[5], a[v + 15] = w[6], a[v + 16] = w[7]; u[v + 2] = S[0], u[v + 7] = S[1], u[v + 12] = S[2], u[v + 17] = S[3], u[v + 3] = u[v + 8] = u[v + 13] = u[v + 18] = O._tintRGB + (255 * Math.min(O.worldAlpha, 1) << 24), a[v + 4] = a[v + 9] = a[v + 14] = a[v + 19] = y._virtalBoundId, v += 20 } if (T.size = E - T.start, l.default.CAN_UPLOAD_SAME_BUFFER) this.vertexBuffers[this.vertexCount].upload(i.vertices, 0, !0); else { if (this.vaoMax <= this.vertexCount) { this.vaoMax++; var D = this.shader.attributes, I = this.vertexBuffers[this.vertexCount] = h.default.GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW), L = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(I, D.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(I, D.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(I, D.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12); D.aTextureId && L.addAttribute(I, D.aTextureId, t.FLOAT, !1, this.vertByteSize, 16), this.vaos[this.vertexCount] = L } this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].upload(i.vertices, 0, !1), this.vertexCount++ } for (E = 0; E < e; ++E)g[E]._virtalBoundId = -1; for (E = 0; E < x; ++E) { for (var F = s[E], k = F.textureCount, j = 0; j < k; j++)_ = F.textures[j], g[F.ids[j]] !== _ && this.renderer.bindTexture(_, F.ids[j], !0), _._virtalBoundId = -1; this.renderer.state.setBlendMode(F.blend), t.drawElements(t.TRIANGLES, 6 * F.size, t.UNSIGNED_SHORT, 6 * F.start * 2) } this.currentIndex = 0 } }, e.prototype.start = function () { this.renderer.bindShader(this.shader), l.default.CAN_UPLOAD_SAME_BUFFER && (this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].bind()) }, e.prototype.stop = function () { this.flush() }, e.prototype.destroy = function () { for (var e = 0; e < this.vaoMax; e++)this.vertexBuffers[e] && this.vertexBuffers[e].destroy(), this.vaos[e] && this.vaos[e].destroy(); this.indexBuffer && this.indexBuffer.destroy(), this.renderer.off("prerender", this.onPrerender, this), t.prototype.destroy.call(this), this.shader && (this.shader.destroy(), this.shader = null), this.vertexBuffers = null, this.vaos = null, this.indexBuffer = null, this.indices = null, this.sprites = null; for (var r = 0; r < this.buffers.length; ++r)this.buffers[r].destroy() }, e }(n.default); r.default = g, i.default.registerPlugin("sprite", g) }, { "../../renderers/webgl/WebGLRenderer": 83, "../../renderers/webgl/utils/ObjectRenderer": 93, "../../renderers/webgl/utils/checkMaxIfStatmentsInShader": 96, "../../settings": 100, "../../utils/createIndicesForQuads": 121, "./BatchBuffer": 104, "./generateMultiTextureShader": 106, "bit-twiddle": 1, "pixi-gl-core": 12 }], 106: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e) { var r = s; r = (r = r.replace(/%count%/gi, e)).replace(/%forloop%/gi, function (t) { var e = ""; e += "\n", e += "\n"; for (var r = 0; r < t; r++)r > 0 && (e += "\nelse "), r < t - 1 && (e += "if(textureId == " + r + ".0)"), e += "\n{", e += "\n\tcolor = texture2D(uSamplers[" + r + "], vTextureCoord);", e += "\n}"; return e += "\n", e += "\n" }(e)); for (var n = new o.default(t, "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n", r), i = [], a = 0; a < e; a++)i[a] = a; return n.bind(), n.uniforms.uSamplers = i, n }; var n, i = t("../../Shader"), o = (n = i) && n.__esModule ? n : { default: n }; t("path"); var s = ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureId;", "uniform sampler2D uSamplers[%count%];", "void main(void){", "vec4 color;", "float textureId = floor(vTextureId+0.5);", "%forloop%", "gl_FragColor = color * vColor;", "}"].join("\n") }, { "../../Shader": 43, path: 23 }], 107: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = d(t("../sprites/Sprite")), o = d(t("../textures/Texture")), s = t("../math"), a = t("../utils"), u = t("../const"), l = d(t("../settings")), h = d(t("./TextStyle")), c = d(t("./TextMetrics")), f = d(t("../utils/trimCanvas")); function d(t) { return t && t.__esModule ? t : { default: t } } var p = { texture: !0, children: !1, baseTexture: !0 }, g = function (t) { function e(r, n, i) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), (i = i || document.createElement("canvas")).width = 3, i.height = 3; var a = o.default.fromCanvas(i, l.default.SCALE_MODE, "text"); a.orig = new s.Rectangle, a.trim = new s.Rectangle; var u = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, a)); return o.default.addToCache(u._texture, u._texture.baseTexture.textureCacheIds[0]), u.canvas = i, u.context = u.canvas.getContext("2d"), u.resolution = l.default.RESOLUTION, u._text = null, u._style = null, u._styleListener = null, u._font = "", u.text = r, u.style = n, u.localStyleID = -1, u } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.updateText = function (t) { var e = this._style; if (this.localStyleID !== e.styleID && (this.dirty = !0, this.localStyleID = e.styleID), this.dirty || !t) { this._font = this._style.toFontString(); var r = c.default.measureText(this._text, this._style, this._style.wordWrap, this.canvas), n = r.width, i = r.height, o = r.lines, s = r.lineHeight, a = r.lineWidths, u = r.maxLineWidth, l = r.fontProperties; this.canvas.width = Math.ceil((n + 2 * e.padding) * this.resolution), this.canvas.height = Math.ceil((i + 2 * e.padding) * this.resolution), this.context.scale(this.resolution, this.resolution), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height), this.context.font = this._font, this.context.strokeStyle = e.stroke, this.context.lineWidth = e.strokeThickness, this.context.textBaseline = e.textBaseline, this.context.lineJoin = e.lineJoin, this.context.miterLimit = e.miterLimit; var h = void 0, f = void 0; if (e.dropShadow) { this.context.shadowBlur = e.dropShadowBlur, this.context.globalAlpha = e.dropShadowAlpha, e.dropShadowBlur > 0 ? this.context.shadowColor = e.dropShadowColor : this.context.fillStyle = e.dropShadowColor; for (var d = Math.cos(e.dropShadowAngle) * e.dropShadowDistance, p = Math.sin(e.dropShadowAngle) * e.dropShadowDistance, g = 0; g < o.length; g++)h = e.strokeThickness / 2, f = e.strokeThickness / 2 + g * s + l.ascent, "right" === e.align ? h += u - a[g] : "center" === e.align && (h += (u - a[g]) / 2), e.fill && (this.drawLetterSpacing(o[g], h + d + e.padding, f + p + e.padding), e.stroke && e.strokeThickness && (this.context.strokeStyle = e.dropShadowColor, this.drawLetterSpacing(o[g], h + d + e.padding, f + p + e.padding, !0), this.context.strokeStyle = e.stroke)) } this.context.shadowBlur = 0, this.context.globalAlpha = 1, this.context.fillStyle = this._generateFillStyle(e, o); for (var m = 0; m < o.length; m++)h = e.strokeThickness / 2, f = e.strokeThickness / 2 + m * s + l.ascent, "right" === e.align ? h += u - a[m] : "center" === e.align && (h += (u - a[m]) / 2), e.stroke && e.strokeThickness && this.drawLetterSpacing(o[m], h + e.padding, f + e.padding, !0), e.fill && this.drawLetterSpacing(o[m], h + e.padding, f + e.padding); this.updateTexture() } }, e.prototype.drawLetterSpacing = function (t, e, r) { var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], i = this._style.letterSpacing; if (0 !== i) for (var o = String.prototype.split.call(t, ""), s = e, a = 0, u = ""; a < t.length;)u = o[a++], n ? this.context.strokeText(u, s, r) : this.context.fillText(u, s, r), s += this.context.measureText(u).width + i; else n ? this.context.strokeText(t, e, r) : this.context.fillText(t, e, r) }, e.prototype.updateTexture = function () { if (this._style.trim) { var t = (0, f.default)(this.canvas); this.canvas.width = t.width, this.canvas.height = t.height, this.context.putImageData(t.data, 0, 0) } var e = this._texture, r = this._style, n = r.trim ? 0 : r.padding; e.baseTexture.hasLoaded = !0, e.baseTexture.resolution = this.resolution, e.baseTexture.realWidth = this.canvas.width, e.baseTexture.realHeight = this.canvas.height, e.baseTexture.width = this.canvas.width / this.resolution, e.baseTexture.height = this.canvas.height / this.resolution, e.trim.width = e._frame.width = this.canvas.width / this.resolution, e.trim.height = e._frame.height = this.canvas.height / this.resolution, e.trim.x = -n, e.trim.y = -n, e.orig.width = e._frame.width - 2 * n, e.orig.height = e._frame.height - 2 * n, this._onTextureUpdate(), e.baseTexture.emit("update", e.baseTexture), this.dirty = !1 }, e.prototype.renderWebGL = function (e) { this.resolution !== e.resolution && (this.resolution = e.resolution, this.dirty = !0), this.updateText(!0), t.prototype.renderWebGL.call(this, e) }, e.prototype._renderCanvas = function (e) { this.resolution !== e.resolution && (this.resolution = e.resolution, this.dirty = !0), this.updateText(!0), t.prototype._renderCanvas.call(this, e) }, e.prototype.getLocalBounds = function (e) { return this.updateText(!0), t.prototype.getLocalBounds.call(this, e) }, e.prototype._calculateBounds = function () { this.updateText(!0), this.calculateVertices(), this._bounds.addQuad(this.vertexData) }, e.prototype._onStyleChange = function () { this.dirty = !0 }, e.prototype._generateFillStyle = function (t, e) { if (!Array.isArray(t.fill)) return t.fill; if (navigator.isCocoonJS) return t.fill[0]; var r = void 0, n = void 0, i = void 0, o = void 0, s = this.canvas.width / this.resolution, a = this.canvas.height / this.resolution, l = t.fill.slice(), h = t.fillGradientStops.slice(); if (!h.length) for (var c = l.length + 1, f = 1; f < c; ++f)h.push(f / c); if (l.unshift(t.fill[0]), h.unshift(0), l.push(t.fill[t.fill.length - 1]), h.push(1), t.fillGradientType === u.TEXT_GRADIENT.LINEAR_VERTICAL) { r = this.context.createLinearGradient(s / 2, 0, s / 2, a), n = (l.length + 1) * e.length, i = 0; for (var d = 0; d < e.length; d++) { i += 1; for (var p = 0; p < l.length; p++)o = "number" == typeof h[p] ? h[p] / e.length + d / e.length : i / n, r.addColorStop(o, l[p]), i++ } } else { r = this.context.createLinearGradient(0, a / 2, s, a / 2), n = l.length + 1, i = 1; for (var g = 0; g < l.length; g++)o = "number" == typeof h[g] ? h[g] : i / n, r.addColorStop(o, l[g]), i++ } return r }, e.prototype.destroy = function (e) { "boolean" == typeof e && (e = { children: e }), e = Object.assign({}, p, e), t.prototype.destroy.call(this, e), this.context = null, this.canvas = null, this._style = null }, n(e, [{ key: "width", get: function () { return this.updateText(!0), Math.abs(this.scale.x) * this._texture.orig.width }, set: function (t) { this.updateText(!0); var e = (0, a.sign)(this.scale.x) || 1; this.scale.x = e * t / this._texture.orig.width, this._width = t } }, { key: "height", get: function () { return this.updateText(!0), Math.abs(this.scale.y) * this._texture.orig.height }, set: function (t) { this.updateText(!0); var e = (0, a.sign)(this.scale.y) || 1; this.scale.y = e * t / this._texture.orig.height, this._height = t } }, { key: "style", get: function () { return this._style }, set: function (t) { (t = t || {}) instanceof h.default ? this._style = t : this._style = new h.default(t), this.localStyleID = -1, this.dirty = !0 } }, { key: "text", get: function () { return this._text }, set: function (t) { t = String("" === t || null == t ? " " : t), this._text !== t && (this._text = t, this.dirty = !0) } }]), e }(i.default); r.default = g }, { "../const": 45, "../math": 69, "../settings": 100, "../sprites/Sprite": 101, "../textures/Texture": 114, "../utils": 123, "../utils/trimCanvas": 127, "./TextMetrics": 108, "./TextStyle": 109 }], 108: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(e, r, n, i, o, s, a, u, l) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.text = e, this.style = r, this.width = n, this.height = i, this.lines = o, this.lineWidths = s, this.lineHeight = a, this.maxLineWidth = u, this.fontProperties = l } return t.measureText = function (e, r, n) { var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : t._canvas; n = n || r.wordWrap; var o = r.toFontString(), s = t.measureFont(o), a = i.getContext("2d"); a.font = o; for (var u = (n ? t.wordWrap(e, r, i) : e).split(/(?:\r\n|\r|\n)/), l = new Array(u.length), h = 0, c = 0; c < u.length; c++) { var f = a.measureText(u[c]).width + (u[c].length - 1) * r.letterSpacing; l[c] = f, h = Math.max(h, f) } var d = h + r.strokeThickness; r.dropShadow && (d += r.dropShadowDistance); var p = r.lineHeight || s.fontSize + r.strokeThickness, g = Math.max(p, s.fontSize + r.strokeThickness) + (u.length - 1) * p; return r.dropShadow && (g += r.dropShadowDistance), new t(e, r, d, g, u, l, p, h, s) }, t.wordWrap = function (e, r) { for (var n = (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t._canvas).getContext("2d"), i = "", o = e.split("\n"), s = r.wordWrapWidth, a = {}, u = 0; u < o.length; u++) { for (var l = s, h = o[u].split(" "), c = 0; c < h.length; c++) { var f = n.measureText(h[c]).width; if (r.breakWords && f > s) for (var d = h[c].split(""), p = 0; p < d.length; p++) { var g = d[p], m = a[g]; void 0 === m && (m = n.measureText(g).width, a[g] = m), m > l ? (i += "\n" + g, l = s - m) : (0 === p && (i += " "), i += g, l -= m) } else { var v = f + n.measureText(" ").width; 0 === c || v > l ? (c > 0 && (i += "\n"), i += h[c], l = s - f) : (l -= v, i += " " + h[c]) } } u < o.length - 1 && (i += "\n") } return i }, t.measureFont = function (e) { if (t._fonts[e]) return t._fonts[e]; var r = {}, n = t._canvas, i = t._context; i.font = e; var o = Math.ceil(i.measureText("|MÉq").width), s = Math.ceil(i.measureText("M").width), a = 2 * s; s = 1.4 * s | 0, n.width = o, n.height = a, i.fillStyle = "#f00", i.fillRect(0, 0, o, a), i.font = e, i.textBaseline = "alphabetic", i.fillStyle = "#000", i.fillText("|MÉq", 0, s); var u = i.getImageData(0, 0, o, a).data, l = u.length, h = 4 * o, c = 0, f = 0, d = !1; for (c = 0; c < s; ++c) { for (var p = 0; p < h; p += 4)if (255 !== u[f + p]) { d = !0; break } if (d) break; f += h } for (r.ascent = s - c, f = l - h, d = !1, c = a; c > s; --c) { for (var g = 0; g < h; g += 4)if (255 !== u[f + g]) { d = !0; break } if (d) break; f -= h } return r.descent = c - s, r.fontSize = r.ascent + r.descent, t._fonts[e] = r, r }, t }(); r.default = n; var i = document.createElement("canvas"); i.width = i.height = 10, n._canvas = i, n._context = i.getContext("2d"), n._fonts = {} }, {}], 109: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = t("../const"), o = t("../utils"); var s = { align: "left", breakWords: !1, dropShadow: !1, dropShadowAlpha: 1, dropShadowAngle: Math.PI / 6, dropShadowBlur: 0, dropShadowColor: "#000000", dropShadowDistance: 5, fill: "black", fillGradientType: i.TEXT_GRADIENT.LINEAR_VERTICAL, fillGradientStops: [], fontFamily: "Arial", fontSize: 26, fontStyle: "normal", fontVariant: "normal", fontWeight: "normal", letterSpacing: 0, lineHeight: 0, lineJoin: "miter", miterLimit: 10, padding: 0, stroke: "black", strokeThickness: 0, textBaseline: "alphabetic", trim: !1, wordWrap: !1, wordWrapWidth: 100 }, a = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.styleID = 0, Object.assign(this, s, e) } return t.prototype.clone = function () { var e = {}; for (var r in s) e[r] = this[r]; return new t(e) }, t.prototype.reset = function () { Object.assign(this, s) }, t.prototype.toFontString = function () { var t = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize, e = this.fontFamily; Array.isArray(this.fontFamily) || (e = this.fontFamily.split(",")); for (var r = e.length - 1; r >= 0; r--) { var n = e[r].trim(); /([\"\'])[^\'\"]+\1/.test(n) || (n = '"' + n + '"'), e[r] = n } return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + e.join(",") }, n(t, [{ key: "align", get: function () { return this._align }, set: function (t) { this._align !== t && (this._align = t, this.styleID++) } }, { key: "breakWords", get: function () { return this._breakWords }, set: function (t) { this._breakWords !== t && (this._breakWords = t, this.styleID++) } }, { key: "dropShadow", get: function () { return this._dropShadow }, set: function (t) { this._dropShadow !== t && (this._dropShadow = t, this.styleID++) } }, { key: "dropShadowAlpha", get: function () { return this._dropShadowAlpha }, set: function (t) { this._dropShadowAlpha !== t && (this._dropShadowAlpha = t, this.styleID++) } }, { key: "dropShadowAngle", get: function () { return this._dropShadowAngle }, set: function (t) { this._dropShadowAngle !== t && (this._dropShadowAngle = t, this.styleID++) } }, { key: "dropShadowBlur", get: function () { return this._dropShadowBlur }, set: function (t) { this._dropShadowBlur !== t && (this._dropShadowBlur = t, this.styleID++) } }, { key: "dropShadowColor", get: function () { return this._dropShadowColor }, set: function (t) { var e = l(t); this._dropShadowColor !== e && (this._dropShadowColor = e, this.styleID++) } }, { key: "dropShadowDistance", get: function () { return this._dropShadowDistance }, set: function (t) { this._dropShadowDistance !== t && (this._dropShadowDistance = t, this.styleID++) } }, { key: "fill", get: function () { return this._fill }, set: function (t) { var e = l(t); this._fill !== e && (this._fill = e, this.styleID++) } }, { key: "fillGradientType", get: function () { return this._fillGradientType }, set: function (t) { this._fillGradientType !== t && (this._fillGradientType = t, this.styleID++) } }, { key: "fillGradientStops", get: function () { return this._fillGradientStops }, set: function (t) { (function (t, e) { if (!Array.isArray(t) || !Array.isArray(e)) return !1; if (t.length !== e.length) return !1; for (var r = 0; r < t.length; ++r)if (t[r] !== e[r]) return !1; return !0 })(this._fillGradientStops, t) || (this._fillGradientStops = t, this.styleID++) } }, { key: "fontFamily", get: function () { return this._fontFamily }, set: function (t) { this.fontFamily !== t && (this._fontFamily = t, this.styleID++) } }, { key: "fontSize", get: function () { return this._fontSize }, set: function (t) { this._fontSize !== t && (this._fontSize = t, this.styleID++) } }, { key: "fontStyle", get: function () { return this._fontStyle }, set: function (t) { this._fontStyle !== t && (this._fontStyle = t, this.styleID++) } }, { key: "fontVariant", get: function () { return this._fontVariant }, set: function (t) { this._fontVariant !== t && (this._fontVariant = t, this.styleID++) } }, { key: "fontWeight", get: function () { return this._fontWeight }, set: function (t) { this._fontWeight !== t && (this._fontWeight = t, this.styleID++) } }, { key: "letterSpacing", get: function () { return this._letterSpacing }, set: function (t) { this._letterSpacing !== t && (this._letterSpacing = t, this.styleID++) } }, { key: "lineHeight", get: function () { return this._lineHeight }, set: function (t) { this._lineHeight !== t && (this._lineHeight = t, this.styleID++) } }, { key: "lineJoin", get: function () { return this._lineJoin }, set: function (t) { this._lineJoin !== t && (this._lineJoin = t, this.styleID++) } }, { key: "miterLimit", get: function () { return this._miterLimit }, set: function (t) { this._miterLimit !== t && (this._miterLimit = t, this.styleID++) } }, { key: "padding", get: function () { return this._padding }, set: function (t) { this._padding !== t && (this._padding = t, this.styleID++) } }, { key: "stroke", get: function () { return this._stroke }, set: function (t) { var e = l(t); this._stroke !== e && (this._stroke = e, this.styleID++) } }, { key: "strokeThickness", get: function () { return this._strokeThickness }, set: function (t) { this._strokeThickness !== t && (this._strokeThickness = t, this.styleID++) } }, { key: "textBaseline", get: function () { return this._textBaseline }, set: function (t) { this._textBaseline !== t && (this._textBaseline = t, this.styleID++) } }, { key: "trim", get: function () { return this._trim }, set: function (t) { this._trim !== t && (this._trim = t, this.styleID++) } }, { key: "wordWrap", get: function () { return this._wordWrap }, set: function (t) { this._wordWrap !== t && (this._wordWrap = t, this.styleID++) } }, { key: "wordWrapWidth", get: function () { return this._wordWrapWidth }, set: function (t) { this._wordWrapWidth !== t && (this._wordWrapWidth = t, this.styleID++) } }]), t }(); function u(t) { return "number" == typeof t ? (0, o.hex2string)(t) : ("string" == typeof t && 0 === t.indexOf("0x") && (t = t.replace("0x", "#")), t) } function l(t) { if (Array.isArray(t)) { for (var e = 0; e < t.length; ++e)t[e] = u(t[e]); return t } return u(t) } r.default = a }, { "../const": 45, "../utils": 123 }], 110: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = o(t("./BaseTexture")), i = o(t("../settings")); function o(t) { return t && t.__esModule ? t : { default: t } } var s = function (t) { function e() { var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100, o = arguments[2], s = arguments[3]; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var a = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, null, o)); return a.resolution = s || i.default.RESOLUTION, a.width = r, a.height = n, a.realWidth = a.width * a.resolution, a.realHeight = a.height * a.resolution, a.scaleMode = void 0 !== o ? o : i.default.SCALE_MODE, a.hasLoaded = !0, a._glRenderTargets = {}, a._canvasRenderTarget = null, a.valid = !1, a } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.resize = function (t, e) { t === this.width && e === this.height || (this.valid = t > 0 && e > 0, this.width = t, this.height = e, this.realWidth = this.width * this.resolution, this.realHeight = this.height * this.resolution, this.valid && this.emit("update", this)) }, e.prototype.destroy = function () { t.prototype.destroy.call(this, !0), this.renderer = null }, e }(n.default); r.default = s }, { "../settings": 100, "./BaseTexture": 111 }], 111: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("../utils"), i = u(t("../settings")), o = u(t("eventemitter3")), s = u(t("../utils/determineCrossOrigin")), a = u(t("bit-twiddle")); function u(t) { return t && t.__esModule ? t : { default: t } } var l = function (t) { function e(r, o, s) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var a = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return a.uid = (0, n.uid)(), a.touched = 0, a.resolution = s || i.default.RESOLUTION, a.width = 100, a.height = 100, a.realWidth = 100, a.realHeight = 100, a.scaleMode = void 0 !== o ? o : i.default.SCALE_MODE, a.hasLoaded = !1, a.isLoading = !1, a.source = null, a.origSource = null, a.imageType = null, a.sourceScale = 1, a.premultipliedAlpha = !0, a.imageUrl = null, a.isPowerOfTwo = !1, a.mipmap = i.default.MIPMAP_TEXTURES, a.wrapMode = i.default.WRAP_MODE, a._glTextures = {}, a._enabled = 0, a._virtalBoundId = -1, a._destroyed = !1, a.textureCacheIds = [], r && a.loadSource(r), a } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.update = function () { "svg" !== this.imageType && (this.realWidth = this.source.naturalWidth || this.source.videoWidth || this.source.width, this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height, this._updateDimensions()), this.emit("update", this) }, e.prototype._updateDimensions = function () { this.width = this.realWidth / this.resolution, this.height = this.realHeight / this.resolution, this.isPowerOfTwo = a.default.isPow2(this.realWidth) && a.default.isPow2(this.realHeight) }, e.prototype.loadSource = function (t) { var e = this.isLoading; this.hasLoaded = !1, this.isLoading = !1, e && this.source && (this.source.onload = null, this.source.onerror = null); var r = !this.source; if (this.source = t, (t.src && t.complete || t.getContext) && t.width && t.height) this._updateImageType(), "svg" === this.imageType ? this._loadSvgSource() : this._sourceLoaded(), r && this.emit("loaded", this); else if (!t.getContext) { this.isLoading = !0; var n = this; if (t.onload = function () { n._updateImageType(), t.onload = null, t.onerror = null, n.isLoading && (n.isLoading = !1, n._sourceLoaded(), "svg" !== n.imageType ? n.emit("loaded", n) : n._loadSvgSource()) }, t.onerror = function () { t.onload = null, t.onerror = null, n.isLoading && (n.isLoading = !1, n.emit("error", n)) }, t.complete && t.src) { if (t.onload = null, t.onerror = null, "svg" === n.imageType) return void n._loadSvgSource(); this.isLoading = !1, t.width && t.height ? (this._sourceLoaded(), e && this.emit("loaded", this)) : e && this.emit("error", this) } } }, e.prototype._updateImageType = function () { if (this.imageUrl) { var t = (0, n.decomposeDataUri)(this.imageUrl), e = void 0; if (t && "image" === t.mediaType) { var r = t.subType.split("+")[0]; if (!(e = (0, n.getUrlFileExtension)("." + r))) throw new Error("Invalid image type in data URI.") } else (e = (0, n.getUrlFileExtension)(this.imageUrl)) || (e = "png"); this.imageType = e } }, e.prototype._loadSvgSource = function () { if ("svg" === this.imageType) { var t = (0, n.decomposeDataUri)(this.imageUrl); t ? this._loadSvgSourceUsingDataUri(t) : this._loadSvgSourceUsingXhr() } }, e.prototype._loadSvgSourceUsingDataUri = function (t) { var e = void 0; if ("base64" === t.encoding) { if (!atob) throw new Error("Your browser doesn't support base64 conversions."); e = atob(t.data) } else e = t.data; this._loadSvgSourceUsingString(e) }, e.prototype._loadSvgSourceUsingXhr = function () { var t = this, e = new XMLHttpRequest; e.onload = function () { if (e.readyState !== e.DONE || 200 !== e.status) throw new Error("Failed to load SVG using XHR."); t._loadSvgSourceUsingString(e.response) }, e.onerror = function () { return t.emit("error", t) }, e.open("GET", this.imageUrl, !0), e.send() }, e.prototype._loadSvgSourceUsingString = function (t) { var r = (0, n.getSvgSize)(t), i = r.width, o = r.height; if (!i || !o) throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them."); this.realWidth = Math.round(i * this.sourceScale), this.realHeight = Math.round(o * this.sourceScale), this._updateDimensions(); var s = document.createElement("canvas"); s.width = this.realWidth, s.height = this.realHeight, s._pixiId = "canvas_" + (0, n.uid)(), s.getContext("2d").drawImage(this.source, 0, 0, i, o, 0, 0, this.realWidth, this.realHeight), this.origSource = this.source, this.source = s, e.addToCache(this, s._pixiId), this.isLoading = !1, this._sourceLoaded(), this.emit("loaded", this) }, e.prototype._sourceLoaded = function () { this.hasLoaded = !0, this.update() }, e.prototype.destroy = function () { this.imageUrl && (delete n.TextureCache[this.imageUrl], this.imageUrl = null, navigator.isCocoonJS || (this.source.src = "")), this.source = null, this.dispose(), e.removeFromCache(this), this.textureCacheIds = null, this._destroyed = !0 }, e.prototype.dispose = function () { this.emit("dispose", this) }, e.prototype.updateSourceImage = function (t) { this.source.src = t, this.loadSource(this.source) }, e.fromImage = function (t, r, i, o) { var a = n.BaseTextureCache[t]; if (!a) { var u = new Image; void 0 === r && 0 !== t.indexOf("data:") && (u.crossOrigin = (0, s.default)(t)), (a = new e(u, i)).imageUrl = t, o && (a.sourceScale = o), a.resolution = (0, n.getResolutionOfUrl)(t), u.src = t, e.addToCache(a, t) } return a }, e.fromCanvas = function (t, r) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas"; t._pixiId || (t._pixiId = i + "_" + (0, n.uid)()); var o = n.BaseTextureCache[t._pixiId]; return o || (o = new e(t, r), e.addToCache(o, t._pixiId)), o }, e.from = function (t, r, i) { if ("string" == typeof t) return e.fromImage(t, void 0, r, i); if (t instanceof HTMLImageElement) { var o = t.src, s = n.BaseTextureCache[o]; return s || ((s = new e(t, r)).imageUrl = o, i && (s.sourceScale = i), s.resolution = (0, n.getResolutionOfUrl)(o), e.addToCache(s, o)), s } return t instanceof HTMLCanvasElement ? e.fromCanvas(t, r) : t }, e.addToCache = function (t, e) { e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), n.BaseTextureCache[e] && console.warn("BaseTexture added to the cache with an id [" + e + "] that already had an entry"), n.BaseTextureCache[e] = t) }, e.removeFromCache = function (t) { if ("string" == typeof t) { var e = n.BaseTextureCache[t]; if (e) { var r = e.textureCacheIds.indexOf(t); return r > -1 && e.textureCacheIds.splice(r, 1), delete n.BaseTextureCache[t], e } } else if (t && t.textureCacheIds) { for (var i = 0; i < t.textureCacheIds.length; ++i)delete n.BaseTextureCache[t.textureCacheIds[i]]; return t.textureCacheIds.length = 0, t } return null }, e }(o.default); r.default = l }, { "../settings": 100, "../utils": 123, "../utils/determineCrossOrigin": 122, "bit-twiddle": 1, eventemitter3: 3 }], 112: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = i(t("./BaseRenderTexture")); function i(t) { return t && t.__esModule ? t : { default: t } } var o = function (t) { function e(r, i) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var o = null; if (!(r instanceof n.default)) { var s = arguments[1], a = arguments[2], u = arguments[3], l = arguments[4]; console.warn("Please use RenderTexture.create(" + s + ", " + a + ") instead of the ctor directly."), o = arguments[0], i = null, r = new n.default(s, a, u, l) } var h = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r, i)); return h.legacyRenderer = o, h.valid = !0, h._updateUvs(), h } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.resize = function (t, e, r) { this.valid = t > 0 && e > 0, this._frame.width = this.orig.width = t, this._frame.height = this.orig.height = e, r || this.baseTexture.resize(t, e), this._updateUvs() }, e.create = function (t, r, i, o) { return new e(new n.default(t, r, i, o)) }, e }(i(t("./Texture")).default); r.default = o }, { "./BaseRenderTexture": 110, "./Texture": 114 }], 113: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = t("../"), o = t("../utils"); var s = function () { function t(e, r) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.baseTexture = e, this.textures = {}, this.data = r, this.resolution = this._updateResolution(n || this.baseTexture.imageUrl), this._frames = this.data.frames, this._frameKeys = Object.keys(this._frames), this._batchIndex = 0, this._callback = null } return n(t, null, [{ key: "BATCH_SIZE", get: function () { return 1e3 } }]), t.prototype._updateResolution = function (t) { var e = this.data.meta.scale, r = (0, o.getResolutionOfUrl)(t, null); return null === r && (r = void 0 !== e ? parseFloat(e) : 1), 1 !== r && (this.baseTexture.resolution = r, this.baseTexture.update()), r }, t.prototype.parse = function (e) { this._batchIndex = 0, this._callback = e, this._frameKeys.length <= t.BATCH_SIZE ? (this._processFrames(0), this._parseComplete()) : this._nextBatch() }, t.prototype._processFrames = function (e) { for (var r = e, n = t.BATCH_SIZE; r - e < n && r < this._frameKeys.length;) { var o = this._frameKeys[r], s = this._frames[o].frame; if (s) { var a = null, u = null, l = new i.Rectangle(0, 0, this._frames[o].sourceSize.w / this.resolution, this._frames[o].sourceSize.h / this.resolution); a = this._frames[o].rotated ? new i.Rectangle(s.x / this.resolution, s.y / this.resolution, s.h / this.resolution, s.w / this.resolution) : new i.Rectangle(s.x / this.resolution, s.y / this.resolution, s.w / this.resolution, s.h / this.resolution), this._frames[o].trimmed && (u = new i.Rectangle(this._frames[o].spriteSourceSize.x / this.resolution, this._frames[o].spriteSourceSize.y / this.resolution, s.w / this.resolution, s.h / this.resolution)), this.textures[o] = new i.Texture(this.baseTexture, a, l, u, this._frames[o].rotated ? 2 : 0), i.Texture.addToCache(this.textures[o], o) } r++ } }, t.prototype._parseComplete = function () { var t = this._callback; this._callback = null, this._batchIndex = 0, t.call(this, this.textures) }, t.prototype._nextBatch = function () { var e = this; this._processFrames(this._batchIndex * t.BATCH_SIZE), this._batchIndex++, setTimeout(function () { e._batchIndex * t.BATCH_SIZE < e._frameKeys.length ? e._nextBatch() : e._parseComplete() }, 0) }, t.prototype.destroy = function () { var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; for (var e in this.textures) this.textures[e].destroy(); this._frames = null, this._frameKeys = null, this.data = null, this.textures = null, t && this.baseTexture.destroy(), this.baseTexture = null }, t }(); r.default = s }, { "../": 64, "../utils": 123 }], 114: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = c(t("./BaseTexture")), o = c(t("./VideoBaseTexture")), s = c(t("./TextureUvs")), a = c(t("eventemitter3")), u = t("../math"), l = t("../utils"), h = c(t("../settings")); function c(t) { return t && t.__esModule ? t : { default: t } } var f = function (t) { function e(r, n, i, o, s) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var a = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); if (a.noFrame = !1, n || (a.noFrame = !0, n = new u.Rectangle(0, 0, 1, 1)), r instanceof e && (r = r.baseTexture), a.baseTexture = r, a._frame = n, a.trim = o, a.valid = !1, a.requiresUpdate = !1, a._uvs = null, a.orig = i || n, a._rotate = Number(s || 0), !0 === s) a._rotate = 2; else if (a._rotate % 2 != 0) throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually"); return r.hasLoaded ? (a.noFrame && (n = new u.Rectangle(0, 0, r.width, r.height), r.on("update", a.onBaseTextureUpdated, a)), a.frame = n) : r.once("loaded", a.onBaseTextureLoaded, a), a._updateID = 0, a.transform = null, a.textureCacheIds = [], a } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.update = function () { this.baseTexture.update() }, e.prototype.onBaseTextureLoaded = function (t) { this._updateID++, this.noFrame ? this.frame = new u.Rectangle(0, 0, t.width, t.height) : this.frame = this._frame, this.baseTexture.on("update", this.onBaseTextureUpdated, this), this.emit("update", this) }, e.prototype.onBaseTextureUpdated = function (t) { this._updateID++, this._frame.width = t.width, this._frame.height = t.height, this.emit("update", this) }, e.prototype.destroy = function (t) { this.baseTexture && (t && (l.TextureCache[this.baseTexture.imageUrl] && e.removeFromCache(this.baseTexture.imageUrl), this.baseTexture.destroy()), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture.off("loaded", this.onBaseTextureLoaded, this), this.baseTexture = null), this._frame = null, this._uvs = null, this.trim = null, this.orig = null, this.valid = !1, e.removeFromCache(this), this.textureCacheIds = null }, e.prototype.clone = function () { return new e(this.baseTexture, this.frame, this.orig, this.trim, this.rotate) }, e.prototype._updateUvs = function () { this._uvs || (this._uvs = new s.default), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++ }, e.fromImage = function (t, r, n, o) { var s = l.TextureCache[t]; return s || (s = new e(i.default.fromImage(t, r, n, o)), e.addToCache(s, t)), s }, e.fromFrame = function (t) { var e = l.TextureCache[t]; if (!e) throw new Error('The frameId "' + t + '" does not exist in the texture cache'); return e }, e.fromCanvas = function (t, r) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas"; return new e(i.default.fromCanvas(t, r, n)) }, e.fromVideo = function (t, r) { return "string" == typeof t ? e.fromVideoUrl(t, r) : new e(o.default.fromVideo(t, r)) }, e.fromVideoUrl = function (t, r) { return new e(o.default.fromUrl(t, r)) }, e.from = function (t) { if ("string" == typeof t) { var r = l.TextureCache[t]; return r || (null !== t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/) ? e.fromVideoUrl(t) : e.fromImage(t)) } return t instanceof HTMLImageElement ? new e(i.default.from(t)) : t instanceof HTMLCanvasElement ? e.fromCanvas(t, h.default.SCALE_MODE, "HTMLCanvasElement") : t instanceof HTMLVideoElement ? e.fromVideo(t) : t instanceof i.default ? new e(t) : t }, e.fromLoader = function (t, r, n) { var o = new i.default(t, void 0, (0, l.getResolutionOfUrl)(r)), s = new e(o); return o.imageUrl = r, n || (n = r), i.default.addToCache(s.baseTexture, n), e.addToCache(s, n), n !== r && (i.default.addToCache(s.baseTexture, r), e.addToCache(s, r)), s }, e.addToCache = function (t, e) { e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e), l.TextureCache[e] && console.warn("Texture added to the cache with an id [" + e + "] that already had an entry"), l.TextureCache[e] = t) }, e.removeFromCache = function (t) { if ("string" == typeof t) { var e = l.TextureCache[t]; if (e) { var r = e.textureCacheIds.indexOf(t); return r > -1 && e.textureCacheIds.splice(r, 1), delete l.TextureCache[t], e } } else if (t && t.textureCacheIds) { for (var n = 0; n < t.textureCacheIds.length; ++n)delete l.TextureCache[t.textureCacheIds[n]]; return t.textureCacheIds.length = 0, t } return null }, n(e, [{ key: "frame", get: function () { return this._frame }, set: function (t) { if (this._frame = t, this.noFrame = !1, t.x + t.width > this.baseTexture.width || t.y + t.height > this.baseTexture.height) throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: " + t.x + " + " + t.width + " > " + this.baseTexture.width + " Y: " + t.y + " + " + t.height + " > " + this.baseTexture.height); this.valid = t && t.width && t.height && this.baseTexture.hasLoaded, this.trim || this.rotate || (this.orig = t), this.valid && this._updateUvs() } }, { key: "rotate", get: function () { return this._rotate }, set: function (t) { this._rotate = t, this.valid && this._updateUvs() } }, { key: "width", get: function () { return this.orig.width } }, { key: "height", get: function () { return this.orig.height } }]), e }(a.default); function d(t) { t.destroy = function () { }, t.on = function () { }, t.once = function () { }, t.emit = function () { } } r.default = f, f.EMPTY = new f(new i.default), d(f.EMPTY), d(f.EMPTY.baseTexture), f.WHITE = function () { var t = document.createElement("canvas"); t.width = 10, t.height = 10; var e = t.getContext("2d"); return e.fillStyle = "white", e.fillRect(0, 0, 10, 10), new f(new i.default(t)) }(), d(f.WHITE), d(f.WHITE.baseTexture) }, { "../math": 69, "../settings": 100, "../utils": 123, "./BaseTexture": 111, "./TextureUvs": 115, "./VideoBaseTexture": 116, eventemitter3: 3 }], 115: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../math/GroupD8"), o = (n = i) && n.__esModule ? n : { default: n }; var s = function () { function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1, this.uvsUint32 = new Uint32Array(4) } return t.prototype.set = function (t, e, r) { var n = e.width, i = e.height; if (r) { var s = t.width / 2 / n, a = t.height / 2 / i, u = t.x / n + s, l = t.y / i + a; r = o.default.add(r, o.default.NW), this.x0 = u + s * o.default.uX(r), this.y0 = l + a * o.default.uY(r), r = o.default.add(r, 2), this.x1 = u + s * o.default.uX(r), this.y1 = l + a * o.default.uY(r), r = o.default.add(r, 2), this.x2 = u + s * o.default.uX(r), this.y2 = l + a * o.default.uY(r), r = o.default.add(r, 2), this.x3 = u + s * o.default.uX(r), this.y3 = l + a * o.default.uY(r) } else this.x0 = t.x / n, this.y0 = t.y / i, this.x1 = (t.x + t.width) / n, this.y1 = t.y / i, this.x2 = (t.x + t.width) / n, this.y2 = (t.y + t.height) / i, this.x3 = t.x / n, this.y3 = (t.y + t.height) / i; this.uvsUint32[0] = (65535 * this.y0 & 65535) << 16 | 65535 * this.x0 & 65535, this.uvsUint32[1] = (65535 * this.y1 & 65535) << 16 | 65535 * this.x1 & 65535, this.uvsUint32[2] = (65535 * this.y2 & 65535) << 16 | 65535 * this.x2 & 65535, this.uvsUint32[3] = (65535 * this.y3 & 65535) << 16 | 65535 * this.x3 & 65535 }, t }(); r.default = s }, { "../math/GroupD8": 65 }], 116: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = t("./BaseTexture"), s = (n = o) && n.__esModule ? n : { default: n }, a = t("../utils"), u = t("../ticker"), l = t("../const"); var h = function (t) { function e(r, n) { if (function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), !r) throw new Error("No video source element specified."); (r.readyState === r.HAVE_ENOUGH_DATA || r.readyState === r.HAVE_FUTURE_DATA) && r.width && r.height && (r.complete = !0); var i = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r, n)); return i.width = r.videoWidth, i.height = r.videoHeight, i._autoUpdate = !0, i._isAutoUpdating = !1, i.autoPlay = !0, i.update = i.update.bind(i), i._onCanPlay = i._onCanPlay.bind(i), r.addEventListener("play", i._onPlayStart.bind(i)), r.addEventListener("pause", i._onPlayStop.bind(i)), i.hasLoaded = !1, i.__loaded = !1, i._isSourceReady() ? i._onCanPlay() : (r.addEventListener("canplay", i._onCanPlay), r.addEventListener("canplaythrough", i._onCanPlay)), i } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype._isSourcePlaying = function () { var t = this.source; return t.currentTime > 0 && !1 === t.paused && !1 === t.ended && t.readyState > 2 }, e.prototype._isSourceReady = function () { return 3 === this.source.readyState || 4 === this.source.readyState }, e.prototype._onPlayStart = function () { this.hasLoaded || this._onCanPlay(), !this._isAutoUpdating && this.autoUpdate && (u.shared.add(this.update, this, l.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0) }, e.prototype._onPlayStop = function () { this._isAutoUpdating && (u.shared.remove(this.update, this), this._isAutoUpdating = !1) }, e.prototype._onCanPlay = function () { this.hasLoaded = !0, this.source && (this.source.removeEventListener("canplay", this._onCanPlay), this.source.removeEventListener("canplaythrough", this._onCanPlay), this.width = this.source.videoWidth, this.height = this.source.videoHeight, this.__loaded || (this.__loaded = !0, this.emit("loaded", this)), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && this.source.play()) }, e.prototype.destroy = function () { this._isAutoUpdating && u.shared.remove(this.update, this), this.source && this.source._pixiId && (s.default.removeFromCache(this.source._pixiId), delete this.source._pixiId), t.prototype.destroy.call(this) }, e.fromVideo = function (t, r) { t._pixiId || (t._pixiId = "video_" + (0, a.uid)()); var n = a.BaseTextureCache[t._pixiId]; return n || (n = new e(t, r), s.default.addToCache(n, t._pixiId)), n }, e.fromUrl = function (t, r) { var n = document.createElement("video"); if (n.setAttribute("webkit-playsinline", ""), n.setAttribute("playsinline", ""), Array.isArray(t)) for (var i = 0; i < t.length; ++i)n.appendChild(c(t[i].src || t[i], t[i].mime)); else n.appendChild(c(t.src || t, t.mime)); return n.load(), e.fromVideo(n, r) }, i(e, [{ key: "autoUpdate", get: function () { return this._autoUpdate }, set: function (t) { t !== this._autoUpdate && (this._autoUpdate = t, !this._autoUpdate && this._isAutoUpdating ? (u.shared.remove(this.update, this), this._isAutoUpdating = !1) : this._autoUpdate && !this._isAutoUpdating && (u.shared.add(this.update, this, l.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0)) } }]), e }(s.default); function c(t, e) { e || (e = "video/" + t.substr(t.lastIndexOf(".") + 1)); var r = document.createElement("source"); return r.src = t, r.type = e, r } r.default = h, h.fromUrls = h.fromUrl }, { "../const": 45, "../ticker": 119, "../utils": 123, "./BaseTexture": 111 }], 117: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = a(t("../settings")), o = t("../const"), s = a(t("./TickerListener")); function a(t) { return t && t.__esModule ? t : { default: t } } var u = function () { function t() { var e = this; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this._head = new s.default(null, null, 1 / 0), this._requestId = null, this._maxElapsedMS = 100, this.autoStart = !1, this.deltaTime = 1, this.elapsedMS = 1 / i.default.TARGET_FPMS, this.lastTime = 0, this.speed = 1, this.started = !1, this._tick = function (t) { e._requestId = null, e.started && (e.update(t), e.started && null === e._requestId && e._head.next && (e._requestId = requestAnimationFrame(e._tick))) } } return t.prototype._requestIfNeeded = function () { null === this._requestId && this._head.next && (this.lastTime = performance.now(), this._requestId = requestAnimationFrame(this._tick)) }, t.prototype._cancelIfNeeded = function () { null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null) }, t.prototype._startIfPossible = function () { this.started ? this._requestIfNeeded() : this.autoStart && this.start() }, t.prototype.add = function (t, e) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : o.UPDATE_PRIORITY.NORMAL; return this._addListener(new s.default(t, e, r)) }, t.prototype.addOnce = function (t, e) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : o.UPDATE_PRIORITY.NORMAL; return this._addListener(new s.default(t, e, r, !0)) }, t.prototype._addListener = function (t) { var e = this._head.next, r = this._head; if (e) { for (; e;) { if (t.priority > e.priority) { t.connect(r); break } r = e, e = e.next } t.previous || t.connect(r) } else t.connect(r); return this._startIfPossible(), this }, t.prototype.remove = function (t, e) { for (var r = this._head.next; r;)r = r.match(t, e) ? r.destroy() : r.next; return this._head.next || this._cancelIfNeeded(), this }, t.prototype.start = function () { this.started || (this.started = !0, this._requestIfNeeded()) }, t.prototype.stop = function () { this.started && (this.started = !1, this._cancelIfNeeded()) }, t.prototype.destroy = function () { this.stop(); for (var t = this._head.next; t;)t = t.destroy(!0); this._head.destroy(), this._head = null }, t.prototype.update = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : performance.now(), e = void 0; if (t > this.lastTime) { (e = this.elapsedMS = t - this.lastTime) > this._maxElapsedMS && (e = this._maxElapsedMS), this.deltaTime = e * i.default.TARGET_FPMS * this.speed; for (var r = this._head, n = r.next; n;)n = n.emit(this.deltaTime); r.next || this._cancelIfNeeded() } else this.deltaTime = this.elapsedMS = 0; this.lastTime = t }, n(t, [{ key: "FPS", get: function () { return 1e3 / this.elapsedMS } }, { key: "minFPS", get: function () { return 1e3 / this._maxElapsedMS }, set: function (t) { var e = Math.min(Math.max(0, t) / 1e3, i.default.TARGET_FPMS); this._maxElapsedMS = 1 / e } }]), t }(); r.default = u }, { "../const": 45, "../settings": 100, "./TickerListener": 118 }], 118: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(e) { var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.fn = e, this.context = r, this.priority = n, this.once = i, this.next = null, this.previous = null, this._destroyed = !1 } return t.prototype.match = function (t, e) { return e = e || null, this.fn === t && this.context === e }, t.prototype.emit = function (t) { this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t)); var e = this.next; return this.once && this.destroy(!0), this._destroyed && (this.next = null), e }, t.prototype.connect = function (t) { this.previous = t, t.next && (t.next.previous = this), this.next = t.next, t.next = this }, t.prototype.destroy = function () { var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]; this._destroyed = !0, this.fn = null, this.context = null, this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous); var e = this.previous; return this.next = t ? null : e, this.previous = null, e }, t }(); r.default = n }, {}], 119: [function (t, e, r) { "use strict"; r.__esModule = !0, r.Ticker = r.shared = void 0; var n, i = t("./Ticker"), o = (n = i) && n.__esModule ? n : { default: n }; var s = new o.default; s.autoStart = !0, s.destroy = function () { }, r.shared = s, r.Ticker = o.default }, { "./Ticker": 117 }], 120: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function () { return !(navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform)) } }, {}], 121: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { for (var e = 6 * t, r = new Uint16Array(e), n = 0, i = 0; n < e; n += 6, i += 4)r[n + 0] = i + 0, r[n + 1] = i + 1, r[n + 2] = i + 2, r[n + 3] = i + 0, r[n + 4] = i + 2, r[n + 5] = i + 3; return r } }, {}], 122: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location; if (0 === t.indexOf("data:")) return ""; e = e || window.location, s || (s = document.createElement("a")); s.href = t; var r = !(t = o.default.parse(s.href)).port && "" === e.port || t.port === e.port; if (t.hostname !== e.hostname || !r || t.protocol !== e.protocol) return "anonymous"; return "" }; var n, i = t("url"), o = (n = i) && n.__esModule ? n : { default: n }; var s = void 0 }, { url: 29 }], 123: [function (t, e, r) { "use strict"; r.__esModule = !0, r.BaseTextureCache = r.TextureCache = r.mixins = r.pluginTarget = r.EventEmitter = r.isMobile = void 0, r.uid = function () { return ++c }, r.hex2rgb = function (t, e) { return (e = e || [])[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255, e }, r.hex2string = function (t) { return t = t.toString(16), "#" + (t = "000000".substr(0, 6 - t.length) + t) }, r.rgb2hex = function (t) { return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0) }, r.getResolutionOfUrl = function (t, e) { var r = i.default.RETINA_PREFIX.exec(t); if (r) return parseFloat(r[1]); return void 0 !== e ? e : 1 }, r.decomposeDataUri = function (t) { var e = n.DATA_URI.exec(t); if (e) return { mediaType: e[1] ? e[1].toLowerCase() : void 0, subType: e[2] ? e[2].toLowerCase() : void 0, encoding: e[3] ? e[3].toLowerCase() : void 0, data: e[4] }; return }, r.getUrlFileExtension = function (t) { var e = n.URL_FILE_EXTENSION.exec(t); if (e) return e[1].toLowerCase(); return }, r.getSvgSize = function (t) { var e = n.SVG_SIZE.exec(t), r = {}; e && (r[e[1]] = Math.round(parseFloat(e[3])), r[e[5]] = Math.round(parseFloat(e[7]))); return r }, r.skipHello = function () { f = !0 }, r.sayHello = function (t) { if (f) return; if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) { var e = ["\n %c %c %c Pixi.js " + n.VERSION + " - ✰ " + t + " ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"]; window.console.log.apply(console, e) } else window.console && window.console.log("Pixi.js " + n.VERSION + " - " + t + " - http://www.pixijs.com/"); f = !0 }, r.isWebGLSupported = function () { var t = { stencil: !0, failIfMajorPerformanceCaveat: !0 }; try { if (!window.WebGLRenderingContext) return !1; var e = document.createElement("canvas"), r = e.getContext("webgl", t) || e.getContext("experimental-webgl", t), n = !(!r || !r.getContextAttributes().stencil); if (r) { var i = r.getExtension("WEBGL_lose_context"); i && i.loseContext() } return r = null, n } catch (t) { return !1 } }, r.sign = function (t) { return 0 === t ? 0 : t < 0 ? -1 : 1 }, r.removeItems = function (t, e, r) { var n = t.length; if (e >= n || 0 === r) return; for (var i = n - (r = e + r > n ? n - e : r), o = e; o < i; ++o)t[o] = t[o + r]; t.length = i }, r.destroyTextureCache = function () { var t = void 0; for (t in d) d[t].destroy(); for (t in p) p[t].destroy() }, r.clearTextureCache = function () { var t = void 0; for (t in d) delete d[t]; for (t in p) delete p[t] }; var n = t("../const"), i = h(t("../settings")), o = h(t("eventemitter3")), s = h(t("./pluginTarget")), a = l(t("./mixin")), u = l(t("ismobilejs")); function l(t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e } function h(t) { return t && t.__esModule ? t : { default: t } } var c = 0, f = !1; r.isMobile = u, r.EventEmitter = o.default, r.pluginTarget = s.default, r.mixins = a; var d = r.TextureCache = Object.create(null), p = r.BaseTextureCache = Object.create(null) }, { "../const": 45, "../settings": 100, "./mixin": 125, "./pluginTarget": 126, eventemitter3: 3, ismobilejs: 4 }], 124: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { if (o.default.tablet || o.default.phone) return 4; return t }; var n, i = t("ismobilejs"), o = (n = i) && n.__esModule ? n : { default: n } }, { ismobilejs: 4 }], 125: [function (t, e, r) { "use strict"; function n(t, e) { if (t && e) for (var r = Object.keys(e), n = 0; n < r.length; ++n) { var i = r[n]; Object.defineProperty(t, i, Object.getOwnPropertyDescriptor(e, i)) } } r.__esModule = !0, r.mixin = n, r.delayMixin = function (t, e) { i.push(t, e) }, r.performMixins = function () { for (var t = 0; t < i.length; t += 2)n(i[t], i[t + 1]); i.length = 0 }; var i = [] }, {}], 126: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = { mixin: function (t) { !function (t) { t.__plugins = {}, t.registerPlugin = function (e, r) { t.__plugins[e] = r }, t.prototype.initPlugins = function () { for (var e in this.plugins = this.plugins || {}, t.__plugins) this.plugins[e] = new t.__plugins[e](this) }, t.prototype.destroyPlugins = function () { for (var t in this.plugins) this.plugins[t].destroy(), this.plugins[t] = null; this.plugins = null } }(t) } } }, {}], 127: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { var e = t.width, r = t.height, n = t.getContext("2d"), i = n.getImageData(0, 0, e, r).data, o = i.length, s = { top: null, left: null, right: null, bottom: null }, a = void 0, u = void 0, l = void 0; for (a = 0; a < o; a += 4)0 !== i[a + 3] && (u = a / 4 % e, l = ~~(a / 4 / e), null === s.top && (s.top = l), null === s.left ? s.left = u : u < s.left && (s.left = u), null === s.right ? s.right = u + 1 : s.right < u && (s.right = u + 1), null === s.bottom ? s.bottom = l : s.bottom < l && (s.bottom = l)); e = s.right - s.left, r = s.bottom - s.top + 1; var h = n.getImageData(s.left, s.top, e, r); return { height: r, width: e, data: h } } }, {}], 128: [function (t, e, r) { "use strict"; function n(t) { var e = (new Error).stack; void 0 === e ? console.warn("Deprecation Warning: ", t) : (e = e.split("\n").splice(3).join("\n"), console.groupCollapsed ? (console.groupCollapsed("%cDeprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", t), console.warn(e), console.groupEnd()) : (console.warn("Deprecation Warning: ", t), console.warn(e))) } r.__esModule = !0, r.default = function (t) { var e = t.mesh, r = t.particles, i = t.extras, o = t.filters, s = t.prepare, a = t.loaders, u = t.interaction; Object.defineProperties(t, { SpriteBatch: { get: function () { throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.") } }, AssetLoader: { get: function () { throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.") } }, Stage: { get: function () { return n("You do not need to use a PIXI Stage any more, you can simply render any container."), t.Container } }, DisplayObjectContainer: { get: function () { return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."), t.Container } }, Strip: { get: function () { return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."), e.Mesh } }, Rope: { get: function () { return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."), e.Rope } }, ParticleContainer: { get: function () { return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."), r.ParticleContainer } }, MovieClip: { get: function () { return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."), i.AnimatedSprite } }, TilingSprite: { get: function () { return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."), i.TilingSprite } }, BitmapText: { get: function () { return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."), i.BitmapText } }, blendModes: { get: function () { return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."), t.BLEND_MODES } }, scaleModes: { get: function () { return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."), t.SCALE_MODES } }, BaseTextureCache: { get: function () { return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."), t.utils.BaseTextureCache } }, TextureCache: { get: function () { return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."), t.utils.TextureCache } }, math: { get: function () { return n("The math namespace is deprecated, please access members already accessible on PIXI."), t } }, AbstractFilter: { get: function () { return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"), t.Filter } }, TransformManual: { get: function () { return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"), t.TransformBase } }, TARGET_FPMS: { get: function () { return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), t.settings.TARGET_FPMS }, set: function (e) { n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), t.settings.TARGET_FPMS = e } }, FILTER_RESOLUTION: { get: function () { return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), t.settings.FILTER_RESOLUTION }, set: function (e) { n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), t.settings.FILTER_RESOLUTION = e } }, RESOLUTION: { get: function () { return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), t.settings.RESOLUTION }, set: function (e) { n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), t.settings.RESOLUTION = e } }, MIPMAP_TEXTURES: { get: function () { return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), t.settings.MIPMAP_TEXTURES }, set: function (e) { n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), t.settings.MIPMAP_TEXTURES = e } }, SPRITE_BATCH_SIZE: { get: function () { return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), t.settings.SPRITE_BATCH_SIZE }, set: function (e) { n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), t.settings.SPRITE_BATCH_SIZE = e } }, SPRITE_MAX_TEXTURES: { get: function () { return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), t.settings.SPRITE_MAX_TEXTURES }, set: function (e) { n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), t.settings.SPRITE_MAX_TEXTURES = e } }, RETINA_PREFIX: { get: function () { return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), t.settings.RETINA_PREFIX }, set: function (e) { n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), t.settings.RETINA_PREFIX = e } }, DEFAULT_RENDER_OPTIONS: { get: function () { return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"), t.settings.RENDER_OPTIONS } } }); for (var l = [{ parent: "TRANSFORM_MODE", target: "TRANSFORM_MODE" }, { parent: "GC_MODES", target: "GC_MODE" }, { parent: "WRAP_MODES", target: "WRAP_MODE" }, { parent: "SCALE_MODES", target: "SCALE_MODE" }, { parent: "PRECISION", target: "PRECISION_FRAGMENT" }], h = function (e) { var r = l[e]; Object.defineProperty(t[r.parent], "DEFAULT", { get: function () { return n("PIXI." + r.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + r.target), t.settings[r.target] }, set: function (e) { n("PIXI." + r.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + r.target), t.settings[r.target] = e } }) }, c = 0; c < l.length; c++)h(c); Object.defineProperties(t.settings, { PRECISION: { get: function () { return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), t.settings.PRECISION_FRAGMENT }, set: function (e) { n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), t.settings.PRECISION_FRAGMENT = e } } }), Object.defineProperties(i, { MovieClip: { get: function () { return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."), i.AnimatedSprite } } }), t.DisplayObject.prototype.generateTexture = function (t, e, r) { return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"), t.generateTexture(this, e, r) }, t.Graphics.prototype.generateTexture = function (t, e) { return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"), this.generateCanvasTexture(t, e) }, t.RenderTexture.prototype.render = function (t, e, r, i) { this.legacyRenderer.render(t, this, r, e, !i), n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)") }, t.RenderTexture.prototype.getImage = function (t) { return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"), this.legacyRenderer.extract.image(t) }, t.RenderTexture.prototype.getBase64 = function (t) { return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"), this.legacyRenderer.extract.base64(t) }, t.RenderTexture.prototype.getCanvas = function (t) { return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"), this.legacyRenderer.extract.canvas(t) }, t.RenderTexture.prototype.getPixels = function (t) { return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"), this.legacyRenderer.pixels(t) }, t.Sprite.prototype.setTexture = function (t) { this.texture = t, n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;") }, i.BitmapText.prototype.setText = function (t) { this.text = t, n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';") }, t.Text.prototype.setText = function (t) { this.text = t, n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';") }, t.Text.calculateFontProperties = function (e) { return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"), t.TextMetrics.measureFont(e) }, Object.defineProperties(t.Text, { fontPropertiesCache: { get: function () { return n("Text.fontPropertiesCache is deprecated"), t.TextMetrics._fonts } }, fontPropertiesCanvas: { get: function () { return n("Text.fontPropertiesCanvas is deprecated"), t.TextMetrics._canvas } }, fontPropertiesContext: { get: function () { return n("Text.fontPropertiesContext is deprecated"), t.TextMetrics._context } } }), t.Text.prototype.setStyle = function (t) { this.style = t, n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;") }, t.Text.prototype.determineFontProperties = function (e) { return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"), t.TextMetrics.measureFont(e) }, t.Text.getFontStyle = function (e) { return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"), (e = e || {}) instanceof t.TextStyle || (e = new t.TextStyle(e)), e.toFontString() }, Object.defineProperties(t.TextStyle.prototype, { font: { get: function () { n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on"); var t = "number" == typeof this._fontSize ? this._fontSize + "px" : this._fontSize; return this._fontStyle + " " + this._fontVariant + " " + this._fontWeight + " " + t + " " + this._fontFamily }, set: function (t) { n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"), t.indexOf("italic") > 1 ? this._fontStyle = "italic" : t.indexOf("oblique") > -1 ? this._fontStyle = "oblique" : this._fontStyle = "normal", t.indexOf("small-caps") > -1 ? this._fontVariant = "small-caps" : this._fontVariant = "normal"; var e = t.split(" "), r = -1; this._fontSize = 26; for (var i = 0; i < e.length; ++i)if (e[i].match(/(px|pt|em|%)/)) { r = i, this._fontSize = e[i]; break } this._fontWeight = "normal"; for (var o = 0; o < r; ++o)if (e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) { this._fontWeight = e[o]; break } if (r > -1 && r < e.length - 1) { this._fontFamily = ""; for (var s = r + 1; s < e.length; ++s)this._fontFamily += e[s] + " "; this._fontFamily = this._fontFamily.slice(0, -1) } else this._fontFamily = "Arial"; this.styleID++ } } }), t.Texture.prototype.setFrame = function (t) { this.frame = t, n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;") }, t.Texture.addTextureToCache = function (e, r) { t.Texture.addToCache(e, r), n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.") }, t.Texture.removeTextureFromCache = function (e) { return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"), t.BaseTexture.removeFromCache(e), t.Texture.removeFromCache(e) }, Object.defineProperties(o, { AbstractFilter: { get: function () { return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"), t.AbstractFilter } }, SpriteMaskFilter: { get: function () { return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."), t.SpriteMaskFilter } } }), t.utils.uuid = function () { return n("utils.uuid() is deprecated, please use utils.uid() from now on."), t.utils.uid() }, t.utils.canUseNewCanvasBlendModes = function () { return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"), t.CanvasTinter.canUseMultiply }; var f = !0; if (Object.defineProperty(t.utils, "_saidHello", { set: function (t) { t && (n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"), this.skipHello()), f = t }, get: function () { return f } }), s.BasePrepare.prototype.register = function (t, e) { return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"), t && this.registerFindHook(t), e && this.registerUploadHook(e), this }, Object.defineProperty(s.canvas, "UPLOADS_PER_FRAME", { set: function () { n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer") }, get: function () { return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN } }), Object.defineProperty(s.webgl, "UPLOADS_PER_FRAME", { set: function () { n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer") }, get: function () { return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN } }), a.Loader) { var d = a.Resource, p = a.Loader; Object.defineProperties(d.prototype, { isJson: { get: function () { return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."), this.type === d.TYPE.JSON } }, isXml: { get: function () { return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."), this.type === d.TYPE.XML } }, isImage: { get: function () { return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."), this.type === d.TYPE.IMAGE } }, isAudio: { get: function () { return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."), this.type === d.TYPE.AUDIO } }, isVideo: { get: function () { return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."), this.type === d.TYPE.VIDEO } } }), Object.defineProperties(p.prototype, { before: { get: function () { return n("The before() method is deprecated, please use pre()."), this.pre } }, after: {
                get: function () {
                return n("The after() method is deprecated, please use use()."), this.use } 
                } 
            }) 
            } 
                Object.defineProperty(u.interactiveTarget, "defaultCursor", {
                    set: function (t) {
                        n("Property defaultCursor has been replaced with 'cursor'. "), 
                        this.cursor = t 
                    },
                    get: function () {
                        return n("Property defaultCursor has been replaced with 'cursor'. "),
                        this.cursor 
                    } 
                }),
                Object.defineProperty(u.InteractionManager, "defaultCursorStyle", {
                    set: function (t) {
                        n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),
                        this.cursorStyles.default = t
                    },
                    get: function () {
                        return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),
                        this.cursorStyles.default
                    }
                }),
                Object.defineProperty(u.InteractionManager, "currentCursorStyle", {
                    set: function (t) {
                        n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),
                        this.currentCursorMode = t
                    },
                    get: function () {
                        return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),
                        this.currentCursorMode
                    }
                })
            }
        },
    {}],
    129: [
        function (t, e, r) {
            "use strict";
            r.__esModule = !0;
            var n = function (t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")); var i = new n.Rectangle, o = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e, e.extract = this } return t.prototype.image = function (t) { var e = new Image; return e.src = this.base64(t), e }, t.prototype.base64 = function (t) { return this.canvas(t).toDataURL() }, t.prototype.canvas = function (t) { var e = this.renderer, r = void 0, o = void 0, s = void 0, a = void 0; t && (a = t instanceof n.RenderTexture ? t : e.generateTexture(t)), a ? (r = a.baseTexture._canvasRenderTarget.context, o = a.baseTexture._canvasRenderTarget.resolution, s = a.frame) : (r = e.rootContext, (s = i).width = this.renderer.width, s.height = this.renderer.height); var u = s.width * o, l = s.height * o, h = new n.CanvasRenderTarget(u, l), c = r.getImageData(s.x * o, s.y * o, u, l); return h.context.putImageData(c, 0, 0), h.canvas }, t.prototype.pixels = function (t) { var e = this.renderer, r = void 0, o = void 0, s = void 0, a = void 0; return t && (a = t instanceof n.RenderTexture ? t : e.generateTexture(t)), a ? (r = a.baseTexture._canvasRenderTarget.context, o = a.baseTexture._canvasRenderTarget.resolution, s = a.frame) : (r = e.rootContext, (s = i).width = e.width, s.height = e.height), r.getImageData(0, 0, s.width * o, s.height * o).data }, t.prototype.destroy = function () { this.renderer.extract = null, this.renderer = null }, t }(); r.default = o, n.CanvasRenderer.registerPlugin("extract", o) }, { "../../core": 64 }], 130: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("./webgl/WebGLExtract"); Object.defineProperty(r, "webgl", { enumerable: !0, get: function () { return o(n).default } }); var i = t("./canvas/CanvasExtract"); function o(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "canvas", { enumerable: !0, get: function () { return o(i).default } }) }, { "./canvas/CanvasExtract": 129, "./webgl/WebGLExtract": 131 }], 131: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")); var i = new n.Rectangle, o = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e, e.extract = this } return t.prototype.image = function (t) { var e = new Image; return e.src = this.base64(t), e }, t.prototype.base64 = function (t) { return this.canvas(t).toDataURL() }, t.prototype.canvas = function (t) { var e = this.renderer, r = void 0, o = void 0, s = void 0, a = !1, u = void 0; t && (u = t instanceof n.RenderTexture ? t : this.renderer.generateTexture(t)), u ? (o = (r = u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution, s = u.frame, a = !1) : (o = (r = this.renderer.rootRenderTarget).resolution, a = !0, (s = i).width = r.size.width, s.height = r.size.height); var l = s.width * o, h = s.height * o, c = new n.CanvasRenderTarget(l, h); if (r) { e.bindRenderTarget(r); var f = new Uint8Array(4 * l * h), d = e.gl; d.readPixels(s.x * o, s.y * o, l, h, d.RGBA, d.UNSIGNED_BYTE, f); var p = c.context.getImageData(0, 0, l, h); p.data.set(f), c.context.putImageData(p, 0, 0), a && (c.context.scale(1, -1), c.context.drawImage(c.canvas, 0, -h)) } return c.canvas }, t.prototype.pixels = function (t) { var e = this.renderer, r = void 0, o = void 0, s = void 0, a = void 0; t && (a = t instanceof n.RenderTexture ? t : this.renderer.generateTexture(t)), a ? (o = (r = a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution, s = a.frame) : (o = (r = this.renderer.rootRenderTarget).resolution, (s = i).width = r.size.width, s.height = r.size.height); var u = s.width * o, l = s.height * o, h = new Uint8Array(4 * u * l); if (r) { e.bindRenderTarget(r); var c = e.gl; c.readPixels(s.x * o, s.y * o, u, l, c.RGBA, c.UNSIGNED_BYTE, h) } return h }, t.prototype.destroy = function () { this.renderer.extract = null, this.renderer = null }, t }(); r.default = o, n.WebGLRenderer.registerPlugin("extract", o) }, { "../../core": 64 }], 132: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")); var o = function (t) { function e(r, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var o = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r[0] instanceof i.Texture ? r[0] : r[0].texture)); return o._textures = null, o._durations = null, o.textures = r, o._autoUpdate = !1 !== n, o.animationSpeed = 1, o.loop = !0, o.onComplete = null, o.onFrameChange = null, o._currentTime = 0, o.playing = !1, o } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.stop = function () { this.playing && (this.playing = !1, this._autoUpdate && i.ticker.shared.remove(this.update, this)) }, e.prototype.play = function () { this.playing || (this.playing = !0, this._autoUpdate && i.ticker.shared.add(this.update, this, i.UPDATE_PRIORITY.HIGH)) }, e.prototype.gotoAndStop = function (t) { this.stop(); var e = this.currentFrame; this._currentTime = t, e !== this.currentFrame && this.updateTexture() }, e.prototype.gotoAndPlay = function (t) { var e = this.currentFrame; this._currentTime = t, e !== this.currentFrame && this.updateTexture(), this.play() }, e.prototype.update = function (t) { var e = this.animationSpeed * t, r = this.currentFrame; if (null !== this._durations) { var n = this._currentTime % 1 * this._durations[this.currentFrame]; for (n += e / 60 * 1e3; n < 0;)this._currentTime--, n += this._durations[this.currentFrame]; var i = Math.sign(this.animationSpeed * t); for (this._currentTime = Math.floor(this._currentTime); n >= this._durations[this.currentFrame];)n -= this._durations[this.currentFrame] * i, this._currentTime += i; this._currentTime += n / this._durations[this.currentFrame] } else this._currentTime += e; this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : r !== this.currentFrame && this.updateTexture() }, e.prototype.updateTexture = function () { this._texture = this._textures[this.currentFrame], this._textureID = -1, this.onFrameChange && this.onFrameChange(this.currentFrame) }, e.prototype.destroy = function () { this.stop(), t.prototype.destroy.call(this) }, e.fromFrames = function (t) { for (var r = [], n = 0; n < t.length; ++n)r.push(i.Texture.fromFrame(t[n])); return new e(r) }, e.fromImages = function (t) { for (var r = [], n = 0; n < t.length; ++n)r.push(i.Texture.fromImage(t[n])); return new e(r) }, n(e, [{ key: "totalFrames", get: function () { return this._textures.length } }, { key: "textures", get: function () { return this._textures }, set: function (t) { if (t[0] instanceof i.Texture) this._textures = t, this._durations = null; else { this._textures = [], this._durations = []; for (var e = 0; e < t.length; e++)this._textures.push(t[e].texture), this._durations.push(t[e].time) } } }, { key: "currentFrame", get: function () { var t = Math.floor(this._currentTime) % this._textures.length; return t < 0 && (t += this._textures.length), t } }]), e }(i.Sprite); r.default = o }, { "../core": 64 }], 133: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")), s = t("../core/math/ObservablePoint"), a = (n = s) && n.__esModule ? n : { default: n }; var u = function (t) { function e(r) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var i = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return i._textWidth = 0, i._textHeight = 0, i._glyphs = [], i._font = { tint: void 0 !== n.tint ? n.tint : 16777215, align: n.align || "left", name: null, size: 0 }, i.font = n.font, i._text = r, i.maxWidth = 0, i.maxLineHeight = 0, i._anchor = new a.default(function () { i.dirty = !0 }, i, 0, 0), i.dirty = !1, i.updateText(), i } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.updateText = function () { for (var t = e.fonts[this._font.name], r = this._font.size / t.size, n = new o.Point, i = [], s = [], a = null, u = 0, l = 0, h = 0, c = -1, f = 0, d = 0, p = 0; p < this.text.length; p++) { var g = this.text.charCodeAt(p); if (/(\s)/.test(this.text.charAt(p)) && (c = p, f = u), /(?:\r\n|\r|\n)/.test(this.text.charAt(p))) s.push(u), l = Math.max(l, u), h++, n.x = 0, n.y += t.lineHeight, a = null; else if (-1 !== c && this.maxWidth > 0 && n.x * r > this.maxWidth) o.utils.removeItems(i, c, p - c), p = c, c = -1, s.push(f), l = Math.max(l, f), h++, n.x = 0, n.y += t.lineHeight, a = null; else { var m = t.chars[g]; m && (a && m.kerning[a] && (n.x += m.kerning[a]), i.push({ texture: m.texture, line: h, charCode: g, position: new o.Point(n.x + m.xOffset, n.y + m.yOffset) }), u = n.x + (m.texture.width + m.xOffset), n.x += m.xAdvance, d = Math.max(d, m.yOffset + m.texture.height), a = g) } } s.push(u), l = Math.max(l, u); for (var v = [], y = 0; y <= h; y++) { var _ = 0; "right" === this._font.align ? _ = l - s[y] : "center" === this._font.align && (_ = (l - s[y]) / 2), v.push(_) } for (var x = i.length, b = this.tint, T = 0; T < x; T++) { var w = this._glyphs[T]; w ? w.texture = i[T].texture : (w = new o.Sprite(i[T].texture), this._glyphs.push(w)), w.position.x = (i[T].position.x + v[i[T].line]) * r, w.position.y = i[T].position.y * r, w.scale.x = w.scale.y = r, w.tint = b, w.parent || this.addChild(w) } for (var S = x; S < this._glyphs.length; ++S)this.removeChild(this._glyphs[S]); if (this._textWidth = l * r, this._textHeight = (n.y + t.lineHeight) * r, 0 !== this.anchor.x || 0 !== this.anchor.y) for (var C = 0; C < x; C++)this._glyphs[C].x -= this._textWidth * this.anchor.x, this._glyphs[C].y -= this._textHeight * this.anchor.y; this.maxLineHeight = d * r }, e.prototype.updateTransform = function () { this.validate(), this.containerUpdateTransform() }, e.prototype.getLocalBounds = function () { return this.validate(), t.prototype.getLocalBounds.call(this) }, e.prototype.validate = function () { this.dirty && (this.updateText(), this.dirty = !1) }, e.registerFont = function (t, r) { var n = {}, i = t.getElementsByTagName("info")[0], s = t.getElementsByTagName("common")[0]; n.font = i.getAttribute("face"), n.size = parseInt(i.getAttribute("size"), 10), n.lineHeight = parseInt(s.getAttribute("lineHeight"), 10), n.chars = {}; for (var a = t.getElementsByTagName("char"), u = 0; u < a.length; u++) { var l = a[u], h = parseInt(l.getAttribute("id"), 10), c = new o.Rectangle(parseInt(l.getAttribute("x"), 10) + r.frame.x, parseInt(l.getAttribute("y"), 10) + r.frame.y, parseInt(l.getAttribute("width"), 10), parseInt(l.getAttribute("height"), 10)); n.chars[h] = { xOffset: parseInt(l.getAttribute("xoffset"), 10), yOffset: parseInt(l.getAttribute("yoffset"), 10), xAdvance: parseInt(l.getAttribute("xadvance"), 10), kerning: {}, texture: new o.Texture(r.baseTexture, c) } } for (var f = t.getElementsByTagName("kerning"), d = 0; d < f.length; d++) { var p = f[d], g = parseInt(p.getAttribute("first"), 10), m = parseInt(p.getAttribute("second"), 10), v = parseInt(p.getAttribute("amount"), 10); n.chars[m] && (n.chars[m].kerning[g] = v) } return e.fonts[n.font] = n, n }, i(e, [{ key: "tint", get: function () { return this._font.tint }, set: function (t) { this._font.tint = "number" == typeof t && t >= 0 ? t : 16777215, this.dirty = !0 } }, { key: "align", get: function () { return this._font.align }, set: function (t) { this._font.align = t || "left", this.dirty = !0 } }, { key: "anchor", get: function () { return this._anchor }, set: function (t) { "number" == typeof t ? this._anchor.set(t) : this._anchor.copy(t) } }, { key: "font", get: function () { return this._font }, set: function (t) { t && ("string" == typeof t ? (t = t.split(" "), this._font.name = 1 === t.length ? t[0] : t.slice(1).join(" "), this._font.size = t.length >= 2 ? parseInt(t[0], 10) : e.fonts[this._font.name].size) : (this._font.name = t.name, this._font.size = "number" == typeof t.size ? t.size : parseInt(t.size, 10)), this.dirty = !0) } }, { key: "text", get: function () { return this._text }, set: function (t) { t = t.toString() || " ", this._text !== t && (this._text = t, this.dirty = !0) } }, { key: "textWidth", get: function () { return this.validate(), this._textWidth } }, { key: "textHeight", get: function () { return this.validate(), this._textHeight } }]), e }(o.Container); r.default = u, u.fonts = {} }, { "../core": 64, "../core/math/ObservablePoint": 67 }], 134: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = t("../core/math/Matrix"), s = (n = o) && n.__esModule ? n : { default: n }; var a = new s.default, u = function () { function t(e, r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this._texture = e, this.mapCoord = new s.default, this.uClampFrame = new Float32Array(4), this.uClampOffset = new Float32Array(2), this._lastTextureID = -1, this.clampOffset = 0, this.clampMargin = void 0 === r ? .5 : r } return t.prototype.multiplyUvs = function (t, e) { void 0 === e && (e = t); for (var r = this.mapCoord, n = 0; n < t.length; n += 2) { var i = t[n], o = t[n + 1]; e[n] = i * r.a + o * r.c + r.tx, e[n + 1] = i * r.b + o * r.d + r.ty } return e }, t.prototype.update = function (t) { var e = this._texture; if (!e || !e.valid) return !1; if (!t && this._lastTextureID === e._updateID) return !1; this._lastTextureID = e._updateID; var r = e._uvs; this.mapCoord.set(r.x1 - r.x0, r.y1 - r.y0, r.x3 - r.x0, r.y3 - r.y0, r.x0, r.y0); var n = e.orig, i = e.trim; i && (a.set(n.width / i.width, 0, 0, n.height / i.height, -i.x / i.width, -i.y / i.height), this.mapCoord.append(a)); var o = e.baseTexture, s = this.uClampFrame, u = this.clampMargin / o.resolution, l = this.clampOffset; return s[0] = (e._frame.x + u + l) / o.width, s[1] = (e._frame.y + u + l) / o.height, s[2] = (e._frame.x + e._frame.width - u + l) / o.width, s[3] = (e._frame.y + e._frame.height - u + l) / o.height, this.uClampOffset[0] = l / o.realWidth, this.uClampOffset[1] = l / o.realHeight, !0 }, i(t, [{ key: "texture", get: function () { return this._texture }, set: function (t) { this._texture = t, this._lastTextureID = -1 } }]), t }(); r.default = u }, { "../core/math/Matrix": 66 }], 135: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")), o = a(t("../core/sprites/canvas/CanvasTinter")), s = a(t("./TextureTransform")); function a(t) { return t && t.__esModule ? t : { default: t } } var u = new i.Point, l = function (t) { function e(r) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100, o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var a = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return a.tileTransform = new i.TransformStatic, a._width = n, a._height = o, a._canvasPattern = null, a.uvTransform = r.transform || new s.default(r), a.pluginName = "tilingSprite", a.uvRespectAnchor = !1, a } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype._onTextureUpdate = function () { this.uvTransform && (this.uvTransform.texture = this._texture) }, e.prototype._renderWebGL = function (t) { var e = this._texture; e && e.valid && (this.tileTransform.updateLocalTransform(), this.uvTransform.update(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this)) }, e.prototype._renderCanvas = function (t) { var e = this._texture; if (e.baseTexture.hasLoaded) { var r = t.context, n = this.worldTransform, s = t.resolution, a = e.baseTexture, u = a.resolution, l = this.tilePosition.x / this.tileScale.x % e._frame.width * u, h = this.tilePosition.y / this.tileScale.y % e._frame.height * u; if (!this._canvasPattern) { var c = new i.CanvasRenderTarget(e._frame.width, e._frame.height, u); 16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint, this.tintedTexture = o.default.getTintedTexture(this, this.tint)), c.context.drawImage(this.tintedTexture, 0, 0)) : c.context.drawImage(a.source, -e._frame.x, -e._frame.y), this._canvasPattern = c.context.createPattern(c.canvas, "repeat") } r.globalAlpha = this.worldAlpha, r.setTransform(n.a * s, n.b * s, n.c * s, n.d * s, n.tx * s, n.ty * s), t.setBlendMode(this.blendMode), r.fillStyle = this._canvasPattern, r.scale(this.tileScale.x / u, this.tileScale.y / u); var f = this.anchor.x * -this._width, d = this.anchor.y * -this._height; this.uvRespectAnchor ? (r.translate(l, h), r.fillRect(-l + f, -h + d, this._width / this.tileScale.x * u, this._height / this.tileScale.y * u)) : (r.translate(l + f, h + d), r.fillRect(-l, -h, this._width / this.tileScale.x * u, this._height / this.tileScale.y * u)) } }, e.prototype._calculateBounds = function () { var t = this._width * -this._anchor._x, e = this._height * -this._anchor._y, r = this._width * (1 - this._anchor._x), n = this._height * (1 - this._anchor._y); this._bounds.addFrame(this.transform, t, e, r, n) }, e.prototype.getLocalBounds = function (e) { return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._x), e || (this._localBoundsRect || (this._localBoundsRect = new i.Rectangle), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e) }, e.prototype.containsPoint = function (t) { this.worldTransform.applyInverse(t, u); var e = this._width, r = this._height, n = -e * this.anchor._x; if (u.x > n && u.x < n + e) { var i = -r * this.anchor._y; if (u.y > i && u.y < i + r) return !0 } return !1 }, e.prototype.destroy = function () { t.prototype.destroy.call(this), this.tileTransform = null, this.uvTransform = null }, e.from = function (t, r, n) { return new e(i.Texture.from(t), r, n) }, e.fromFrame = function (t, r, n) { var o = i.utils.TextureCache[t]; if (!o) throw new Error('The frameId "' + t + '" does not exist in the texture cache ' + this); return new e(o, r, n) }, e.fromImage = function (t, r, n, o, s) { return new e(i.Texture.fromImage(t, o, s), r, n) }, n(e, [{ key: "clampMargin", get: function () { return this.uvTransform.clampMargin }, set: function (t) { this.uvTransform.clampMargin = t, this.uvTransform.update(!0) } }, { key: "tileScale", get: function () { return this.tileTransform.scale }, set: function (t) { this.tileTransform.scale.copy(t) } }, { key: "tilePosition", get: function () { return this.tileTransform.position }, set: function (t) { this.tileTransform.position.copy(t) } }, { key: "width", get: function () { return this._width }, set: function (t) { this._width = t } }, { key: "height", get: function () { return this._height }, set: function (t) { this._height = t } }]), e }(i.Sprite); r.default = l }, { "../core": 64, "../core/sprites/canvas/CanvasTinter": 103, "./TextureTransform": 134 }], 136: [function (t, e, r) { "use strict"; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")), i = a(t("../core/textures/Texture")), o = a(t("../core/textures/BaseTexture")), s = t("../core/utils"); function a(t) { return t && t.__esModule ? t : { default: t } } var u = n.DisplayObject, l = new n.Matrix; u.prototype._cacheAsBitmap = !1, u.prototype._cacheData = !1; var h = function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.textureCacheId = null, this.originalRenderWebGL = null, this.originalRenderCanvas = null, this.originalCalculateBounds = null, this.originalGetLocalBounds = null, this.originalUpdateTransform = null, this.originalHitTest = null, this.originalDestroy = null, this.originalMask = null, this.originalFilterArea = null, this.sprite = null }; Object.defineProperties(u.prototype, { cacheAsBitmap: { get: function () { return this._cacheAsBitmap }, set: function (t) { if (this._cacheAsBitmap !== t) { this._cacheAsBitmap = t; var e = void 0; t ? (this._cacheData || (this._cacheData = new h), (e = this._cacheData).originalRenderWebGL = this.renderWebGL, e.originalRenderCanvas = this.renderCanvas, e.originalUpdateTransform = this.updateTransform, e.originalCalculateBounds = this._calculateBounds, e.originalGetLocalBounds = this.getLocalBounds, e.originalDestroy = this.destroy, e.originalContainsPoint = this.containsPoint, e.originalMask = this._mask, e.originalFilterArea = this.filterArea, this.renderWebGL = this._renderCachedWebGL, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : ((e = this._cacheData).sprite && this._destroyCachedDisplayObject(), this.renderWebGL = e.originalRenderWebGL, this.renderCanvas = e.originalRenderCanvas, this._calculateBounds = e.originalCalculateBounds, this.getLocalBounds = e.originalGetLocalBounds, this.destroy = e.originalDestroy, this.updateTransform = e.originalUpdateTransform, this.containsPoint = e.originalContainsPoint, this._mask = e.originalMask, this.filterArea = e.originalFilterArea) } } } }), u.prototype._renderCachedWebGL = function (t) { !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t), this._cacheData.sprite._transformID = -1, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderWebGL(t)) }, u.prototype._initCachedDisplayObject = function (t) { if (!this._cacheData || !this._cacheData.sprite) { var e = this.alpha; this.alpha = 1, t.currentRenderer.flush(); var r = this.getLocalBounds().clone(); if (this._filters) { var a = this._filters[0].padding; r.pad(a) } var u = t._activeRenderTarget, h = t.filterManager.filterStack, c = n.RenderTexture.create(0 | r.width, 0 | r.height), f = "cacheAsBitmap_" + (0, s.uid)(); this._cacheData.textureCacheId = f, o.default.addToCache(c.baseTexture, f), i.default.addToCache(c, f); var d = l; d.tx = -r.x, d.ty = -r.y, this.transform.worldTransform.identity(), this.renderWebGL = this._cacheData.originalRenderWebGL, t.render(this, c, !0, d, !0), t.bindRenderTarget(u), t.filterManager.filterStack = h, this.renderWebGL = this._renderCachedWebGL, this.updateTransform = this.displayObjectUpdateTransform, this._mask = null, this.filterArea = null; var p = new n.Sprite(c); p.transform.worldTransform = this.transform.worldTransform, p.anchor.x = -r.x / r.width, p.anchor.y = -r.y / r.height, p.alpha = e, p._bounds = this._bounds, this._calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._cacheData.sprite = p, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = p.containsPoint.bind(p) } }, u.prototype._renderCachedCanvas = function (t) { !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite.renderCanvas(t)) }, u.prototype._initCachedDisplayObjectCanvas = function (t) { if (!this._cacheData || !this._cacheData.sprite) { var e = this.getLocalBounds(), r = this.alpha; this.alpha = 1; var a = t.context, u = n.RenderTexture.create(0 | e.width, 0 | e.height), h = "cacheAsBitmap_" + (0, s.uid)(); this._cacheData.textureCacheId = h, o.default.addToCache(u.baseTexture, h), i.default.addToCache(u, h); var c = l; this.transform.localTransform.copy(c), c.invert(), c.tx -= e.x, c.ty -= e.y, this.renderCanvas = this._cacheData.originalRenderCanvas, t.render(this, u, !0, c, !1), t.context = a, this.renderCanvas = this._renderCachedCanvas, this._calculateBounds = this._calculateCachedBounds, this._mask = null, this.filterArea = null; var f = new n.Sprite(u); f.transform.worldTransform = this.transform.worldTransform, f.anchor.x = -e.x / e.width, f.anchor.y = -e.y / e.height, f._bounds = this._bounds, f.alpha = r, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.updateTransform = this.displayObjectUpdateTransform, this._cacheData.sprite = f, this.containsPoint = f.containsPoint.bind(f) } }, u.prototype._calculateCachedBounds = function () { this._cacheData.sprite._calculateBounds() }, u.prototype._getCachedLocalBounds = function () { return this._cacheData.sprite.getLocalBounds() }, u.prototype._destroyCachedDisplayObject = function () { this._cacheData.sprite._texture.destroy(!0), this._cacheData.sprite = null, o.default.removeFromCache(this._cacheData.textureCacheId), i.default.removeFromCache(this._cacheData.textureCacheId), this._cacheData.textureCacheId = null }, u.prototype._cacheAsBitmapDestroy = function (t) { this.cacheAsBitmap = !1, this.destroy(t) } }, { "../core": 64, "../core/textures/BaseTexture": 111, "../core/textures/Texture": 114, "../core/utils": 123 }], 137: [function (t, e, r) { "use strict"; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")); n.DisplayObject.prototype.name = null, n.Container.prototype.getChildByName = function (t) { for (var e = 0; e < this.children.length; e++)if (this.children[e].name === t) return this.children[e]; return null } }, { "../core": 64 }], 138: [function (t, e, r) { "use strict"; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")); n.DisplayObject.prototype.getGlobalPosition = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new n.Point, e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; return this.parent ? this.parent.toGlobal(this.position, t, e) : (t.x = this.position.x, t.y = this.position.y), t } }, { "../core": 64 }], 139: [function (t, e, r) { "use strict"; r.__esModule = !0, r.BitmapText = r.TilingSpriteRenderer = r.TilingSprite = r.AnimatedSprite = void 0; var n = t("./AnimatedSprite"); Object.defineProperty(r, "AnimatedSprite", { enumerable: !0, get: function () { return a(n).default } }); var i = t("./TilingSprite"); Object.defineProperty(r, "TilingSprite", { enumerable: !0, get: function () { return a(i).default } }); var o = t("./webgl/TilingSpriteRenderer"); Object.defineProperty(r, "TilingSpriteRenderer", { enumerable: !0, get: function () { return a(o).default } }); var s = t("./BitmapText"); function a(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "BitmapText", { enumerable: !0, get: function () { return a(s).default } }), t("./cacheAsBitmap"), t("./getChildByName"), t("./getGlobalPosition") }, { "./AnimatedSprite": 132, "./BitmapText": 133, "./TilingSprite": 135, "./cacheAsBitmap": 136, "./getChildByName": 137, "./getGlobalPosition": 138, "./webgl/TilingSpriteRenderer": 140 }], 140: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), i = t("../../core/const"); t("path"); var o = new n.Matrix, s = new Float32Array(4), a = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return n.shader = null, n.simpleShader = null, n.quad = null, n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.onContextChange = function () { var t = this.renderer.gl; this.shader = new n.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"), this.simpleShader = new n.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"), this.renderer.bindVao(null), this.quad = new n.Quad(t, this.renderer.state.attribState), this.quad.initVao(this.shader) }, e.prototype.render = function (t) { var e = this.renderer, r = this.quad; e.bindVao(r.vao); var a = r.vertices; a[0] = a[6] = t._width * -t.anchor.x, a[1] = a[3] = t._height * -t.anchor.y, a[2] = a[4] = t._width * (1 - t.anchor.x), a[5] = a[7] = t._height * (1 - t.anchor.y), t.uvRespectAnchor && ((a = r.uvs)[0] = a[6] = -t.anchor.x, a[1] = a[3] = -t.anchor.y, a[2] = a[4] = 1 - t.anchor.x, a[5] = a[7] = 1 - t.anchor.y), r.upload(); var u = t._texture, l = u.baseTexture, h = t.tileTransform.localTransform, c = t.uvTransform, f = l.isPowerOfTwo && u.frame.width === l.width && u.frame.height === l.height; f && (l._glTextures[e.CONTEXT_UID] ? f = l.wrapMode !== i.WRAP_MODES.CLAMP : l.wrapMode === i.WRAP_MODES.CLAMP && (l.wrapMode = i.WRAP_MODES.REPEAT)); var d = f ? this.simpleShader : this.shader; e.bindShader(d); var p = u.width, g = u.height, m = t._width, v = t._height; o.set(h.a * p / m, h.b * p / v, h.c * g / m, h.d * g / v, h.tx / m, h.ty / v), o.invert(), f ? o.prepend(c.mapCoord) : (d.uniforms.uMapCoord = c.mapCoord.toArray(!0), d.uniforms.uClampFrame = c.uClampFrame, d.uniforms.uClampOffset = c.uClampOffset), d.uniforms.uTransform = o.toArray(!0); var y = s; n.utils.hex2rgb(t.tint, y), y[3] = t.worldAlpha, d.uniforms.uColor = y, d.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0), d.uniforms.uSampler = e.bindTexture(u), e.setBlendMode(t.blendMode), r.vao.draw(this.renderer.gl.TRIANGLES, 6, 0) }, e }(n.ObjectRenderer); r.default = a, n.WebGLRenderer.registerPlugin("tilingSprite", a) }, { "../../core": 64, "../../core/const": 45, path: 23 }], 141: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), o = a(t("./BlurXFilter")), s = a(t("./BlurYFilter")); function a(t) { return t && t.__esModule ? t : { default: t } } var u = function (t) { function e(r, n, a, u) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var l = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return l.blurXFilter = new o.default(r, n, a, u), l.blurYFilter = new s.default(r, n, a, u), l.padding = 0, l.resolution = a || i.settings.RESOLUTION, l.quality = n || 4, l.blur = r || 8, l } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.apply = function (t, e, r) { var n = t.getRenderTarget(!0); this.blurXFilter.apply(t, e, n, !0), this.blurYFilter.apply(t, n, r, !1), t.returnRenderTarget(n) }, n(e, [{ key: "blur", get: function () { return this.blurXFilter.blur }, set: function (t) { this.blurXFilter.blur = this.blurYFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) } }, { key: "quality", get: function () { return this.blurXFilter.quality }, set: function (t) { this.blurXFilter.quality = this.blurYFilter.quality = t } }, { key: "blurX", get: function () { return this.blurXFilter.blur }, set: function (t) { this.blurXFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) } }, { key: "blurY", get: function () { return this.blurYFilter.blur }, set: function (t) { this.blurYFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) } }]), e }(i.Filter); r.default = u }, { "../../core": 64, "./BlurXFilter": 142, "./BlurYFilter": 143 }], 142: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), o = u(t("./generateBlurVertSource")), s = u(t("./generateBlurFragSource")), a = u(t("./getMaxBlurKernelSize")); function u(t) { return t && t.__esModule ? t : { default: t } } var l = function (t) { function e(r, n, a, u) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), u = u || 5; var l = (0, o.default)(u, !0), h = (0, s.default)(u), c = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, l, h)); return c.resolution = a || i.settings.RESOLUTION, c._quality = 0, c.quality = n || 4, c.strength = r || 8, c.firstRun = !0, c } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.apply = function (t, e, r, n) { if (this.firstRun) { var i = t.renderer.gl, u = (0, a.default)(i); this.vertexSrc = (0, o.default)(u, !0), this.fragmentSrc = (0, s.default)(u), this.firstRun = !1 } if (this.uniforms.strength = 1 / r.size.width * (r.size.width / e.size.width), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, r, n); else { for (var l = t.getRenderTarget(!0), h = e, c = l, f = 0; f < this.passes - 1; f++) { t.applyFilter(this, h, c, !0); var d = c; c = h, h = d } t.applyFilter(this, h, r, n), t.returnRenderTarget(l) } }, n(e, [{ key: "blur", get: function () { return this.strength }, set: function (t) { this.padding = 2 * Math.abs(t), this.strength = t } }, { key: "quality", get: function () { return this._quality }, set: function (t) { this._quality = t, this.passes = t } }]), e }(i.Filter); r.default = l }, { "../../core": 64, "./generateBlurFragSource": 144, "./generateBlurVertSource": 145, "./getMaxBlurKernelSize": 146 }], 143: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), o = u(t("./generateBlurVertSource")), s = u(t("./generateBlurFragSource")), a = u(t("./getMaxBlurKernelSize")); function u(t) { return t && t.__esModule ? t : { default: t } } var l = function (t) { function e(r, n, a, u) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), u = u || 5; var l = (0, o.default)(u, !1), h = (0, s.default)(u), c = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, l, h)); return c.resolution = a || i.settings.RESOLUTION, c._quality = 0, c.quality = n || 4, c.strength = r || 8, c.firstRun = !0, c } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.apply = function (t, e, r, n) { if (this.firstRun) { var i = t.renderer.gl, u = (0, a.default)(i); this.vertexSrc = (0, o.default)(u, !1), this.fragmentSrc = (0, s.default)(u), this.firstRun = !1 } if (this.uniforms.strength = 1 / r.size.height * (r.size.height / e.size.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, r, n); else { for (var l = t.getRenderTarget(!0), h = e, c = l, f = 0; f < this.passes - 1; f++) { t.applyFilter(this, h, c, !0); var d = c; c = h, h = d } t.applyFilter(this, h, r, n), t.returnRenderTarget(l) } }, n(e, [{ key: "blur", get: function () { return this.strength }, set: function (t) { this.padding = 2 * Math.abs(t), this.strength = t } }, { key: "quality", get: function () { return this._quality }, set: function (t) { this._quality = t, this.passes = t } }]), e }(i.Filter); r.default = l }, { "../../core": 64, "./generateBlurFragSource": 144, "./generateBlurVertSource": 145, "./getMaxBlurKernelSize": 146 }], 144: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { for (var e = n[t], r = e.length, o = i, s = "", a = void 0, u = 0; u < t; u++) { var l = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%", u); a = u, u >= r && (a = t - u - 1), l = l.replace("%value%", e[a]), s += l, s += "\n" } return o = (o = o.replace("%blur%", s)).replace("%size%", t) }; var n = { 5: [.153388, .221461, .250301], 7: [.071303, .131514, .189879, .214607], 9: [.028532, .067234, .124009, .179044, .20236], 11: [.0093, .028002, .065984, .121703, .175713, .198596], 13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641], 15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448] }, i = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n") }, {}], 145: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t, e) { var r = Math.ceil(t / 2), i = n, o = "", s = void 0; s = e ? "vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);"; for (var a = 0; a < t; a++) { var u = s.replace("%index%", a); u = u.replace("%sampleIndex%", a - (r - 1) + ".0"), o += u, o += "\n" } return i = (i = i.replace("%blur%", o)).replace("%size%", t) }; var n = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform float strength;", "uniform mat3 projectionMatrix;", "varying vec2 vBlurTexCoords[%size%];", "void main(void)", "{", "gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);", "%blur%", "}"].join("\n") }, {}], 146: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function (t) { var e = t.getParameter(t.MAX_VARYING_VECTORS), r = 15; for (; r > e;)r -= 2; return r } }, {}], 147: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")); t("path"); var o = function (t) { function e() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var r = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n")); return r.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], r.alpha = 1, r } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype._loadMatrix = function (t) { var e = t; arguments.length > 1 && void 0 !== arguments[1] && arguments[1] && (this._multiply(e, this.uniforms.m, t), e = this._colorMatrix(e)), this.uniforms.m = e }, e.prototype._multiply = function (t, e, r) { return t[0] = e[0] * r[0] + e[1] * r[5] + e[2] * r[10] + e[3] * r[15], t[1] = e[0] * r[1] + e[1] * r[6] + e[2] * r[11] + e[3] * r[16], t[2] = e[0] * r[2] + e[1] * r[7] + e[2] * r[12] + e[3] * r[17], t[3] = e[0] * r[3] + e[1] * r[8] + e[2] * r[13] + e[3] * r[18], t[4] = e[0] * r[4] + e[1] * r[9] + e[2] * r[14] + e[3] * r[19] + e[4], t[5] = e[5] * r[0] + e[6] * r[5] + e[7] * r[10] + e[8] * r[15], t[6] = e[5] * r[1] + e[6] * r[6] + e[7] * r[11] + e[8] * r[16], t[7] = e[5] * r[2] + e[6] * r[7] + e[7] * r[12] + e[8] * r[17], t[8] = e[5] * r[3] + e[6] * r[8] + e[7] * r[13] + e[8] * r[18], t[9] = e[5] * r[4] + e[6] * r[9] + e[7] * r[14] + e[8] * r[19] + e[9], t[10] = e[10] * r[0] + e[11] * r[5] + e[12] * r[10] + e[13] * r[15], t[11] = e[10] * r[1] + e[11] * r[6] + e[12] * r[11] + e[13] * r[16], t[12] = e[10] * r[2] + e[11] * r[7] + e[12] * r[12] + e[13] * r[17], t[13] = e[10] * r[3] + e[11] * r[8] + e[12] * r[13] + e[13] * r[18], t[14] = e[10] * r[4] + e[11] * r[9] + e[12] * r[14] + e[13] * r[19] + e[14], t[15] = e[15] * r[0] + e[16] * r[5] + e[17] * r[10] + e[18] * r[15], t[16] = e[15] * r[1] + e[16] * r[6] + e[17] * r[11] + e[18] * r[16], t[17] = e[15] * r[2] + e[16] * r[7] + e[17] * r[12] + e[18] * r[17], t[18] = e[15] * r[3] + e[16] * r[8] + e[17] * r[13] + e[18] * r[18], t[19] = e[15] * r[4] + e[16] * r[9] + e[17] * r[14] + e[18] * r[19] + e[19], t }, e.prototype._colorMatrix = function (t) { var e = new Float32Array(t); return e[4] /= 255, e[9] /= 255, e[14] /= 255, e[19] /= 255, e }, e.prototype.brightness = function (t, e) { var r = [t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 1, 0]; this._loadMatrix(r, e) }, e.prototype.greyscale = function (t, e) { var r = [t, t, t, 0, 0, t, t, t, 0, 0, t, t, t, 0, 0, 0, 0, 0, 1, 0]; this._loadMatrix(r, e) }, e.prototype.blackAndWhite = function (t) { this._loadMatrix([.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0], t) }, e.prototype.hue = function (t, e) { t = (t || 0) / 180 * Math.PI; var r = Math.cos(t), n = Math.sin(t), i = 1 / 3, o = (0, Math.sqrt)(i), s = [r + (1 - r) * i, i * (1 - r) - o * n, i * (1 - r) + o * n, 0, 0, i * (1 - r) + o * n, r + i * (1 - r), i * (1 - r) - o * n, 0, 0, i * (1 - r) - o * n, i * (1 - r) + o * n, r + i * (1 - r), 0, 0, 0, 0, 0, 1, 0]; this._loadMatrix(s, e) }, e.prototype.contrast = function (t, e) { var r = (t || 0) + 1, n = -128 * (r - 1), i = [r, 0, 0, 0, n, 0, r, 0, 0, n, 0, 0, r, 0, n, 0, 0, 0, 1, 0]; this._loadMatrix(i, e) }, e.prototype.saturate = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = arguments[1], r = 2 * t / 3 + 1, n = -.5 * (r - 1), i = [r, n, n, 0, 0, n, r, n, 0, 0, n, n, r, 0, 0, 0, 0, 0, 1, 0]; this._loadMatrix(i, e) }, e.prototype.desaturate = function () { this.saturate(-1) }, e.prototype.negative = function (t) { this._loadMatrix([0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0], t) }, e.prototype.sepia = function (t) { this._loadMatrix([.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0], t) }, e.prototype.technicolor = function (t) { this._loadMatrix([1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0], t) }, e.prototype.polaroid = function (t) { this._loadMatrix([1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0], t) }, e.prototype.toBGR = function (t) { this._loadMatrix([0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0], t) }, e.prototype.kodachrome = function (t) { this._loadMatrix([1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0], t) }, e.prototype.browni = function (t) { this._loadMatrix([.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0], t) }, e.prototype.vintage = function (t) { this._loadMatrix([.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0], t) }, e.prototype.colorTone = function (t, e, r, n, i) { var o = ((r = r || 16770432) >> 16 & 255) / 255, s = (r >> 8 & 255) / 255, a = (255 & r) / 255, u = ((n = n || 3375104) >> 16 & 255) / 255, l = (n >> 8 & 255) / 255, h = (255 & n) / 255, c = [.3, .59, .11, 0, 0, o, s, a, t = t || .2, 0, u, l, h, e = e || .15, 0, o - u, s - l, a - h, 0, 0]; this._loadMatrix(c, i) }, e.prototype.night = function (t, e) { var r = [-2 * (t = t || .1), -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0]; this._loadMatrix(r, e) }, e.prototype.predator = function (t, e) { var r = [11.224130630493164 * t, -4.794486999511719 * t, -2.8746118545532227 * t, 0 * t, .40342438220977783 * t, -3.6330697536468506 * t, 9.193157196044922 * t, -2.951810836791992 * t, 0 * t, -1.316135048866272 * t, -3.2184197902679443 * t, -4.2375030517578125 * t, 7.476448059082031 * t, 0 * t, .8044459223747253 * t, 0, 0, 0, 1, 0]; this._loadMatrix(r, e) }, e.prototype.lsd = function (t) { this._loadMatrix([2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0], t) }, e.prototype.reset = function () { this._loadMatrix([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], !1) }, n(e, [{ key: "matrix", get: function () { return this.uniforms.m }, set: function (t) { this.uniforms.m = t } }, { key: "alpha", get: function () { return this.uniforms.uAlpha }, set: function (t) { this.uniforms.uAlpha = t } }]), e }(i.Filter); r.default = o, o.prototype.grayscale = o.prototype.greyscale }, { "../../core": 64, path: 23 }], 148: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")); t("path"); var o = function (t) { function e(r, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var o = new i.Matrix; r.renderable = !1; var s = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n")); return s.maskSprite = r, s.maskMatrix = o, s.uniforms.mapSampler = r._texture, s.uniforms.filterMatrix = o, s.uniforms.scale = { x: 1, y: 1 }, null == n && (n = 20), s.scale = new i.Point(n, n), s } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.apply = function (t, e, r) { var n = 1 / r.destinationFrame.width * (r.size.width / e.size.width); this.uniforms.filterMatrix = t.calculateSpriteMatrix(this.maskMatrix, this.maskSprite), this.uniforms.scale.x = this.scale.x * n, this.uniforms.scale.y = this.scale.y * n, t.applyFilter(this, e, r) }, n(e, [{ key: "map", get: function () { return this.uniforms.mapSampler }, set: function (t) { this.uniforms.mapSampler = t } }]), e }(i.Filter); r.default = o }, { "../../core": 64, path: 23 }], 149: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")); t("path"); var i = function (t) { function e() { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, "\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}", 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e }(n.Filter); r.default = i }, { "../../core": 64, path: 23 }], 150: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("./fxaa/FXAAFilter"); Object.defineProperty(r, "FXAAFilter", { enumerable: !0, get: function () { return c(n).default } }); var i = t("./noise/NoiseFilter"); Object.defineProperty(r, "NoiseFilter", { enumerable: !0, get: function () { return c(i).default } }); var o = t("./displacement/DisplacementFilter"); Object.defineProperty(r, "DisplacementFilter", { enumerable: !0, get: function () { return c(o).default } }); var s = t("./blur/BlurFilter"); Object.defineProperty(r, "BlurFilter", { enumerable: !0, get: function () { return c(s).default } }); var a = t("./blur/BlurXFilter"); Object.defineProperty(r, "BlurXFilter", { enumerable: !0, get: function () { return c(a).default } }); var u = t("./blur/BlurYFilter"); Object.defineProperty(r, "BlurYFilter", { enumerable: !0, get: function () { return c(u).default } }); var l = t("./colormatrix/ColorMatrixFilter"); Object.defineProperty(r, "ColorMatrixFilter", { enumerable: !0, get: function () { return c(l).default } }); var h = t("./void/VoidFilter"); function c(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "VoidFilter", { enumerable: !0, get: function () { return c(h).default } }) }, { "./blur/BlurFilter": 141, "./blur/BlurXFilter": 142, "./blur/BlurYFilter": 143, "./colormatrix/ColorMatrixFilter": 147, "./displacement/DisplacementFilter": 148, "./fxaa/FXAAFilter": 149, "./noise/NoiseFilter": 151, "./void/VoidFilter": 152 }], 151: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")); t("path"); var o = function (t) { function e() { var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Math.random(); !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var i = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n")); return i.noise = r, i.seed = n, i } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), n(e, [{ key: "noise", get: function () { return this.uniforms.uNoise }, set: function (t) { this.uniforms.uNoise = t } }, { key: "seed", get: function () { return this.uniforms.uSeed }, set: function (t) { this.uniforms.uSeed = t } }]), e }(i.Filter); r.default = o }, { "../../core": 64, path: 23 }], 152: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")); t("path"); var i = function (t) { function e() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var r = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n")); return r.glShaderKey = "void", r } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e }(n.Filter); r.default = i }, { "../../core": 64, path: 23 }], 153: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")); var i = function () { function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.global = new n.Point, this.target = null, this.originalEvent = null, this.identifier = null } return t.prototype.getLocalPosition = function (t, e, r) { return t.worldTransform.applyInverse(r || this.global, e) }, t }(); r.default = i }, { "../core": 64 }], 154: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t() { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.stopped = !1, this.target = null, this.currentTarget = null, this.type = null, this.data = null } return t.prototype.stopPropagation = function () { this.stopped = !0 }, t.prototype._reset = function () { this.stopped = !1, this.currentTarget = null, this.target = null }, t }(); r.default = n }, {}], 155: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")), o = h(t("./InteractionData")), s = h(t("./InteractionEvent")), a = h(t("./InteractionTrackingData")), u = h(t("eventemitter3")), l = h(t("./interactiveTarget")); function h(t) { return t && t.__esModule ? t : { default: t } } i.utils.mixins.delayMixin(i.DisplayObject.prototype, l.default); var c = "MOUSE", f = { target: null, data: { global: null } }, d = function (t) { function e(r, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var a = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return n = n || {}, a.renderer = r, a.autoPreventDefault = void 0 === n.autoPreventDefault || n.autoPreventDefault, a.interactionFrequency = n.interactionFrequency || 10, a.mouse = new o.default, a.mouse.identifier = c, a.mouse.global.set(-999999), a.activeInteractionData = {}, a.activeInteractionData[c] = a.mouse, a.interactionDataPool = [], a.eventData = new s.default, a.interactionDOMElement = null, a.moveWhenInside = !1, a.eventsAdded = !1, a.mouseOverRenderer = !1, a.supportsTouchEvents = "ontouchstart" in window, a.supportsPointerEvents = !!window.PointerEvent, a.onPointerUp = a.onPointerUp.bind(a), a.processPointerUp = a.processPointerUp.bind(a), a.onPointerCancel = a.onPointerCancel.bind(a), a.processPointerCancel = a.processPointerCancel.bind(a), a.onPointerDown = a.onPointerDown.bind(a), a.processPointerDown = a.processPointerDown.bind(a), a.onPointerMove = a.onPointerMove.bind(a), a.processPointerMove = a.processPointerMove.bind(a), a.onPointerOut = a.onPointerOut.bind(a), a.processPointerOverOut = a.processPointerOverOut.bind(a), a.onPointerOver = a.onPointerOver.bind(a), a.cursorStyles = { default: "inherit", pointer: "pointer" 
            },
            a.currentCursorMode = null,
            a.cursor = null,
            a._tempPoint = new i.Point,
            a.resolution = 1,
            a.setTargetElement(a.renderer.view, a.renderer.resolution),
            a
        }
    return function (t, e) {
        if ("function" != typeof e && null !== e)
            throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(
                e && e.prototype,
                {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            (e, t),
            e.prototype.hitTest = function (t, e) {
                return f.target = null,
                f.data.global = t,
                e || (e = this.renderer._lastObjectRendered),
                this.processInteractive(f, e, null, !0), f.target },
                e.prototype.setTargetElement = function (t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                    this.removeEvents(),
                    this.interactionDOMElement = t,
                    this.resolution = e, this.addEvents()
                },
                e.prototype.addEvents = function () { this.interactionDOMElement && (i.ticker.shared.add(this.update, this, i.UPDATE_PRIORITY.INTERACTION), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "none", this.interactionDOMElement.style["-ms-touch-action"] = "none") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = "none"), this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, !0), window.addEventListener("pointercancel", this.onPointerCancel, !0), window.addEventListener("pointerup", this.onPointerUp, !0)) : (window.document.addEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, !0), window.addEventListener("mouseup", this.onPointerUp, !0), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, !0))), this.eventsAdded = !0) }, e.prototype.removeEvents = function () { this.interactionDOMElement && (i.ticker.shared.remove(this.update, this), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "", this.interactionDOMElement.style["-ms-touch-action"] = "") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = ""), this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, !0), window.removeEventListener("pointercancel", this.onPointerCancel, !0), window.removeEventListener("pointerup", this.onPointerUp, !0)) : (window.document.removeEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, !0), window.removeEventListener("mouseup", this.onPointerUp, !0), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, !0))), this.interactionDOMElement = null, this.eventsAdded = !1) }, e.prototype.update = function (t) { if (this._deltaTime += t, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.interactionDOMElement)) if (this.didMove)
                    this.didMove = !1;
                else{
                    for (var e in this.cursor = null, this.activeInteractionData)
                        if (this.activeInteractionData.hasOwnProperty(e)) {
                            var r = this.activeInteractionData[e];
                            if (r.originalEvent && "touch" !== r.pointerType) {
                                var n = this.configureInteractionEventForDOMEvent(this.eventData, r.originalEvent, r);
                                this.processInteractive(n, this.renderer._lastObjectRendered, this.processPointerOverOut, !0)
                            }
                        }
                        this.setCursorMode(this.cursor)
                    }
                },
                e.prototype.setCursorMode = function (t) {
                    if (t = t || "default", this.currentCursorMode !== t) {
                        this.currentCursorMode = t;
                        var e = this.cursorStyles[t];
                        if (e) switch (void 0 === e ? "undefined" : n(e)) {
                            case "string": this.interactionDOMElement.style.cursor = e; break;
                            case "function": e(t); break;
                            case "object": Object.assign(this.interactionDOMElement.style, e)
                        }
                    }
                },
                e.prototype.dispatchEvent = function (t, e, r) { r.stopped || (r.currentTarget = t, r.type = e, t.emit(e, r), t[e] && t[e](r)) }, e.prototype.mapPositionToPoint = function (t, e, r) { var n = void 0; n = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : { x: 0, y: 0, width: 0, height: 0 }; var i = navigator.isCocoonJS ? this.resolution : 1 / this.resolution; t.x = (e - n.left) * (this.interactionDOMElement.width / n.width) * i, t.y = (r - n.top) * (this.interactionDOMElement.height / n.height) * i }, e.prototype.processInteractive = function (t, e, r, n, i) { if (!e || !e.visible) return !1; var o = t.data.global, s = !1, a = i = e.interactive || i; if (e.hitArea ? a = !1 : n && e._mask && (e._mask.containsPoint(o) || (n = !1)), e.interactiveChildren && e.children) for (var u = e.children, l = u.length - 1; l >= 0; l--) { var h = u[l], c = this.processInteractive(t, h, r, n, a); if (c) { if (!h.parent) continue; a = !1, c && (t.target && (n = !1), s = !0) } } return i && (n && !t.target && (e.hitArea ? (e.worldTransform.applyInverse(o, this._tempPoint), e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) && (s = !0)) : e.containsPoint && e.containsPoint(o) && (s = !0)), e.interactive && (s && !t.target && (t.target = e), r && r(t, e, !!s))), s }, e.prototype.onPointerDown = function (t) { var e = this.normalizeToPointerData(t); this.autoPreventDefault && e[0].isNormalized && t.preventDefault(); for (var r = e.length, n = 0; n < r; n++) { var i = e[n], o = this.getInteractionDataForPointerId(i), s = this.configureInteractionEventForDOMEvent(this.eventData, i, o); if (s.data.originalEvent = t, this.processInteractive(s, this.renderer._lastObjectRendered, this.processPointerDown, !0), this.emit("pointerdown", s), "touch" === i.pointerType) this.emit("touchstart", s); else if ("mouse" === i.pointerType) { var a = 2 === i.button || 3 === i.which; this.emit(a ? "rightdown" : "mousedown", this.eventData) } } }, e.prototype.processPointerDown = function (t, e, r) { var n = t.data.originalEvent, i = t.data.identifier; if (r) if (e.trackedPointers[i] || (e.trackedPointers[i] = new a.default(i)), this.dispatchEvent(e, "pointerdown", t), "touchstart" === n.type || "touch" === n.pointerType) this.dispatchEvent(e, "touchstart", t); else if ("mousedown" === n.type || "mouse" === n.pointerType) { var o = 2 === n.button || 3 === n.which; o ? e.trackedPointers[i].rightDown = !0 : e.trackedPointers[i].leftDown = !0, this.dispatchEvent(e, o ? "rightdown" : "mousedown", t) } }, e.prototype.onPointerComplete = function (t, e, r) { for (var n = this.normalizeToPointerData(t), i = n.length, o = t.target !== this.interactionDOMElement ? "outside" : "", s = 0; s < i; s++) { var a = n[s], u = this.getInteractionDataForPointerId(a), l = this.configureInteractionEventForDOMEvent(this.eventData, a, u); if (l.data.originalEvent = t, this.processInteractive(l, this.renderer._lastObjectRendered, r, e || !o), this.emit(e ? "pointercancel" : "pointerup" + o, l), "mouse" === a.pointerType) { var h = 2 === a.button || 3 === a.which; this.emit(h ? "rightup" + o : "mouseup" + o, l) } else "touch" === a.pointerType && (this.emit(e ? "touchcancel" : "touchend" + o, l), this.releaseInteractionDataForPointerId(a.pointerId, u)) } }, e.prototype.onPointerCancel = function (t) { this.onPointerComplete(t, !0, this.processPointerCancel) }, e.prototype.processPointerCancel = function (t, e) { var r = t.data.originalEvent, n = t.data.identifier; void 0 !== e.trackedPointers[n] && (delete e.trackedPointers[n], this.dispatchEvent(e, "pointercancel", t), "touchcancel" !== r.type && "touch" !== r.pointerType || this.dispatchEvent(e, "touchcancel", t)) }, e.prototype.onPointerUp = function (t) { this.onPointerComplete(t, !1, this.processPointerUp) }, e.prototype.processPointerUp = function (t, e, r) { var n = t.data.originalEvent, i = t.data.identifier, o = e.trackedPointers[i], s = "touchend" === n.type || "touch" === n.pointerType; if (0 === n.type.indexOf("mouse") || "mouse" === n.pointerType) { var u = 2 === n.button || 3 === n.which, l = a.default.FLAGS, h = u ? l.RIGHT_DOWN : l.LEFT_DOWN, c = void 0 !== o && o.flags & h; r ? (this.dispatchEvent(e, u ? "rightup" : "mouseup", t), c && this.dispatchEvent(e, u ? "rightclick" : "click", t)) : c && this.dispatchEvent(e, u ? "rightupoutside" : "mouseupoutside", t), o && (u ? o.rightDown = !1 : o.leftDown = !1) } r ? (this.dispatchEvent(e, "pointerup", t), s && this.dispatchEvent(e, "touchend", t), o && (this.dispatchEvent(e, "pointertap", t), s && (this.dispatchEvent(e, "tap", t), o.over = !1))) : o && (this.dispatchEvent(e, "pointerupoutside", t), s && this.dispatchEvent(e, "touchendoutside", t)), o && o.none && delete e.trackedPointers[i] }, e.prototype.onPointerMove = function (t) { var e = this.normalizeToPointerData(t); "mouse" === e[0].pointerType && (this.didMove = !0, this.cursor = null); for (var r = e.length, n = 0; n < r; n++) { var i = e[n], o = this.getInteractionDataForPointerId(i), s = this.configureInteractionEventForDOMEvent(this.eventData, i, o); s.data.originalEvent = t; var a = "touch" !== i.pointerType || this.moveWhenInside; this.processInteractive(s, this.renderer._lastObjectRendered, this.processPointerMove, a), this.emit("pointermove", s), "touch" === i.pointerType && this.emit("touchmove", s), "mouse" === i.pointerType && this.emit("mousemove", s) } "mouse" === e[0].pointerType && this.setCursorMode(this.cursor) }, e.prototype.processPointerMove = function (t, e, r) { var n = t.data.originalEvent, i = "touchmove" === n.type || "touch" === n.pointerType, o = "mousemove" === n.type || "mouse" === n.pointerType; o && this.processPointerOverOut(t, e, r), this.moveWhenInside && !r || (this.dispatchEvent(e, "pointermove", t), i && this.dispatchEvent(e, "touchmove", t), o && this.dispatchEvent(e, "mousemove", t)) }, e.prototype.onPointerOut = function (t) { var e = this.normalizeToPointerData(t)[0]; "mouse" === e.pointerType && (this.mouseOverRenderer = !1, this.setCursorMode(null)); var r = this.getInteractionDataForPointerId(e), n = this.configureInteractionEventForDOMEvent(this.eventData, e, r); n.data.originalEvent = e, this.processInteractive(n, this.renderer._lastObjectRendered, this.processPointerOverOut, !1), this.emit("pointerout", n), "mouse" === e.pointerType ? this.emit("mouseout", n) : this.releaseInteractionDataForPointerId(r.identifier) }, e.prototype.processPointerOverOut = function (t, e, r) { var n = t.data.originalEvent, i = t.data.identifier, o = "mouseover" === n.type || "mouseout" === n.type || "mouse" === n.pointerType, s = e.trackedPointers[i]; r && !s && (s = e.trackedPointers[i] = new a.default(i)), void 0 !== s && (r && this.mouseOverRenderer ? (s.over || (s.over = !0, this.dispatchEvent(e, "pointerover", t), o && this.dispatchEvent(e, "mouseover", t)), o && null === this.cursor && (this.cursor = e.cursor)) : s.over && (s.over = !1, this.dispatchEvent(e, "pointerout", this.eventData), o && this.dispatchEvent(e, "mouseout", t), s.none && delete e.trackedPointers[i])) }, e.prototype.onPointerOver = function (t) { var e = this.normalizeToPointerData(t)[0], r = this.getInteractionDataForPointerId(e), n = this.configureInteractionEventForDOMEvent(this.eventData, e, r); n.data.originalEvent = e, "mouse" === e.pointerType && (this.mouseOverRenderer = !0), this.emit("pointerover", n), "mouse" === e.pointerType && this.emit("mouseover", n) }, e.prototype.getInteractionDataForPointerId = function (t) { var e = t.pointerId; if (e === c || "mouse" === t.pointerType) return this.mouse; if (this.activeInteractionData[e]) return this.activeInteractionData[e]; var r = this.interactionDataPool.pop() || new o.default; return r.identifier = e, this.activeInteractionData[e] = r, r }, e.prototype.releaseInteractionDataForPointerId = function (t) { var e = this.activeInteractionData[t]; e && (delete this.activeInteractionData[t], this.interactionDataPool.push(e)) }, e.prototype.configureInteractionEventForDOMEvent = function (t, e, r) { return t.data = r, this.mapPositionToPoint(r.global, e.clientX, e.clientY), navigator.isCocoonJS && "touch" === e.pointerType && (r.global.x = r.global.x / this.resolution, r.global.y = r.global.y / this.resolution), "touch" === e.pointerType && (e.globalX = r.global.x, e.globalY = r.global.y), r.originalEvent = e, t._reset(), t }, e.prototype.normalizeToPointerData = function (t) { var e = []; if (this.supportsTouchEvents && t instanceof TouchEvent) for (var r = 0, n = t.changedTouches.length; r < n; r++) { var i = t.changedTouches[r]; void 0 === i.button && (i.button = t.touches.length ? 1 : 0), void 0 === i.buttons && (i.buttons = t.touches.length ? 1 : 0), void 0 === i.isPrimary && (i.isPrimary = 1 === t.touches.length), void 0 === i.width && (i.width = i.radiusX || 1), void 0 === i.height && (i.height = i.radiusY || 1), void 0 === i.tiltX && (i.tiltX = 0), void 0 === i.tiltY && (i.tiltY = 0), void 0 === i.pointerType && (i.pointerType = "touch"), void 0 === i.pointerId && (i.pointerId = i.identifier || 0), void 0 === i.pressure && (i.pressure = i.force || .5), void 0 === i.rotation && (i.rotation = i.rotationAngle || 0), void 0 === i.layerX && (i.layerX = i.offsetX = i.clientX), void 0 === i.layerY && (i.layerY = i.offsetY = i.clientY), i.isNormalized = !0, e.push(i) } else !(t instanceof MouseEvent) || this.supportsPointerEvents && t instanceof window.PointerEvent ? e.push(t) : (void 0 === t.isPrimary && (t.isPrimary = !0), void 0 === t.width && (t.width = 1), void 0 === t.height && (t.height = 1), void 0 === t.tiltX && (t.tiltX = 0), void 0 === t.tiltY && (t.tiltY = 0), void 0 === t.pointerType && (t.pointerType = "mouse"), void 0 === t.pointerId && (t.pointerId = c), void 0 === t.pressure && (t.pressure = .5), void 0 === t.rotation && (t.rotation = 0), t.isNormalized = !0, e.push(t)); return e }, e.prototype.destroy = function () { this.removeEvents(), this.removeAllListeners(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactionDOMElement = null, this.onPointerDown = null, this.processPointerDown = null, this.onPointerUp = null, this.processPointerUp = null, this.onPointerCancel = null, this.processPointerCancel = null, this.onPointerMove = null, this.processPointerMove = null, this.onPointerOut = null, this.processPointerOverOut = null, this.onPointerOver = null, this._tempPoint = null }, e }(u.default); r.default = d, i.WebGLRenderer.registerPlugin("interaction", d), i.CanvasRenderer.registerPlugin("interaction", d) }, { "../core": 64, "./InteractionData": 153, "./InteractionEvent": 154, "./InteractionTrackingData": 156, "./interactiveTarget": 158, eventemitter3: 3 }], 156: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(); var i = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this._pointerId = e, this._flags = t.FLAGS.NONE } return t.prototype._doSet = function (t, e) { this._flags = e ? this._flags | t : this._flags & ~t }, n(t, [{ key: "pointerId", get: function () { return this._pointerId } }, { key: "flags", get: function () { return this._flags }, set: function (t) { this._flags = t } }, { key: "none", get: function () { return this._flags === this.constructor.FLAGS.NONE } }, { key: "over", get: function () { return 0 != (this._flags & this.constructor.FLAGS.OVER) }, set: function (t) { this._doSet(this.constructor.FLAGS.OVER, t) } }, { key: "rightDown", get: function () { return 0 != (this._flags & this.constructor.FLAGS.RIGHT_DOWN) }, set: function (t) { this._doSet(this.constructor.FLAGS.RIGHT_DOWN, t) } }, { key: "leftDown", get: function () { return 0 != (this._flags & this.constructor.FLAGS.LEFT_DOWN) }, set: function (t) { this._doSet(this.constructor.FLAGS.LEFT_DOWN, t) } }]), t }(); r.default = i, i.FLAGS = Object.freeze({ NONE: 0, OVER: 1, LEFT_DOWN: 2, RIGHT_DOWN: 4 }) }, {}], 157: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("./InteractionData"); Object.defineProperty(r, "InteractionData", { enumerable: !0, get: function () { return s(n).default } }); var i = t("./InteractionManager"); Object.defineProperty(r, "InteractionManager", { enumerable: !0, get: function () { return s(i).default } }); var o = t("./interactiveTarget"); function s(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "interactiveTarget", { enumerable: !0, get: function () { return s(o).default } }) }, { "./InteractionData": 153, "./InteractionManager": 155, "./interactiveTarget": 158 }], 158: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = { interactive: !1, interactiveChildren: !0, hitArea: null, get buttonMode() { return "pointer" === this.cursor }, set buttonMode(t) { t ? this.cursor = "pointer" : "pointer" === this.cursor && (this.cursor = null) }, cursor: null, get trackedPointers() { return void 0 === this._trackedPointers && (this._trackedPointers = {}), this._trackedPointers }, _trackedPointers: void 0 } }, {}], 159: [function (t, e, r) { "use strict"; r.__esModule = !0, r.parse = a, r.default = function () { return function (t, e) { if (t.data && t.type === o.Resource.TYPE.XML) if (0 !== t.data.getElementsByTagName("page").length && 0 !== t.data.getElementsByTagName("info").length && null !== t.data.getElementsByTagName("info")[0].getAttribute("face")) { var r = t.isDataUrl ? "" : n.dirname(t.url); t.isDataUrl && ("." === r && (r = ""), this.baseUrl && r && ("/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (r += "/"), r = r.replace(this.baseUrl, ""))), r && "/" !== r.charAt(r.length - 1) && (r += "/"); var s = r + t.data.getElementsByTagName("page")[0].getAttribute("file"); if (i.utils.TextureCache[s]) a(t, i.utils.TextureCache[s]), e(); else { var u = { crossOrigin: t.crossOrigin, loadType: o.Resource.LOAD_TYPE.IMAGE, metadata: t.metadata.imageMetadata, parentResource: t }; this.add(t.name + "_image", s, u, function (r) { a(t, r.texture), e() }) } } else e(); else e() } }; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("path")), i = t("../core"), o = t("resource-loader"), s = t("../extras"); function a(t, e) { t.bitmapFont = s.BitmapText.registerFont(t.data, e) } }, { "../core": 64, "../extras": 139, path: 23, "resource-loader": 35 }], 160: [function (t, e, r) { "use strict"; r.__esModule = !0, r.shared = r.Resource = r.textureParser = r.getResourcePath = r.spritesheetParser = r.parseBitmapFontData = r.bitmapFontParser = r.Loader = void 0; var n = t("./bitmapFontParser"); Object.defineProperty(r, "bitmapFontParser", { enumerable: !0, get: function () { return l(n).default } }), Object.defineProperty(r, "parseBitmapFontData", { enumerable: !0, get: function () { return n.parse } }); var i = t("./spritesheetParser"); Object.defineProperty(r, "spritesheetParser", { enumerable: !0, get: function () { return l(i).default } }), Object.defineProperty(r, "getResourcePath", { enumerable: !0, get: function () { return i.getResourcePath } }); var o = t("./textureParser"); Object.defineProperty(r, "textureParser", { enumerable: !0, get: function () { return l(o).default } }); var s = t("resource-loader"); Object.defineProperty(r, "Resource", { enumerable: !0, get: function () { return s.Resource } }); var a = l(t("../core/Application")), u = l(t("./loader")); function l(t) { return t && t.__esModule ? t : { default: t } } r.Loader = u.default; var h = new u.default; h.destroy = function () { }, r.shared = h; var c = a.default.prototype; c._loader = null, Object.defineProperty(c, "loader", { get: function () { if (!this._loader) { var t = this._options.sharedLoader; this._loader = t ? h : new u.default } return this._loader } }), c._parentDestroy = c.destroy, c.destroy = function () { this._loader && (this._loader.destroy(), this._loader = null), this._parentDestroy() } }, { "../core/Application": 42, "./bitmapFontParser": 159, "./loader": 161, "./spritesheetParser": 162, "./textureParser": 163, "resource-loader": 35 }], 161: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = l(t("resource-loader")), i = t("resource-loader/lib/middlewares/parsing/blob"), o = l(t("eventemitter3")), s = l(t("./textureParser")), a = l(t("./spritesheetParser")), u = l(t("./bitmapFontParser")); function l(t) { return t && t.__esModule ? t : { default: t } } var h = function (t) { function e(r, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var i = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r, n)); o.default.call(i); for (var s = 0; s < e._pixiMiddleware.length; ++s)i.use(e._pixiMiddleware[s]()); return i.onStart.add(function (t) { return i.emit("start", t) }), i.onProgress.add(function (t, e) { return i.emit("progress", t, e) }), i.onError.add(function (t, e, r) { return i.emit("error", t, e, r) }), i.onLoad.add(function (t, e) { return i.emit("load", t, e) }), i.onComplete.add(function (t, e) { return i.emit("complete", t, e) }), i } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.addPixiMiddleware = function (t) { e._pixiMiddleware.push(t) }, e.prototype.destroy = function () { this.removeAllListeners(), this.reset() }, e }(n.default); for (var c in r.default = h, o.default.prototype) h.prototype[c] = o.default.prototype[c]; h._pixiMiddleware = [i.blobMiddlewareFactory, s.default, a.default, u.default]; var f = n.default.Resource; f.setExtensionXhrType("fnt", f.XHR_RESPONSE_TYPE.DOCUMENT) }, { "./bitmapFontParser": 159, "./spritesheetParser": 162, "./textureParser": 163, eventemitter3: 3, "resource-loader": 35, "resource-loader/lib/middlewares/parsing/blob": 36 }], 162: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function () { return function (t, e) { var r = t.name + "_image"; if (t.data && t.type === i.Resource.TYPE.JSON && t.data.frames && !this.resources[r]) { var n = { crossOrigin: t.crossOrigin, loadType: i.Resource.LOAD_TYPE.IMAGE, metadata: t.metadata.imageMetadata, parentResource: t }, o = u(t, this.baseUrl); this.add(r, o, n, function (r) { var n = new a.Spritesheet(r.texture.baseTexture, t.data, t.url); n.parse(function () { t.spritesheet = n, t.textures = n.textures, e() }) }) } else e() } }, r.getResourcePath = u; var n, i = t("resource-loader"), o = t("url"), s = (n = o) && n.__esModule ? n : { default: n }, a = t("../core"); function u(t, e) { return t.isDataUrl ? t.data.meta.image : s.default.resolve(t.url.replace(e, ""), t.data.meta.image) } }, { "../core": 64, "resource-loader": 35, url: 29 }], 163: [function (t, e, r) { "use strict"; r.__esModule = !0, r.default = function () { return function (t, e) { t.data && t.type === i.Resource.TYPE.IMAGE && (t.texture = s.default.fromLoader(t.data, t.url, t.name)), e() } }; var n, i = t("resource-loader"), o = t("../core/textures/Texture"), s = (n = o) && n.__esModule ? n : { default: n } }, { "../core/textures/Texture": 114, "resource-loader": 35 }], 164: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")), s = t("../extras/TextureTransform"), a = (n = s) && n.__esModule ? n : { default: n }; var u = new o.Point, l = new o.Polygon, h = function (t) { function e(r, n, i, s, u) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var l = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return l._texture = r, l.uvs = i || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), l.vertices = n || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]), l.indices = s || new Uint16Array([0, 1, 3, 2]), l.dirty = 0, l.indexDirty = 0, l.blendMode = o.BLEND_MODES.NORMAL, l.canvasPadding = 0, l.drawMode = u || e.DRAW_MODES.TRIANGLE_MESH, l.shader = null, l.tintRgb = new Float32Array([1, 1, 1]), l._glDatas = {}, l._uvTransform = new a.default(r), l.uploadUvTransform = !1, l.pluginName = "mesh", l } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype._renderWebGL = function (t) { this.refresh(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this) }, e.prototype._renderCanvas = function (t) { this.refresh(), t.plugins[this.pluginName].render(this) }, e.prototype._onTextureUpdate = function () { this._uvTransform.texture = this._texture, this.refresh() }, e.prototype.multiplyUvs = function () { this.uploadUvTransform || this._uvTransform.multiplyUvs(this.uvs) }, e.prototype.refresh = function (t) { this._uvTransform.update(t) && this._refresh() }, e.prototype._refresh = function () { }, e.prototype._calculateBounds = function () { this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length) }, e.prototype.containsPoint = function (t) { if (!this.getBounds().contains(t.x, t.y)) return !1; this.worldTransform.applyInverse(t, u); for (var r = this.vertices, n = l.points, i = this.indices, o = this.indices.length, s = this.drawMode === e.DRAW_MODES.TRIANGLES ? 3 : 1, a = 0; a + 2 < o; a += s) { var h = 2 * i[a], c = 2 * i[a + 1], f = 2 * i[a + 2]; if (n[0] = r[h], n[1] = r[h + 1], n[2] = r[c], n[3] = r[c + 1], n[4] = r[f], n[5] = r[f + 1], l.contains(u.x, u.y)) return !0 } return !1 }, i(e, [{ key: "texture", get: function () { return this._texture }, set: function (t) { this._texture !== t && (this._texture = t, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this))) } }, { key: "tint", get: function () { return o.utils.rgb2hex(this.tintRgb) }, set: function (t) { this.tintRgb = o.utils.hex2rgb(t, this.tintRgb) } }]), e }(o.Container); r.default = h, h.DRAW_MODES = { TRIANGLE_MESH: 0, TRIANGLES: 1 } }, { "../core": 64, "../extras/TextureTransform": 134 }], 165: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function () { function t(t, e) { for (var r = 0; r < e.length; r++) { var n = e[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function (e, r, n) { return r && t(e.prototype, r), n && t(e, n), e } }(), o = t("./Plane"), s = (n = o) && n.__esModule ? n : { default: n }; var a = 10, u = function (t) { function e(r, n, i, o, s) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var u = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r, 4, 4)), l = u.uvs; return l[6] = l[14] = l[22] = l[30] = 1, l[25] = l[27] = l[29] = l[31] = 1, u._origWidth = r.orig.width, u._origHeight = r.orig.height, u._uvw = 1 / u._origWidth, u._uvh = 1 / u._origHeight, u.width = u._origWidth, u.height = u._origHeight, l[2] = l[10] = l[18] = l[26] = u._uvw * n, l[4] = l[12] = l[20] = l[28] = 1 - u._uvw * o, l[9] = l[11] = l[13] = l[15] = u._uvh * i, l[17] = l[19] = l[21] = l[23] = 1 - u._uvh * s, u.leftWidth = void 0 !== n ? n : a, u.rightWidth = void 0 !== o ? o : a, u.topHeight = void 0 !== i ? i : a, u.bottomHeight = void 0 !== s ? s : a, u.refresh(!0), u } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.updateHorizontalVertices = function () { var t = this.vertices; t[9] = t[11] = t[13] = t[15] = this._topHeight, t[17] = t[19] = t[21] = t[23] = this._height - this._bottomHeight, t[25] = t[27] = t[29] = t[31] = this._height }, e.prototype.updateVerticalVertices = function () { var t = this.vertices; t[2] = t[10] = t[18] = t[26] = this._leftWidth, t[4] = t[12] = t[20] = t[28] = this._width - this._rightWidth, t[6] = t[14] = t[22] = t[30] = this._width }, e.prototype._renderCanvas = function (t) { var e = t.context; e.globalAlpha = this.worldAlpha; var r = this.worldTransform, n = t.resolution; t.roundPixels ? e.setTransform(r.a * n, r.b * n, r.c * n, r.d * n, r.tx * n | 0, r.ty * n | 0) : e.setTransform(r.a * n, r.b * n, r.c * n, r.d * n, r.tx * n, r.ty * n); var i = this._texture.baseTexture, o = i.source, s = i.width, a = i.height; this.drawSegment(e, o, s, a, 0, 1, 10, 11), this.drawSegment(e, o, s, a, 2, 3, 12, 13), this.drawSegment(e, o, s, a, 4, 5, 14, 15), this.drawSegment(e, o, s, a, 8, 9, 18, 19), this.drawSegment(e, o, s, a, 10, 11, 20, 21), this.drawSegment(e, o, s, a, 12, 13, 22, 23), this.drawSegment(e, o, s, a, 16, 17, 26, 27), this.drawSegment(e, o, s, a, 18, 19, 28, 29), this.drawSegment(e, o, s, a, 20, 21, 30, 31) }, e.prototype.drawSegment = function (t, e, r, n, i, o, s, a) { var u = this.uvs, l = this.vertices, h = (u[s] - u[i]) * r, c = (u[a] - u[o]) * n, f = l[s] - l[i], d = l[a] - l[o]; h < 1 && (h = 1), c < 1 && (c = 1), f < 1 && (f = 1), d < 1 && (d = 1), t.drawImage(e, u[i] * r, u[o] * n, h, c, l[i], l[o], f, d) }, i(e, [{ key: "width", get: function () { return this._width }, set: function (t) { this._width = t, this.updateVerticalVertices() } }, { key: "height", get: function () { return this._height }, set: function (t) { this._height = t, this.updateHorizontalVertices() } }, { key: "leftWidth", get: function () { return this._leftWidth }, set: function (t) { this._leftWidth = t; var e = this.uvs, r = this.vertices; e[2] = e[10] = e[18] = e[26] = this._uvw * t, r[2] = r[10] = r[18] = r[26] = t, this.dirty = !0 } }, { key: "rightWidth", get: function () { return this._rightWidth }, set: function (t) { this._rightWidth = t; var e = this.uvs, r = this.vertices; e[4] = e[12] = e[20] = e[28] = 1 - this._uvw * t, r[4] = r[12] = r[20] = r[28] = this._width - t, this.dirty = !0 } }, { key: "topHeight", get: function () { return this._topHeight }, set: function (t) { this._topHeight = t; var e = this.uvs, r = this.vertices; e[9] = e[11] = e[13] = e[15] = this._uvh * t, r[9] = r[11] = r[13] = r[15] = t, this.dirty = !0 } }, { key: "bottomHeight", get: function () { return this._bottomHeight }, set: function (t) { this._bottomHeight = t; var e = this.uvs, r = this.vertices; e[17] = e[19] = e[21] = e[23] = 1 - this._uvh * t, r[17] = r[19] = r[21] = r[23] = this._height - t, this.dirty = !0 } }]), e }(s.default); r.default = u }, { "./Plane": 166 }], 166: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("./Mesh"), o = (n = i) && n.__esModule ? n : { default: n }; var s = function (t) { function e(r, n, i) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var s = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return s._ready = !0, s.verticesX = n || 10, s.verticesY = i || 10, s.drawMode = o.default.DRAW_MODES.TRIANGLES, s.refresh(), s } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype._refresh = function () { for (var t = this._texture, e = this.verticesX * this.verticesY, r = [], n = [], i = [], o = this.verticesX - 1, s = this.verticesY - 1, a = t.width / o, u = t.height / s, l = 0; l < e; l++) { var h = l % this.verticesX, c = l / this.verticesX | 0; r.push(h * a, c * u), n.push(h / o, c / s) } for (var f = o * s, d = 0; d < f; d++) { var p = d % o, g = d / o | 0, m = g * this.verticesX + p, v = g * this.verticesX + p + 1, y = (g + 1) * this.verticesX + p, _ = (g + 1) * this.verticesX + p + 1; i.push(m, v, y), i.push(v, _, y) } this.vertices = new Float32Array(r), this.uvs = new Float32Array(n), this.colors = new Float32Array([]), this.indices = new Uint16Array(i), this.indexDirty = !0, this.multiplyUvs() }, e.prototype._onTextureUpdate = function () { o.default.prototype._onTextureUpdate.call(this), this._ready && this.refresh() }, e }(o.default); r.default = s }, { "./Mesh": 164 }], 167: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("./Mesh"); var o = function (t) { function e(r, n) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var i = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return i.points = n, i.vertices = new Float32Array(4 * n.length), i.uvs = new Float32Array(4 * n.length), i.colors = new Float32Array(2 * n.length), i.indices = new Uint16Array(2 * n.length), i.autoUpdate = !0, i.refresh(), i } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype._refresh = function () { var t = this.points; if (!(t.length < 1) && this._texture._uvs) { this.vertices.length / 4 !== t.length && (this.vertices = new Float32Array(4 * t.length), this.uvs = new Float32Array(4 * t.length), this.colors = new Float32Array(2 * t.length), this.indices = new Uint16Array(2 * t.length)); var e = this.uvs, r = this.indices, n = this.colors; e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 1, n[0] = 1, n[1] = 1, r[0] = 0, r[1] = 1; for (var i = t.length, o = 1; o < i; o++) { var s = 4 * o, a = o / (i - 1); e[s] = a, e[s + 1] = 0, e[s + 2] = a, e[s + 3] = 1, n[s = 2 * o] = 1, n[s + 1] = 1, r[s = 2 * o] = s, r[s + 1] = s + 1 } this.dirty++, this.indexDirty++, this.multiplyUvs(), this.refreshVertices() } }, e.prototype.refreshVertices = function () { var t = this.points; if (!(t.length < 1)) for (var e = t[0], r = void 0, n = 0, i = 0, o = this.vertices, s = t.length, a = 0; a < s; a++) { var u = t[a], l = 4 * a; i = -((r = a < t.length - 1 ? t[a + 1] : u).x - e.x), n = r.y - e.y; var h = 10 * (1 - a / (s - 1)); h > 1 && (h = 1); var c = Math.sqrt(n * n + i * i), f = this._texture.height / 2; n /= c, i /= c, n *= f, i *= f, o[l] = u.x + n, o[l + 1] = u.y + i, o[l + 2] = u.x - n, o[l + 3] = u.y - i, e = u } }, e.prototype.updateTransform = function () { this.autoUpdate && this.refreshVertices(), this.containerUpdateTransform() }, e }(((n = i) && n.__esModule ? n : { default: n }).default); r.default = o }, { "./Mesh": 164 }], 168: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), o = t("../Mesh"), s = (n = o) && n.__esModule ? n : { default: n }; var a = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.renderer = e } return t.prototype.render = function (t) { var e = this.renderer, r = e.context, n = t.worldTransform, i = e.resolution; e.roundPixels ? r.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i | 0, n.ty * i | 0) : r.setTransform(n.a * i, n.b * i, n.c * i, n.d * i, n.tx * i, n.ty * i), e.setBlendMode(t.blendMode), t.drawMode === s.default.DRAW_MODES.TRIANGLE_MESH ? this._renderTriangleMesh(t) : this._renderTriangles(t) }, t.prototype._renderTriangleMesh = function (t) { for (var e = t.vertices.length / 2, r = 0; r < e - 2; r++) { var n = 2 * r; this._renderDrawTriangle(t, n, n + 2, n + 4) } }, t.prototype._renderTriangles = function (t) { for (var e = t.indices, r = e.length, n = 0; n < r; n += 3) { var i = 2 * e[n], o = 2 * e[n + 1], s = 2 * e[n + 2]; this._renderDrawTriangle(t, i, o, s) } }, t.prototype._renderDrawTriangle = function (t, e, r, n) { var i = this.renderer.context, o = t.uvs, s = t.vertices, a = t._texture; if (a.valid) { var u = a.baseTexture, l = u.source, h = u.width, c = u.height, f = void 0, d = void 0, p = void 0, g = void 0, m = void 0, v = void 0; if (t.uploadUvTransform) { var y = t._uvTransform.mapCoord; f = (o[e] * y.a + o[e + 1] * y.c + y.tx) * u.width, d = (o[r] * y.a + o[r + 1] * y.c + y.tx) * u.width, p = (o[n] * y.a + o[n + 1] * y.c + y.tx) * u.width, g = (o[e] * y.b + o[e + 1] * y.d + y.ty) * u.height, m = (o[r] * y.b + o[r + 1] * y.d + y.ty) * u.height, v = (o[n] * y.b + o[n + 1] * y.d + y.ty) * u.height } else f = o[e] * u.width, d = o[r] * u.width, p = o[n] * u.width, g = o[e + 1] * u.height, m = o[r + 1] * u.height, v = o[n + 1] * u.height; var _ = s[e], x = s[r], b = s[n], T = s[e + 1], w = s[r + 1], S = s[n + 1]; if (t.canvasPadding > 0) { var C = t.canvasPadding / t.worldTransform.a, E = t.canvasPadding / t.worldTransform.d, O = (_ + x + b) / 3, P = (T + w + S) / 3, A = _ - O, M = T - P, R = Math.sqrt(A * A + M * M); _ = O + A / R * (R + C), T = P + M / R * (R + E), M = w - P, x = O + (A = x - O) / (R = Math.sqrt(A * A + M * M)) * (R + C), w = P + M / R * (R + E), M = S - P, b = O + (A = b - O) / (R = Math.sqrt(A * A + M * M)) * (R + C), S = P + M / R * (R + E) } i.save(), i.beginPath(), i.moveTo(_, T), i.lineTo(x, w), i.lineTo(b, S), i.closePath(), i.clip(); var D = f * m + g * p + d * v - m * p - g * d - f * v, I = _ * m + g * b + x * v - m * b - g * x - _ * v, L = f * x + _ * p + d * b - x * p - _ * d - f * b, F = f * m * b + g * x * p + _ * d * v - _ * m * p - g * d * b - f * x * v, k = T * m + g * S + w * v - m * S - g * w - T * v, j = f * w + T * p + d * S - w * p - T * d - f * S, N = f * m * S + g * w * p + T * d * v - T * m * p - g * d * S - f * w * v; i.transform(I / D, k / D, L / D, j / D, F / D, N / D), i.drawImage(l, 0, 0, h * u.resolution, c * u.resolution, 0, 0, h, c), i.restore() } }, t.prototype.renderMeshFlat = function (t) { var e = this.renderer.context, r = t.vertices, n = r.length / 2; e.beginPath(); for (var i = 1; i < n - 2; ++i) { var o = 2 * i, s = r[o], a = r[o + 1], u = r[o + 2], l = r[o + 3], h = r[o + 4], c = r[o + 5]; e.moveTo(s, a), e.lineTo(u, l), e.lineTo(h, c) } e.fillStyle = "#FF0000", e.fill(), e.closePath() }, t.prototype.destroy = function () { this.renderer = null }, t }(); r.default = a, i.CanvasRenderer.registerPlugin("mesh", a) }, { "../../core": 64, "../Mesh": 164 }], 169: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("./Mesh"); Object.defineProperty(r, "Mesh", { enumerable: !0, get: function () { return l(n).default } }); var i = t("./webgl/MeshRenderer"); Object.defineProperty(r, "MeshRenderer", { enumerable: !0, get: function () { return l(i).default } }); var o = t("./canvas/CanvasMeshRenderer"); Object.defineProperty(r, "CanvasMeshRenderer", { enumerable: !0, get: function () { return l(o).default } }); var s = t("./Plane"); Object.defineProperty(r, "Plane", { enumerable: !0, get: function () { return l(s).default } }); var a = t("./NineSlicePlane"); Object.defineProperty(r, "NineSlicePlane", { enumerable: !0, get: function () { return l(a).default } }); var u = t("./Rope"); function l(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "Rope", { enumerable: !0, get: function () { return l(u).default } }) }, { "./Mesh": 164, "./NineSlicePlane": 165, "./Plane": 166, "./Rope": 167, "./canvas/CanvasMeshRenderer": 168, "./webgl/MeshRenderer": 170 }], 170: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), i = s(t("pixi-gl-core")), o = s(t("../Mesh")); t("path"); function s(t) { return t && t.__esModule ? t : { default: t } } var a = n.Matrix.IDENTITY, u = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return n.shader = null, n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.onContextChange = function () { var t = this.renderer.gl; this.shader = new n.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n") }, e.prototype.render = function (t) { var e = this.renderer, r = e.gl, n = t._texture; if (n.valid) { var s = t._glDatas[e.CONTEXT_UID]; s || (e.bindVao(null), (s = { shader: this.shader, vertexBuffer: i.default.GLBuffer.createVertexBuffer(r, t.vertices, r.STREAM_DRAW), uvBuffer: i.default.GLBuffer.createVertexBuffer(r, t.uvs, r.STREAM_DRAW), indexBuffer: i.default.GLBuffer.createIndexBuffer(r, t.indices, r.STATIC_DRAW), vao: null, dirty: t.dirty, indexDirty: t.indexDirty }).vao = new i.default.VertexArrayObject(r).addIndex(s.indexBuffer).addAttribute(s.vertexBuffer, s.shader.attributes.aVertexPosition, r.FLOAT, !1, 8, 0).addAttribute(s.uvBuffer, s.shader.attributes.aTextureCoord, r.FLOAT, !1, 8, 0), t._glDatas[e.CONTEXT_UID] = s), e.bindVao(s.vao), t.dirty !== s.dirty && (s.dirty = t.dirty, s.uvBuffer.upload(t.uvs)), t.indexDirty !== s.indexDirty && (s.indexDirty = t.indexDirty, s.indexBuffer.upload(t.indices)), s.vertexBuffer.upload(t.vertices), e.bindShader(s.shader), s.shader.uniforms.uSampler = e.bindTexture(n), e.state.setBlendMode(t.blendMode), s.shader.uniforms.uTransform && (t.uploadUvTransform ? s.shader.uniforms.uTransform = t._uvTransform.mapCoord.toArray(!0) : s.shader.uniforms.uTransform = a.toArray(!0)), s.shader.uniforms.translationMatrix = t.worldTransform.toArray(!0), s.shader.uniforms.alpha = t.worldAlpha, s.shader.uniforms.tint = t.tintRgb; var u = t.drawMode === o.default.DRAW_MODES.TRIANGLE_MESH ? r.TRIANGLE_STRIP : r.TRIANGLES; s.vao.draw(u, t.indices.length, 0) } }, e }(n.ObjectRenderer); r.default = u, n.WebGLRenderer.registerPlugin("mesh", u) }, { "../../core": 64, "../Mesh": 164, path: 23, "pixi-gl-core": 12 }], 171: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")); var i = function (t) { function e() { var r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1500, i = arguments[1], o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16384; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var s = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this)); return o > 16384 && (o = 16384), o > r && (o = r), s._properties = [!1, !0, !1, !1, !1], s._maxSize = r, s._batchSize = o, s._glBuffers = {}, s._bufferToUpdate = 0, s.interactiveChildren = !1, s.blendMode = n.BLEND_MODES.NORMAL, s.roundPixels = !0, s.baseTexture = null, s.setProperties(i), s } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.setProperties = function (t) { t && (this._properties[0] = "scale" in t ? !!t.scale : this._properties[0], this._properties[1] = "position" in t ? !!t.position : this._properties[1], this._properties[2] = "rotation" in t ? !!t.rotation : this._properties[2], this._properties[3] = "uvs" in t ? !!t.uvs : this._properties[3], this._properties[4] = "alpha" in t ? !!t.alpha : this._properties[4]) }, e.prototype.updateTransform = function () { this.displayObjectUpdateTransform() }, e.prototype.renderWebGL = function (t) { var e = this; this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture, this.baseTexture.hasLoaded || this.baseTexture.once("update", function () { return e.onChildrenChange(0) })), t.setObjectRenderer(t.plugins.particle), t.plugins.particle.render(this)) }, e.prototype.onChildrenChange = function (t) { var e = Math.floor(t / this._batchSize); e < this._bufferToUpdate && (this._bufferToUpdate = e) }, e.prototype.renderCanvas = function (t) { if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) { var e = t.context, r = this.worldTransform, n = !0, i = 0, o = 0, s = 0, a = 0, u = t.blendModes[this.blendMode]; u !== e.globalCompositeOperation && (e.globalCompositeOperation = u), e.globalAlpha = this.worldAlpha, this.displayObjectUpdateTransform(); for (var l = 0; l < this.children.length; ++l) { var h = this.children[l]; if (h.visible) { var c = h._texture.frame; if (e.globalAlpha = this.worldAlpha * h.alpha, h.rotation % (2 * Math.PI) == 0) n && (e.setTransform(r.a, r.b, r.c, r.d, r.tx * t.resolution, r.ty * t.resolution), n = !1), i = h.anchor.x * (-c.width * h.scale.x) + h.position.x + .5, o = h.anchor.y * (-c.height * h.scale.y) + h.position.y + .5, s = c.width * h.scale.x, a = c.height * h.scale.y; else { n || (n = !0), h.displayObjectUpdateTransform(); var f = h.worldTransform; t.roundPixels ? e.setTransform(f.a, f.b, f.c, f.d, f.tx * t.resolution | 0, f.ty * t.resolution | 0) : e.setTransform(f.a, f.b, f.c, f.d, f.tx * t.resolution, f.ty * t.resolution), i = h.anchor.x * -c.width + .5, o = h.anchor.y * -c.height + .5, s = c.width, a = c.height } var d = h._texture.baseTexture.resolution; e.drawImage(h._texture.baseTexture.source, c.x * d, c.y * d, c.width * d, c.height * d, i * t.resolution, o * t.resolution, s * t.resolution, a * t.resolution) } } } }, e.prototype.destroy = function (e) { if (t.prototype.destroy.call(this, e), this._buffers) for (var r = 0; r < this._buffers.length; ++r)this._buffers[r].destroy(); this._properties = null, this._buffers = null }, e }(n.Container); r.default = i }, { "../core": 64 }], 172: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("./ParticleContainer"); Object.defineProperty(r, "ParticleContainer", { enumerable: !0, get: function () { return o(n).default } }); var i = t("./webgl/ParticleRenderer"); function o(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "ParticleRenderer", { enumerable: !0, get: function () { return o(i).default } }) }, { "./ParticleContainer": 171, "./webgl/ParticleRenderer": 174 }], 173: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = o(t("pixi-gl-core")), i = o(t("../../core/utils/createIndicesForQuads")); function o(t) { return t && t.__esModule ? t : { default: t } } var s = function () { function t(e, r, n, i) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.gl = e, this.vertSize = 2, this.vertByteSize = 4 * this.vertSize, this.size = i, this.dynamicProperties = [], this.staticProperties = []; for (var o = 0; o < r.length; ++o) { var s = r[o]; s = { attribute: s.attribute, size: s.size, uploadFunction: s.uploadFunction, offset: s.offset }, n[o] ? this.dynamicProperties.push(s) : this.staticProperties.push(s) } this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.initBuffers() } return t.prototype.initBuffers = function () { var t = this.gl, e = 0; this.indices = (0, i.default)(this.size), this.indexBuffer = n.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.dynamicStride = 0; for (var r = 0; r < this.dynamicProperties.length; ++r) { var o = this.dynamicProperties[r]; o.offset = e, e += o.size, this.dynamicStride += o.size } this.dynamicData = new Float32Array(this.size * this.dynamicStride * 4), this.dynamicBuffer = n.default.GLBuffer.createVertexBuffer(t, this.dynamicData, t.STREAM_DRAW); var s = 0; this.staticStride = 0; for (var a = 0; a < this.staticProperties.length; ++a) { var u = this.staticProperties[a]; u.offset = s, s += u.size, this.staticStride += u.size } this.staticData = new Float32Array(this.size * this.staticStride * 4), this.staticBuffer = n.default.GLBuffer.createVertexBuffer(t, this.staticData, t.STATIC_DRAW), this.vao = new n.default.VertexArrayObject(t).addIndex(this.indexBuffer); for (var l = 0; l < this.dynamicProperties.length; ++l) { var h = this.dynamicProperties[l]; this.vao.addAttribute(this.dynamicBuffer, h.attribute, t.FLOAT, !1, 4 * this.dynamicStride, 4 * h.offset) } for (var c = 0; c < this.staticProperties.length; ++c) { var f = this.staticProperties[c]; this.vao.addAttribute(this.staticBuffer, f.attribute, t.FLOAT, !1, 4 * this.staticStride, 4 * f.offset) } }, t.prototype.uploadDynamic = function (t, e, r) { for (var n = 0; n < this.dynamicProperties.length; n++) { var i = this.dynamicProperties[n]; i.uploadFunction(t, e, r, this.dynamicData, this.dynamicStride, i.offset) } this.dynamicBuffer.upload() }, t.prototype.uploadStatic = function (t, e, r) { for (var n = 0; n < this.staticProperties.length; n++) { var i = this.staticProperties[n]; i.uploadFunction(t, e, r, this.staticData, this.staticStride, i.offset) } this.staticBuffer.upload() }, t.prototype.destroy = function () { this.dynamicProperties = null, this.dynamicData = null, this.dynamicBuffer.destroy(), this.staticProperties = null, this.staticData = null, this.staticBuffer.destroy() }, t }(); r.default = s }, { "../../core/utils/createIndicesForQuads": 121, "pixi-gl-core": 12 }], 174: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), i = s(t("./ParticleShader")), o = s(t("./ParticleBuffer")); function s(t) { return t && t.__esModule ? t : { default: t } } var a = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var i = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return i.shader = null, i.indexBuffer = null, i.properties = null, i.tempMatrix = new n.Matrix, i.CONTEXT_UID = 0, i } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.onContextChange = function () { var t = this.renderer.gl; this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.shader = new i.default(t), this.properties = [{ attribute: this.shader.attributes.aVertexPosition, size: 2, uploadFunction: this.uploadVertices, offset: 0 }, { attribute: this.shader.attributes.aPositionCoord, size: 2, uploadFunction: this.uploadPosition, offset: 0 }, { attribute: this.shader.attributes.aRotation, size: 1, uploadFunction: this.uploadRotation, offset: 0 }, { attribute: this.shader.attributes.aTextureCoord, size: 2, uploadFunction: this.uploadUvs, offset: 0 }, { attribute: this.shader.attributes.aColor, size: 1, uploadFunction: this.uploadAlpha, offset: 0 }] }, e.prototype.start = function () { this.renderer.bindShader(this.shader) }, e.prototype.render = function (t) { var e = t.children, r = t._maxSize, n = t._batchSize, i = this.renderer, o = e.length; if (0 !== o) { o > r && (o = r); var s = t._glBuffers[i.CONTEXT_UID]; s || (s = t._glBuffers[i.CONTEXT_UID] = this.generateBuffers(t)), this.renderer.setBlendMode(t.blendMode); var a = i.gl, u = t.worldTransform.copy(this.tempMatrix); u.prepend(i._activeRenderTarget.projectionMatrix), this.shader.uniforms.projectionMatrix = u.toArray(!0), this.shader.uniforms.uAlpha = t.worldAlpha; var l = e[0]._texture.baseTexture; this.shader.uniforms.uSampler = i.bindTexture(l); for (var h = 0, c = 0; h < o; h += n, c += 1) { var f = o - h; f > n && (f = n); var d = s[c]; d.uploadDynamic(e, h, f), t._bufferToUpdate === c && (d.uploadStatic(e, h, f), t._bufferToUpdate = c + 1), i.bindVao(d.vao), d.vao.draw(a.TRIANGLES, 6 * f) } } }, e.prototype.generateBuffers = function (t) { for (var e = this.renderer.gl, r = [], n = t._maxSize, i = t._batchSize, s = t._properties, a = 0; a < n; a += i)r.push(new o.default(e, this.properties, s, i)); return r }, e.prototype.uploadVertices = function (t, e, r, n, i, o) { for (var s = 0, a = 0, u = 0, l = 0, h = 0; h < r; ++h) { var c = t[e + h], f = c._texture, d = c.scale.x, p = c.scale.y, g = f.trim, m = f.orig; g ? (s = (a = g.x - c.anchor.x * m.width) + g.width, u = (l = g.y - c.anchor.y * m.height) + g.height) : (s = m.width * (1 - c.anchor.x), a = m.width * -c.anchor.x, u = m.height * (1 - c.anchor.y), l = m.height * -c.anchor.y), n[o] = a * d, n[o + 1] = l * p, n[o + i] = s * d, n[o + i + 1] = l * p, n[o + 2 * i] = s * d, n[o + 2 * i + 1] = u * p, n[o + 3 * i] = a * d, n[o + 3 * i + 1] = u * p, o += 4 * i } }, e.prototype.uploadPosition = function (t, e, r, n, i, o) { for (var s = 0; s < r; s++) { var a = t[e + s].position; n[o] = a.x, n[o + 1] = a.y, n[o + i] = a.x, n[o + i + 1] = a.y, n[o + 2 * i] = a.x, n[o + 2 * i + 1] = a.y, n[o + 3 * i] = a.x, n[o + 3 * i + 1] = a.y, o += 4 * i } }, e.prototype.uploadRotation = function (t, e, r, n, i, o) { for (var s = 0; s < r; s++) { var a = t[e + s].rotation; n[o] = a, n[o + i] = a, n[o + 2 * i] = a, n[o + 3 * i] = a, o += 4 * i } }, e.prototype.uploadUvs = function (t, e, r, n, i, o) { for (var s = 0; s < r; ++s) { var a = t[e + s]._texture._uvs; a ? (n[o] = a.x0, n[o + 1] = a.y0, n[o + i] = a.x1, n[o + i + 1] = a.y1, n[o + 2 * i] = a.x2, n[o + 2 * i + 1] = a.y2, n[o + 3 * i] = a.x3, n[o + 3 * i + 1] = a.y3, o += 4 * i) : (n[o] = 0, n[o + 1] = 0, n[o + i] = 0, n[o + i + 1] = 0, n[o + 2 * i] = 0, n[o + 2 * i + 1] = 0, n[o + 3 * i] = 0, n[o + 3 * i + 1] = 0, o += 4 * i) } }, e.prototype.uploadAlpha = function (t, e, r, n, i, o) { for (var s = 0; s < r; s++) { var a = t[e + s].alpha; n[o] = a, n[o + i] = a, n[o + 2 * i] = a, n[o + 3 * i] = a, o += 4 * i } }, e.prototype.destroy = function () { this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer), t.prototype.destroy.call(this), this.shader.destroy(), this.indices = null, this.tempMatrix = null }, e }(n.ObjectRenderer); r.default = a, n.WebGLRenderer.registerPlugin("particle", a) }, { "../../core": 64, "./ParticleBuffer": 173, "./ParticleShader": 175 }], 175: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = t("../../core/Shader"); var o = function (t) { function e(r) { return function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e), function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute float aColor;", "attribute vec2 aPositionCoord;", "attribute vec2 aScale;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying float vColor;", "void main(void){", "   vec2 v = aVertexPosition;", "   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor;", "}"].join("\n"), ["varying vec2 vTextureCoord;", "varying float vColor;", "uniform sampler2D uSampler;", "uniform float uAlpha;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;", "  if (color.a == 0.0) discard;", "  gl_FragColor = color;", "}"].join("\n"))) } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e }(((n = i) && n.__esModule ? n : { default: n }).default); r.default = o }, { "../../core/Shader": 43 }], 176: [function (t, e, r) { "use strict"; Math.sign || (Math.sign = function (t) { return 0 === (t = Number(t)) || isNaN(t) ? t : t > 0 ? 1 : -1 }) }, {}], 177: [function (t, e, r) { "use strict"; var n, i = t("object-assign"), o = (n = i) && n.__esModule ? n : { default: n }; Object.assign || (Object.assign = o.default) }, { "object-assign": 5 }], 178: [function (t, e, r) { "use strict"; t("./Object.assign"), t("./requestAnimationFrame"), t("./Math.sign"), window.ArrayBuffer || (window.ArrayBuffer = Array), window.Float32Array || (window.Float32Array = Array), window.Uint32Array || (window.Uint32Array = Array), window.Uint16Array || (window.Uint16Array = Array) }, { "./Math.sign": 176, "./Object.assign": 177, "./requestAnimationFrame": 179 }], 179: [function (t, e, r) { (function (t) { "use strict"; if (Date.now && Date.prototype.getTime || (Date.now = function () { return (new Date).getTime() }), !t.performance || !t.performance.now) { var e = Date.now(); t.performance || (t.performance = {}), t.performance.now = function () { return Date.now() - e } } for (var r = Date.now(), n = ["ms", "moz", "webkit", "o"], i = 0; i < n.length && !t.requestAnimationFrame; ++i) { var o = n[i]; t.requestAnimationFrame = t[o + "RequestAnimationFrame"], t.cancelAnimationFrame = t[o + "CancelAnimationFrame"] || t[o + "CancelRequestAnimationFrame"] } t.requestAnimationFrame || (t.requestAnimationFrame = function (t) { if ("function" != typeof t) throw new TypeError(t + "is not a function"); var e = Date.now(), n = 16 + r - e; return n < 0 && (n = 0), r = e, setTimeout(function () { r = Date.now(), t(performance.now()) }, n) }), t.cancelAnimationFrame || (t.cancelAnimationFrame = function (t) { return clearTimeout(t) }) }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}], 180: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../core")), o = t("./limiters/CountLimiter"), s = (n = o) && n.__esModule ? n : { default: n }; var a = i.ticker.shared; i.settings.UPLOADS_PER_FRAME = 4; var u = function () { function t(e) { var r = this; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.limiter = new s.default(i.settings.UPLOADS_PER_FRAME), this.renderer = e, this.uploadHookHelper = null, this.queue = [], this.addHooks = [], this.uploadHooks = [], this.completes = [], this.ticking = !1, this.delayedTick = function () { r.queue && r.prepareItems() }, this.registerFindHook(p), this.registerFindHook(g), this.registerFindHook(l), this.registerFindHook(h), this.registerFindHook(c), this.registerUploadHook(f), this.registerUploadHook(d) } return t.prototype.upload = function (t, e) { "function" == typeof t && (e = t, t = null), t && this.add(t), this.queue.length ? (e && this.completes.push(e), this.ticking || (this.ticking = !0, a.addOnce(this.tick, this, i.UPDATE_PRIORITY.UTILITY))) : e && e() }, t.prototype.tick = function () { setTimeout(this.delayedTick, 0) }, t.prototype.prepareItems = function () { for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload();) { var t = this.queue[0], e = !1; if (t && !t._destroyed) for (var r = 0, n = this.uploadHooks.length; r < n; r++)if (this.uploadHooks[r](this.uploadHookHelper, t)) { this.queue.shift(), e = !0; break } e || this.queue.shift() } if (this.queue.length) a.addOnce(this.tick, this, i.UPDATE_PRIORITY.UTILITY); else { this.ticking = !1; var o = this.completes.slice(0); this.completes.length = 0; for (var s = 0, u = o.length; s < u; s++)o[s]() } }, t.prototype.registerFindHook = function (t) { return t && this.addHooks.push(t), this }, t.prototype.registerUploadHook = function (t) { return t && this.uploadHooks.push(t), this }, t.prototype.add = function (t) { for (var e = 0, r = this.addHooks.length; e < r && !this.addHooks[e](t, this.queue); e++); if (t instanceof i.Container) for (var n = t.children.length - 1; n >= 0; n--)this.add(t.children[n]); return this }, t.prototype.destroy = function () { this.ticking && a.remove(this.tick, this), this.ticking = !1, this.addHooks = null, this.uploadHooks = null, this.renderer = null, this.completes = null, this.queue = null, this.limiter = null, this.uploadHookHelper = null }, t }(); function l(t, e) { var r = !1; if (t && t._textures && t._textures.length) for (var n = 0; n < t._textures.length; n++)if (t._textures[n] instanceof i.Texture) { var o = t._textures[n].baseTexture; -1 === e.indexOf(o) && (e.push(o), r = !0) } return r } function h(t, e) { return t instanceof i.BaseTexture && (-1 === e.indexOf(t) && e.push(t), !0) } function c(t, e) { if (t._texture && t._texture instanceof i.Texture) { var r = t._texture.baseTexture; return -1 === e.indexOf(r) && e.push(r), !0 } return !1 } function f(t, e) { return e instanceof i.Text && (e.updateText(!0), !0) } function d(t, e) { if (e instanceof i.TextStyle) { var r = i.Text.getFontStyle(e); return i.Text.fontPropertiesCache[r] || i.Text.calculateFontProperties(r), !0 } return !1 } function p(t, e) { if (t instanceof i.Text) { -1 === e.indexOf(t.style) && e.push(t.style), -1 === e.indexOf(t) && e.push(t); var r = t._texture.baseTexture; return -1 === e.indexOf(r) && e.push(r), !0 } return !1 } function g(t, e) { return t instanceof i.TextStyle && (-1 === e.indexOf(t) && e.push(t), !0) } r.default = u }, { "../core": 64, "./limiters/CountLimiter": 183 }], 181: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), o = t("../BasePrepare"), s = (n = o) && n.__esModule ? n : { default: n }; var a = 16, u = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return n.uploadHookHelper = n, n.canvas = document.createElement("canvas"), n.canvas.width = a, n.canvas.height = a, n.ctx = n.canvas.getContext("2d"), n.registerUploadHook(l), n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e.prototype.destroy = function () { t.prototype.destroy.call(this), this.ctx = null, this.canvas = null }, e }(s.default); function l(t, e) { if (e instanceof i.BaseTexture) { var r = e.source, n = 0 === r.width ? t.canvas.width : Math.min(t.canvas.width, r.width), o = 0 === r.height ? t.canvas.height : Math.min(t.canvas.height, r.height); return t.ctx.drawImage(r, 0, 0, n, o, 0, 0, t.canvas.width, t.canvas.height), !0 } return !1 } r.default = u, i.CanvasRenderer.registerPlugin("prepare", u) }, { "../../core": 64, "../BasePrepare": 180 }], 182: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = t("./webgl/WebGLPrepare"); Object.defineProperty(r, "webgl", { enumerable: !0, get: function () { return u(n).default } }); var i = t("./canvas/CanvasPrepare"); Object.defineProperty(r, "canvas", { enumerable: !0, get: function () { return u(i).default } }); var o = t("./BasePrepare"); Object.defineProperty(r, "BasePrepare", { enumerable: !0, get: function () { return u(o).default } }); var s = t("./limiters/CountLimiter"); Object.defineProperty(r, "CountLimiter", { enumerable: !0, get: function () { return u(s).default } }); var a = t("./limiters/TimeLimiter"); function u(t) { return t && t.__esModule ? t : { default: t } } Object.defineProperty(r, "TimeLimiter", { enumerable: !0, get: function () { return u(a).default } }) }, { "./BasePrepare": 180, "./canvas/CanvasPrepare": 181, "./limiters/CountLimiter": 183, "./limiters/TimeLimiter": 184, "./webgl/WebGLPrepare": 185 }], 183: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.maxItemsPerFrame = e, this.itemsLeft = 0 } return t.prototype.beginFrame = function () { this.itemsLeft = this.maxItemsPerFrame }, t.prototype.allowedToUpload = function () { return this.itemsLeft-- > 0 }, t }(); r.default = n }, {}], 184: [function (t, e, r) { "use strict"; r.__esModule = !0; var n = function () { function t(e) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.maxMilliseconds = e, this.frameStart = 0 } return t.prototype.beginFrame = function () { this.frameStart = Date.now() }, t.prototype.allowedToUpload = function () { return Date.now() - this.frameStart < this.maxMilliseconds }, t }(); r.default = n }, {}], 185: [function (t, e, r) { "use strict"; r.__esModule = !0; var n, i = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e }(t("../../core")), o = t("../BasePrepare"); var s = function (t) { function e(r) { !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, e); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, t.call(this, r)); return n.uploadHookHelper = n.renderer, n.registerFindHook(l), n.registerUploadHook(a), n.registerUploadHook(u), n } return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(e, t), e }(((n = o) && n.__esModule ? n : { default: n }).default); function a(t, e) { return e instanceof i.BaseTexture && (e._glTextures[t.CONTEXT_UID] || t.textureManager.updateTexture(e), !0) } function u(t, e) { return e instanceof i.Graphics && ((e.dirty || e.clearDirty || !e._webGL[t.plugins.graphics.CONTEXT_UID]) && t.plugins.graphics.updateGraphics(e), !0) } function l(t, e) { return t instanceof i.Graphics && (e.push(t), !0) } r.default = s, i.WebGLRenderer.registerPlugin("prepare", s) }, { "../../core": 64, "../BasePrepare": 180 }], 186: [function (t, e, r) { (function (e) { "use strict"; r.__esModule = !0, r.loader = r.prepare = r.particles = r.mesh = r.loaders = r.interaction = r.filters = r.extras = r.extract = r.accessibility = void 0; var n = t("./polyfill"); Object.keys(n).forEach(function (t) { "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, { enumerable: !0, get: function () { return n[t] } }) }); var i = t("./core"); Object.keys(i).forEach(function (t) { "default" !== t && "__esModule" !== t && Object.defineProperty(r, t, { enumerable: !0, get: function () { return i[t] } }) }); var o, s = t("./deprecation"), a = (o = s) && o.__esModule ? o : { default: o }, u = v(t("./accessibility")), l = v(t("./extract")), h = v(t("./extras")), c = v(t("./filters")), f = v(t("./interaction")), d = v(t("./loaders")), p = v(t("./mesh")), g = v(t("./particles")), m = v(t("./prepare")); function v(t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]); return e.default = t, e } i.utils.mixins.performMixins(); var y = d.shared || null; r.accessibility = u, r.extract = l, r.extras = h, r.filters = c, r.interaction = f, r.loaders = d, r.mesh = p, r.particles = g, r.prepare = m, r.loader = y, "function" == typeof a.default && (0, a.default)(r), e.PIXI = r }).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, { "./accessibility": 41, "./core": 64, "./deprecation": 128, "./extract": 130, "./extras": 139, "./filters": 150, "./interaction": 157, "./loaders": 160, "./mesh": 169, "./particles": 172, "./polyfill": 178, "./prepare": 182 }] }, {}, [186])(186) }); var __filters = function (t, e) { "use strict"; var r = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", n = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float gamma;\nuniform float contrast;\nuniform float saturation;\nuniform float brightness;\nuniform float red;\nuniform float green;\nuniform float blue;\nuniform float alpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (c.a > 0.0) {\n        c.rgb /= c.a;\n\n        vec3 rgb = pow(c.rgb, vec3(1. / gamma));\n        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);\n        rgb.r *= red;\n        rgb.g *= green;\n        rgb.b *= blue;\n        c.rgb = rgb * brightness;\n\n        c.rgb *= c.a;\n    }\n\n    gl_FragColor = c * alpha;\n}\n", i = function (t) { function e(e) { t.call(this, r, n), Object.assign(this, { gamma: 1, saturation: 1, contrast: 1, brightness: 1, red: 1, green: 1, blue: 1, alpha: 1 }, e) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.apply = function (t, e, r, n) { this.uniforms.gamma = Math.max(this.gamma, 1e-4), this.uniforms.saturation = this.saturation, this.uniforms.contrast = this.contrast, this.uniforms.brightness = this.brightness, this.uniforms.red = this.red, this.uniforms.green = this.green, this.uniforms.blue = this.blue, this.uniforms.alpha = this.alpha, t.applyFilter(this, e, r, n) }, e }(e.Filter), o = r, s = "\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}", a = "\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n", u = function (t) { function r(r, n, i) { void 0 === r && (r = 4), void 0 === n && (n = 3), void 0 === i && (i = !1), t.call(this, o, i ? a : s), this.uniforms.uOffset = new Float32Array(2), this._pixelSize = new e.Point, this.pixelSize = 1, this._clamp = i, this._kernels = null, Array.isArray(r) ? this.kernels = r : (this._blur = r, this.quality = n) } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { kernels: { configurable: !0 }, clamp: { configurable: !0 }, pixelSize: { configurable: !0 }, quality: { configurable: !0 }, blur: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n) { var i, o = this.pixelSize.x / e.size.width, s = this.pixelSize.y / e.size.height; if (1 === this._quality || 0 === this._blur) i = this._kernels[0] + .5, this.uniforms.uOffset[0] = i * o, this.uniforms.uOffset[1] = i * s, t.applyFilter(this, e, r, n); else { for (var a, u = t.getRenderTarget(!0), l = e, h = u, c = this._quality - 1, f = 0; f < c; f++)i = this._kernels[f] + .5, this.uniforms.uOffset[0] = i * o, this.uniforms.uOffset[1] = i * s, t.applyFilter(this, l, h, !0), a = l, l = h, h = a; i = this._kernels[c] + .5, this.uniforms.uOffset[0] = i * o, this.uniforms.uOffset[1] = i * s, t.applyFilter(this, l, r, n), t.returnRenderTarget(u) } }, r.prototype._generateKernels = function () { var t = this._blur, e = this._quality, r = [t]; if (t > 0) for (var n = t, i = t / e, o = 1; o < e; o++)n -= i, r.push(n); this._kernels = r }, n.kernels.get = function () { return this._kernels }, n.kernels.set = function (t) { Array.isArray(t) && t.length > 0 ? (this._kernels = t, this._quality = t.length, this._blur = Math.max.apply(Math, t)) : (this._kernels = [0], this._quality = 1) }, n.clamp.get = function () { return this._clamp }, n.pixelSize.set = function (t) { "number" == typeof t ? (this._pixelSize.x = t, this._pixelSize.y = t) : Array.isArray(t) ? (this._pixelSize.x = t[0], this._pixelSize.y = t[1]) : t instanceof e.Point ? (this._pixelSize.x = t.x, this._pixelSize.y = t.y) : (this._pixelSize.x = 1, this._pixelSize.y = 1) }, n.pixelSize.get = function () { return this._pixelSize }, n.quality.get = function () { return this._quality }, n.quality.set = function (t) { this._quality = Math.max(1, Math.round(t)), this._generateKernels() }, n.blur.get = function () { return this._blur }, n.blur.set = function (t) { this._blur = t, this._generateKernels() }, Object.defineProperties(r.prototype, n), r }(e.Filter), l = r, h = "\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform float threshold;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    // A simple & fast algorithm for getting brightness.\n    // It's inaccuracy , but good enought for this feature.\n    float _max = max(max(color.r, color.g), color.b);\n    float _min = min(min(color.r, color.g), color.b);\n    float brightness = (_max + _min) * 0.5;\n\n    if(brightness > threshold) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n", c = function (t) { function e(e) { void 0 === e && (e = .5), t.call(this, l, h), this.threshold = e } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { threshold: { configurable: !0 } }; return r.threshold.get = function () { return this.uniforms.threshold }, r.threshold.set = function (t) { this.uniforms.threshold = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), f = "uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D bloomTexture;\nuniform float bloomScale;\nuniform float brightness;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb *= brightness;\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\n    bloomColor.rgb *= bloomScale;\n    gl_FragColor = color + bloomColor;\n}\n", d = function (t) { function r(r) { t.call(this, l, f), "number" == typeof r && (r = { threshold: r }), r = Object.assign({ threshold: .5, bloomScale: 1, brightness: 1, kernels: null, blur: 8, quality: 4, pixelSize: 1, resolution: e.settings.RESOLUTION }, r), this.bloomScale = r.bloomScale, this.brightness = r.brightness; var n = r.kernels, i = r.blur, o = r.quality, s = r.pixelSize, a = r.resolution; this._extractFilter = new c(r.threshold), this._extractFilter.resolution = a, this._blurFilter = n ? new u(n) : new u(i, o), this.pixelSize = s, this.resolution = a } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { resolution: { configurable: !0 }, threshold: { configurable: !0 }, kernels: { configurable: !0 }, blur: { configurable: !0 }, quality: { configurable: !0 }, pixelSize: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n, i) { var o = t.getRenderTarget(!0); this._extractFilter.apply(t, e, o, !0, i); var s = t.getRenderTarget(!0); this._blurFilter.apply(t, o, s, !0, i), this.uniforms.bloomScale = this.bloomScale, this.uniforms.brightness = this.brightness, this.uniforms.bloomTexture = s, t.applyFilter(this, e, r, n), t.returnRenderTarget(s), t.returnRenderTarget(o) }, n.resolution.get = function () { return this._resolution }, n.resolution.set = function (t) { this._resolution = t, this._extractFilter && (this._extractFilter.resolution = t), this._blurFilter && (this._blurFilter.resolution = t) }, n.threshold.get = function () { return this._extractFilter.threshold }, n.threshold.set = function (t) { this._extractFilter.threshold = t }, n.kernels.get = function () { return this._blurFilter.kernels }, n.kernels.set = function (t) { this._blurFilter.kernels = t }, n.blur.get = function () { return this._blurFilter.blur }, n.blur.set = function (t) { this._blurFilter.blur = t }, n.quality.get = function () { return this._blurFilter.quality }, n.quality.set = function (t) { this._blurFilter.quality = t }, n.pixelSize.get = function () { return this._blurFilter.pixelSize }, n.pixelSize.set = function (t) { this._blurFilter.pixelSize = t }, Object.defineProperties(r.prototype, n), r }(e.Filter), p = r, g = "varying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n    return floor( coord / size ) * size;\n}\n\nvec2 getMod(vec2 coord, vec2 size)\n{\n    return mod( coord , size) / size;\n}\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    // get the rounded color..\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\n    pixCoord = unmapCoord(pixCoord);\n\n    vec4 color = texture2D(uSampler, pixCoord);\n\n    // determine the character to use\n    float gray = (color.r + color.g + color.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    // get the mod..\n    vec2 modd = getMod(coord, vec2(pixelSize));\n\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\n\n}", m = function (t) { function e(e) { void 0 === e && (e = 8), t.call(this, p, g), this.size = e } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { size: { configurable: !0 } }; return r.size.get = function () { return this.uniforms.pixelSize }, r.size.set = function (t) { this.uniforms.pixelSize = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), v = r, y = "precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float transformX;\nuniform float transformY;\nuniform vec3 lightColor;\nuniform float lightAlpha;\nuniform vec3 shadowColor;\nuniform float shadowAlpha;\n\nvoid main(void) {\n    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float light = texture2D(uSampler, vTextureCoord - transform).a;\n    float shadow = texture2D(uSampler, vTextureCoord + transform).a;\n\n    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));\n    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));\n    gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n", _ = function (t) { function r(e) { void 0 === e && (e = {}), t.call(this, v, y), this.uniforms.lightColor = new Float32Array(3), this.uniforms.shadowColor = new Float32Array(3), e = Object.assign({ rotation: 45, thickness: 2, lightColor: 16777215, lightAlpha: .7, shadowColor: 0, shadowAlpha: .7 }, e), this.rotation = e.rotation, this.thickness = e.thickness, this.lightColor = e.lightColor, this.lightAlpha = e.lightAlpha, this.shadowColor = e.shadowColor, this.shadowAlpha = e.shadowAlpha } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { rotation: { configurable: !0 }, thickness: { configurable: !0 }, lightColor: { configurable: !0 }, lightAlpha: { configurable: !0 }, shadowColor: { configurable: !0 }, shadowAlpha: { configurable: !0 } }; return r.prototype._updateTransform = function () { this.uniforms.transformX = this._thickness * Math.cos(this._angle), this.uniforms.transformY = this._thickness * Math.sin(this._angle) }, n.rotation.get = function () { return this._angle / e.DEG_TO_RAD }, n.rotation.set = function (t) { this._angle = t * e.DEG_TO_RAD, this._updateTransform() }, n.thickness.get = function () { return this._thickness }, n.thickness.set = function (t) { this._thickness = t, this._updateTransform() }, n.lightColor.get = function () { return e.utils.rgb2hex(this.uniforms.lightColor) }, n.lightColor.set = function (t) { e.utils.hex2rgb(t, this.uniforms.lightColor) }, n.lightAlpha.get = function () { return this.uniforms.lightAlpha }, n.lightAlpha.set = function (t) { this.uniforms.lightAlpha = t }, n.shadowColor.get = function () { return e.utils.rgb2hex(this.uniforms.shadowColor) }, n.shadowColor.set = function (t) { e.utils.hex2rgb(t, this.uniforms.shadowColor) }, n.shadowAlpha.get = function () { return this.uniforms.shadowAlpha }, n.shadowAlpha.set = function (t) { this.uniforms.shadowAlpha = t }, Object.defineProperties(r.prototype, n), r }(e.Filter), x = e.filters, b = x.BlurXFilter, T = x.BlurYFilter, w = x.AlphaFilter, S = function (t) { function r(r, n, i, o) { var s, a; void 0 === r && (r = 2), void 0 === n && (n = 4), void 0 === i && (i = e.settings.RESOLUTION), void 0 === o && (o = 5), t.call(this), "number" == typeof r ? (s = r, a = r) : r instanceof e.Point ? (s = r.x, a = r.y) : Array.isArray(r) && (s = r[0], a = r[1]), this.blurXFilter = new b(s, n, i, o), this.blurYFilter = new T(a, n, i, o), this.blurYFilter.blendMode = e.BLEND_MODES.SCREEN, this.defaultFilter = new w } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { blur: { configurable: !0 }, blurX: { configurable: !0 }, blurY: { configurable: !0 } }; return r.prototype.apply = function (t, e, r) { var n = t.getRenderTarget(!0); this.defaultFilter.apply(t, e, r), this.blurXFilter.apply(t, e, n), this.blurYFilter.apply(t, n, r), t.returnRenderTarget(n) }, n.blur.get = function () { return this.blurXFilter.blur }, n.blur.set = function (t) { this.blurXFilter.blur = this.blurYFilter.blur = t }, n.blurX.get = function () { return this.blurXFilter.blur }, n.blurX.set = function (t) { this.blurXFilter.blur = t }, n.blurY.get = function () { return this.blurYFilter.blur }, n.blurY.set = function (t) { this.blurYFilter.blur = t }, Object.defineProperties(r.prototype, n), r }(e.Filter), C = r, E = "uniform float radius;\nuniform float strength;\nuniform vec2 center;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    gl_FragColor = color;\n}\n", O = function (t) { function e(e, r, n) { t.call(this, C, E), this.uniforms.dimensions = new Float32Array(2), this.center = e || [.5, .5], this.radius = r || 100, this.strength = n || 1 } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { radius: { configurable: !0 }, strength: { configurable: !0 }, center: { configurable: !0 } }; return e.prototype.apply = function (t, e, r, n) { this.uniforms.dimensions[0] = e.sourceFrame.width, this.uniforms.dimensions[1] = e.sourceFrame.height, t.applyFilter(this, e, r, n) }, r.radius.get = function () { return this.uniforms.radius }, r.radius.set = function (t) { this.uniforms.radius = t }, r.strength.get = function () { return this.uniforms.strength }, r.strength.set = function (t) { this.uniforms.strength = t }, r.center.get = function () { return this.uniforms.center }, r.center.set = function (t) { this.uniforms.center = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), P = r, A = "\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform sampler2D colorMap;\n\nuniform float _mix;\nuniform float _size;\nuniform float _sliceSize;\nuniform float _slicePixelSize;\nuniform float _sliceInnerSize;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord.xy);\n\n    float sliceIndex = color.b * (_size - 1.0);\n    float zSlice0 = floor(sliceIndex);\n    float zSlice1 = ceil(sliceIndex);\n\n    float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;\n    float s0 = xOffset + zSlice0 * _sliceSize;\n    float s1 = xOffset + zSlice1 * _sliceSize;\n    vec4 slice0Color = texture2D(colorMap, vec2(s0, color.g));\n    vec4 slice1Color = texture2D(colorMap, vec2(s1, color.g));\n    vec4 adjusted = mix(slice0Color, slice1Color, fract(sliceIndex));\n\n    gl_FragColor = mix(color, adjusted, _mix);\n}\n", M = function (t) { function r(e, r, n) { void 0 === r && (r = !1), void 0 === n && (n = 1), t.call(this, P, A), this._size = 0, this._sliceSize = 0, this._slicePixelSize = 0, this._sliceInnerSize = 0, this._scaleMode = null, this._nearest = !1, this.nearest = r, this.mix = n, this.colorMap = e } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { colorSize: { configurable: !0 }, colorMap: { configurable: !0 }, nearest: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n) { this.uniforms._mix = this.mix, t.applyFilter(this, e, r, n) }, n.colorSize.get = function () { return this._size }, n.colorMap.get = function () { return this._colorMap }, n.colorMap.set = function (t) { t instanceof e.Texture || (t = e.Texture.from(t)), t && t.baseTexture && (t.baseTexture.scaleMode = this._scaleMode, t.baseTexture.mipmap = !1, this._size = t.height, this._sliceSize = 1 / this._size, this._slicePixelSize = this._sliceSize / this._size, this._sliceInnerSize = this._slicePixelSize * (this._size - 1), this.uniforms._size = this._size, this.uniforms._sliceSize = this._sliceSize, this.uniforms._slicePixelSize = this._slicePixelSize, this.uniforms._sliceInnerSize = this._sliceInnerSize, this.uniforms.colorMap = t), this._colorMap = t }, n.nearest.get = function () { return this._nearest }, n.nearest.set = function (t) { this._nearest = t, this._scaleMode = t ? e.SCALE_MODES.NEAREST : e.SCALE_MODES.LINEAR; var r = this._colorMap; r && r.baseTexture && (r.baseTexture._glTextures = {}, r.baseTexture.scaleMode = this._scaleMode, r.baseTexture.mipmap = !1, r._updateID++, r.baseTexture.emit("update", r.baseTexture)) }, r.prototype.updateColorMap = function () { var t = this._colorMap; t && t.baseTexture && (t._updateID++, t.baseTexture.emit("update", t.baseTexture), this.colorMap = t) }, r.prototype.destroy = function (e) { this._colorMap && this._colorMap.destroy(e), t.prototype.destroy.call(this) }, Object.defineProperties(r.prototype, n), r }(e.Filter), R = r, D = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n", I = function (t) { function r(e, r, n) { void 0 === e && (e = 16711680), void 0 === r && (r = 0), void 0 === n && (n = .4), t.call(this, R, D), this.uniforms.originalColor = new Float32Array(3), this.uniforms.newColor = new Float32Array(3), this.originalColor = e, this.newColor = r, this.epsilon = n } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { originalColor: { configurable: !0 }, newColor: { configurable: !0 }, epsilon: { configurable: !0 } }; return n.originalColor.set = function (t) { var r = this.uniforms.originalColor; "number" == typeof t ? (e.utils.hex2rgb(t, r), this._originalColor = t) : (r[0] = t[0], r[1] = t[1], r[2] = t[2], this._originalColor = e.utils.rgb2hex(r)) }, n.originalColor.get = function () { return this._originalColor }, n.newColor.set = function (t) { var r = this.uniforms.newColor; "number" == typeof t ? (e.utils.hex2rgb(t, r), this._newColor = t) : (r[0] = t[0], r[1] = t[1], r[2] = t[2], this._newColor = e.utils.rgb2hex(r)) }, n.newColor.get = function () { return this._newColor }, n.epsilon.set = function (t) { this.uniforms.epsilon = t }, n.epsilon.get = function () { return this.uniforms.epsilon }, Object.defineProperties(r.prototype, n), r }(e.Filter), L = r, F = "precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n", k = function (t) { function e(e, r, n) { t.call(this, L, F), this.uniforms.texelSize = new Float32Array(9), this.matrix = e, this.width = r, this.height = n } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { matrix: { configurable: !0 }, width: { configurable: !0 }, height: { configurable: !0 } }; return r.matrix.get = function () { return this.uniforms.matrix }, r.matrix.set = function (t) { this.uniforms.matrix = new Float32Array(t) }, r.width.get = function () { return 1 / this.uniforms.texelSize[0] }, r.width.set = function (t) { this.uniforms.texelSize[0] = 1 / t }, r.height.get = function () { return 1 / this.uniforms.texelSize[1] }, r.height.set = function (t) { this.uniforms.texelSize[1] = 1 / t }, Object.defineProperties(e.prototype, r), e }(e.Filter), j = r, N = "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n", B = function (t) { function e() { t.call(this, j, N) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e }(e.Filter), U = r, z = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nconst float SQRT_2 = 1.414213;\n\nconst float light = 1.0;\n\nuniform float curvature;\nuniform float lineWidth;\nuniform float lineContrast;\nuniform bool verticalLine;\nuniform float noise;\nuniform float noiseSize;\n\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\n\nuniform float seed;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 coord = pixelCoord / dimensions;\n\n    vec2 dir = vec2(coord - vec2(0.5, 0.5));\n\n    float _c = curvature > 0. ? curvature : 1.;\n    float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;\n    vec2 uv = dir * k;\n\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 rgb = gl_FragColor.rgb;\n\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        rgb += _noise * noise;\n    }\n\n    if (lineWidth > 0.0) {\n        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;\n        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;\n        rgb *= j;\n        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);\n        rgb *= 0.99 + ceil(segment) * 0.015;\n    }\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    gl_FragColor.rgb = rgb;\n}\n", X = function (t) { function e(e) { t.call(this, U, z), this.uniforms.dimensions = new Float32Array(2), this.time = 0, this.seed = 0, Object.assign(this, { curvature: 1, lineWidth: 1, lineContrast: .25, verticalLine: !1, noise: 0, noiseSize: 1, seed: 0, vignetting: .3, vignettingAlpha: 1, vignettingBlur: .3, time: 0 }, e) } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { curvature: { configurable: !0 }, lineWidth: { configurable: !0 }, lineContrast: { configurable: !0 }, verticalLine: { configurable: !0 }, noise: { configurable: !0 }, noiseSize: { configurable: !0 }, vignetting: { configurable: !0 }, vignettingAlpha: { configurable: !0 }, vignettingBlur: { configurable: !0 } }; return e.prototype.apply = function (t, e, r, n) { this.uniforms.dimensions[0] = e.sourceFrame.width, this.uniforms.dimensions[1] = e.sourceFrame.height, this.uniforms.seed = this.seed, this.uniforms.time = this.time, t.applyFilter(this, e, r, n) }, r.curvature.set = function (t) { this.uniforms.curvature = t }, r.curvature.get = function () { return this.uniforms.curvature }, r.lineWidth.set = function (t) { this.uniforms.lineWidth = t }, r.lineWidth.get = function () { return this.uniforms.lineWidth }, r.lineContrast.set = function (t) { this.uniforms.lineContrast = t }, r.lineContrast.get = function () { return this.uniforms.lineContrast }, r.verticalLine.set = function (t) { this.uniforms.verticalLine = t }, r.verticalLine.get = function () { return this.uniforms.verticalLine }, r.noise.set = function (t) { this.uniforms.noise = t }, r.noise.get = function () { return this.uniforms.noise }, r.noiseSize.set = function (t) { this.uniforms.noiseSize = t }, r.noiseSize.get = function () { return this.uniforms.noiseSize }, r.vignetting.set = function (t) { this.uniforms.vignetting = t }, r.vignetting.get = function () { return this.uniforms.vignetting }, r.vignettingAlpha.set = function (t) { this.uniforms.vignettingAlpha = t }, r.vignettingAlpha.get = function () { return this.uniforms.vignettingAlpha }, r.vignettingBlur.set = function (t) { this.uniforms.vignettingBlur = t }, r.vignettingBlur.get = function () { return this.uniforms.vignettingBlur }, Object.defineProperties(e.prototype, r), e }(e.Filter), W = r, H = "precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * filterArea.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n", G = function (t) { function e(e, r) { void 0 === e && (e = 1), void 0 === r && (r = 5), t.call(this, W, H), this.scale = e, this.angle = r } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { scale: { configurable: !0 }, angle: { configurable: !0 } }; return r.scale.get = function () { return this.uniforms.scale }, r.scale.set = function (t) { this.uniforms.scale = t }, r.angle.get = function () { return this.uniforms.angle }, r.angle.set = function (t) { this.uniforms.angle = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), Y = r, q = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n\n    // Un-premultiply alpha before applying the color\n    if (sample.a > 0.0) {\n        sample.rgb /= sample.a;\n    }\n\n    // Premultiply alpha again\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}", V = function (t) { function r(r) { r && r.constructor !== Object && (console.warn("DropShadowFilter now uses options instead of (rotation, distance, blur, color, alpha)"), r = { rotation: r }, void 0 !== arguments[1] && (r.distance = arguments[1]), void 0 !== arguments[2] && (r.blur = arguments[2]), void 0 !== arguments[3] && (r.color = arguments[3]), void 0 !== arguments[4] && (r.alpha = arguments[4])), r = Object.assign({ rotation: 45, distance: 5, color: 0, alpha: .5, shadowOnly: !1, kernels: null, blur: 2, quality: 3, pixelSize: 1, resolution: e.settings.RESOLUTION }, r), t.call(this); var n = r.kernels, i = r.blur, o = r.quality, s = r.pixelSize, a = r.resolution; this._tintFilter = new e.Filter(Y, q), this._tintFilter.uniforms.color = new Float32Array(4), this._tintFilter.resolution = a, this._blurFilter = n ? new u(n) : new u(i, o), this.pixelSize = s, this.resolution = a, this.targetTransform = new e.Matrix; var l = r.shadowOnly, h = r.rotation, c = r.distance, f = r.alpha, d = r.color; this.shadowOnly = l, this.rotation = h, this.distance = c, this.alpha = f, this.color = d, this._updatePadding() } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { resolution: { configurable: !0 }, distance: { configurable: !0 }, rotation: { configurable: !0 }, alpha: { configurable: !0 }, color: { configurable: !0 }, kernels: { configurable: !0 }, blur: { configurable: !0 }, quality: { configurable: !0 }, pixelSize: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n) { var i = t.getRenderTarget(); i.transform = this.targetTransform, this._tintFilter.apply(t, e, i, !0), i.transform = null, this._blurFilter.apply(t, i, r), !0 !== this.shadowOnly && t.applyFilter(this, e, r, n), t.returnRenderTarget(i) }, r.prototype._updatePadding = function () { this.padding = this.distance + 2 * this.blur }, r.prototype._updateTargetTransform = function () { this.targetTransform.tx = this.distance * Math.cos(this.angle), this.targetTransform.ty = this.distance * Math.sin(this.angle) }, n.resolution.get = function () { return this._resolution }, n.resolution.set = function (t) { this._resolution = t, this._tintFilter && (this._tintFilter.resolution = t), this._blurFilter && (this._blurFilter.resolution = t) }, n.distance.get = function () { return this._distance }, n.distance.set = function (t) { this._distance = t, this._updatePadding(), this._updateTargetTransform() }, n.rotation.get = function () { return this.angle / e.DEG_TO_RAD }, n.rotation.set = function (t) { this.angle = t * e.DEG_TO_RAD, this._updateTargetTransform() }, n.alpha.get = function () { return this._tintFilter.uniforms.alpha }, n.alpha.set = function (t) { this._tintFilter.uniforms.alpha = t }, n.color.get = function () { return e.utils.rgb2hex(this._tintFilter.uniforms.color) }, n.color.set = function (t) { e.utils.hex2rgb(t, this._tintFilter.uniforms.color) }, n.kernels.get = function () { return this._blurFilter.kernels }, n.kernels.set = function (t) { this._blurFilter.kernels = t }, n.blur.get = function () { return this._blurFilter.blur }, n.blur.set = function (t) { this._blurFilter.blur = t, this._updatePadding() }, n.quality.get = function () { return this._blurFilter.quality }, n.quality.set = function (t) { this._blurFilter.quality = t }, n.pixelSize.get = function () { return this._blurFilter.pixelSize }, n.pixelSize.set = function (t) { this._blurFilter.pixelSize = t }, Object.defineProperties(r.prototype, n), r }(e.Filter), $ = r, K = "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float strength;\nuniform vec4 filterArea;\n\n\nvoid main(void)\n{\n\tvec2 onePixel = vec2(1.0 / filterArea);\n\n\tvec4 color;\n\n\tcolor.rgb = vec3(0.5);\n\n\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\n\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\n\n\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\n\n\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\n\n\tgl_FragColor = vec4(color.rgb * alpha, alpha);\n}\n", Z = function (t) { function e(e) { void 0 === e && (e = 5), t.call(this, $, K), this.strength = e } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { strength: { configurable: !0 } }; return r.strength.get = function () { return this.uniforms.strength }, r.strength.set = function (t) { this.uniforms.strength = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), Q = r, J = "// precision highp float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\nuniform float aspect;\n\nuniform sampler2D displacementMap;\nuniform float offset;\nuniform float sinDir;\nuniform float cosDir;\nuniform int fillMode;\n\nuniform float seed;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nconst int TRANSPARENT = 0;\nconst int ORIGINAL = 1;\nconst int LOOP = 2;\nconst int CLAMP = 3;\nconst int MIRROR = 4;\n\nvoid main(void)\n{\n    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;\n\n    if (coord.x > 1.0 || coord.y > 1.0) {\n        return;\n    }\n\n    float cx = coord.x - 0.5;\n    float cy = (coord.y - 0.5) * aspect;\n    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;\n\n    // displacementMap: repeat\n    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);\n\n    // displacementMap: mirror\n    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);\n\n    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));\n\n    float displacement = (dc.r - dc.g) * (offset / filterArea.x);\n\n    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);\n\n    if (fillMode == CLAMP) {\n        coord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    } else {\n        if( coord.x > filterClamp.z ) {\n            if (fillMode == ORIGINAL) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord);\n                return;\n            } else if (fillMode == LOOP) {\n                coord.x -= filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x = filterClamp.z * 2.0 - coord.x;\n            } else {\n                gl_FragColor = vec4(0., 0., 0., 0.);\n                return;\n            }\n        } else if( coord.x < filterClamp.x ) {\n            if (fillMode == ORIGINAL) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord);\n                return;\n            } else if (fillMode == LOOP) {\n                coord.x += filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x *= -filterClamp.z;\n            } else {\n                gl_FragColor = vec4(0., 0., 0., 0.);\n                return;\n            }\n        }\n\n        if( coord.y > filterClamp.w ) {\n            if (fillMode == ORIGINAL) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord);\n                return;\n            } else if (fillMode == LOOP) {\n                coord.y -= filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y = filterClamp.w * 2.0 - coord.y;\n            } else {\n                gl_FragColor = vec4(0., 0., 0., 0.);\n                return;\n            }\n        } else if( coord.y < filterClamp.y ) {\n            if (fillMode == ORIGINAL) {\n                gl_FragColor = texture2D(uSampler, vTextureCoord);\n                return;\n            } else if (fillMode == LOOP) {\n                coord.y += filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y *= -filterClamp.w;\n            } else {\n                gl_FragColor = vec4(0., 0., 0., 0.);\n                return;\n            }\n        }\n    }\n\n    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;\n    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;\n    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;\n    gl_FragColor.a = texture2D(uSampler, coord).a;\n}\n", tt = function (t) { function r(r) { void 0 === r && (r = {}), t.call(this, Q, J), this.uniforms.dimensions = new Float32Array(2), r = Object.assign({ slices: 5, offset: 100, direction: 0, fillMode: 0, average: !1, seed: 0, red: [0, 0], green: [0, 0], blue: [0, 0], minSize: 8, sampleSize: 512 }, r), this.direction = r.direction, this.red = r.red, this.green = r.green, this.blue = r.blue, this.offset = r.offset, this.fillMode = r.fillMode, this.average = r.average, this.seed = r.seed, this.minSize = r.minSize, this.sampleSize = r.sampleSize, this._canvas = document.createElement("canvas"), this._canvas.width = 4, this._canvas.height = this.sampleSize, this.texture = e.Texture.fromCanvas(this._canvas, e.SCALE_MODES.NEAREST), this._slices = 0, this.slices = r.slices } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { sizes: { configurable: !0 }, offsets: { configurable: !0 }, slices: { configurable: !0 }, direction: { configurable: !0 }, red: { configurable: !0 }, green: { configurable: !0 }, blue: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n) { var i = e.sourceFrame.width, o = e.sourceFrame.height; this.uniforms.dimensions[0] = i, this.uniforms.dimensions[1] = o, this.uniforms.aspect = o / i, this.uniforms.seed = this.seed, this.uniforms.offset = this.offset, this.uniforms.fillMode = this.fillMode, t.applyFilter(this, e, r, n) }, r.prototype._randomizeSizes = function () { var t = this._sizes, e = this._slices - 1, r = this.sampleSize, n = Math.min(this.minSize / r, .9 / this._slices); if (this.average) { for (var i = this._slices, o = 1, s = 0; s < e; s++) { var a = o / (i - s), u = Math.max(a * (1 - .6 * Math.random()), n); t[s] = u, o -= u } t[e] = o } else { for (var l = 1, h = Math.sqrt(1 / this._slices), c = 0; c < e; c++) { var f = Math.max(h * l * Math.random(), n); t[c] = f, l -= f } t[e] = l } this.shuffle() }, r.prototype.shuffle = function () { for (var t = this._sizes, e = this._slices - 1; e > 0; e--) { var r = Math.random() * e >> 0, n = t[e]; t[e] = t[r], t[r] = n } }, r.prototype._randomizeOffsets = function () { for (var t = 0; t < this._slices; t++)this._offsets[t] = Math.random() * (Math.random() < .5 ? -1 : 1) }, r.prototype.refresh = function () { this._randomizeSizes(), this._randomizeOffsets(), this.redraw() }, r.prototype.redraw = function () { var t, e = this.sampleSize, r = this.texture, n = this._canvas.getContext("2d"); n.clearRect(0, 0, 8, e); for (var i = 0, o = 0; o < this._slices; o++) { t = Math.floor(256 * this._offsets[o]); var s = this._sizes[o] * e, a = t > 0 ? t : 0, u = t < 0 ? -t : 0; n.fillStyle = "rgba(" + a + ", " + u + ", 0, 1)", n.fillRect(0, i >> 0, e, s + 1 >> 0), i += s } r.baseTexture.emit("update", r.baseTexture), this.uniforms.displacementMap = r }, n.sizes.set = function (t) { for (var e = Math.min(this._slices, t.length), r = 0; r < e; r++)this._sizes[r] = t[r] }, n.sizes.get = function () { return this._sizes }, n.offsets.set = function (t) { for (var e = Math.min(this._slices, t.length), r = 0; r < e; r++)this._offsets[r] = t[r] }, n.offsets.get = function () { return this._offsets }, n.slices.get = function () { return this._slices }, n.slices.set = function (t) { this._slices !== t && (this._slices = t, this.uniforms.slices = t, this._sizes = this.uniforms.slicesWidth = new Float32Array(t), this._offsets = this.uniforms.slicesOffset = new Float32Array(t), this.refresh()) }, n.direction.get = function () { return this._direction }, n.direction.set = function (t) { if (this._direction !== t) { this._direction = t; var r = t * e.DEG_TO_RAD; this.uniforms.sinDir = Math.sin(r), this.uniforms.cosDir = Math.cos(r) } }, n.red.get = function () { return this.uniforms.red }, n.red.set = function (t) { this.uniforms.red = t }, n.green.get = function () { return this.uniforms.green }, n.green.set = function (t) { this.uniforms.green = t }, n.blue.get = function () { return this.uniforms.blue }, n.blue.set = function (t) { this.uniforms.blue = t }, r.prototype.destroy = function () { this.texture.destroy(!0), this.texture = null, this._canvas = null, this.red = null, this.green = null, this.blue = null, this._sizes = null, this._offsets = null }, Object.defineProperties(r.prototype, n), r }(e.Filter); tt.TRANSPARENT = 0, tt.ORIGINAL = 1, tt.LOOP = 2, tt.CLAMP = 3, tt.MIRROR = 4; var et = r, rt = "varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float distance;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec4 glowColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nconst float PI = 3.14159265358979323846264;\n\nvoid main(void) {\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float totalAlpha = 0.0;\n    float maxTotalAlpha = 0.0;\n    float cosAngle;\n    float sinAngle;\n    vec2 displaced;\n    for (float angle = 0.0; angle <= PI * 2.0; angle += %QUALITY_DIST%) {\n       cosAngle = cos(angle);\n       sinAngle = sin(angle);\n       for (float curDistance = 1.0; curDistance <= %DIST%; curDistance++) {\n           displaced.x = vTextureCoord.x + cosAngle * curDistance * px.x;\n           displaced.y = vTextureCoord.y + sinAngle * curDistance * px.y;\n           curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n           totalAlpha += (distance - curDistance) * curColor.a;\n           maxTotalAlpha += (distance - curDistance);\n       }\n    }\n    maxTotalAlpha = max(maxTotalAlpha, 0.0001);\n\n    ownColor.a = max(ownColor.a, 0.0001);\n    ownColor.rgb = ownColor.rgb / ownColor.a;\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;\n    float resultAlpha = (ownColor.a + outerGlowAlpha);\n    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);\n}\n", nt = function (t) { function r(e, r, n, i, o) { void 0 === e && (e = 10), void 0 === r && (r = 4), void 0 === n && (n = 0), void 0 === i && (i = 16777215), void 0 === o && (o = .1), t.call(this, et, rt.replace(/%QUALITY_DIST%/gi, "" + (1 / o / e).toFixed(7)).replace(/%DIST%/gi, "" + e.toFixed(7))), this.uniforms.glowColor = new Float32Array([0, 0, 0, 1]), this.distance = e, this.color = i, this.outerStrength = r, this.innerStrength = n } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { color: { configurable: !0 }, distance: { configurable: !0 }, outerStrength: { configurable: !0 }, innerStrength: { configurable: !0 } }; return n.color.get = function () { return e.utils.rgb2hex(this.uniforms.glowColor) }, n.color.set = function (t) { e.utils.hex2rgb(t, this.uniforms.glowColor) }, n.distance.get = function () { return this.uniforms.distance }, n.distance.set = function (t) { this.uniforms.distance = t }, n.outerStrength.get = function () { return this.uniforms.outerStrength }, n.outerStrength.set = function (t) { this.uniforms.outerStrength = t }, n.innerStrength.get = function () { return this.uniforms.innerStrength }, n.innerStrength.set = function (t) { this.uniforms.innerStrength = t }, Object.defineProperties(r.prototype, n), r }(e.Filter), it = r, ot = "vec3 mod289(vec3 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 mod289(vec4 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 permute(vec4 x)\n{\n    return mod289(((x * 34.0) + 1.0) * x);\n}\nvec4 taylorInvSqrt(vec4 r)\n{\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\nvec3 fade(vec3 t)\n{\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n}\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\n{\n    float sum = 0.0;\n    float sc = 1.0;\n    float totalgain = 1.0;\n    for (float i = 0.0; i < 6.0; i++)\n    {\n        sum += totalgain * pnoise(P * sc, rep);\n        sc *= lacunarity;\n        totalgain *= gain;\n    }\n    return abs(sum);\n}\n", st = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform vec2 light;\nuniform bool parallel;\nuniform float aspect;\n\nuniform float gain;\nuniform float lacunarity;\nuniform float time;\n\n${perlin}\n\nvoid main(void) {\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    float d;\n\n    if (parallel) {\n        float _cos = light.x;\n        float _sin = light.y;\n        d = (_cos * coord.x) + (_sin * coord.y * aspect);\n    } else {\n        float dx = coord.x - light.x / dimensions.x;\n        float dy = (coord.y - light.y / dimensions.y) * aspect;\n        float dis = sqrt(dx * dx + dy * dy) + 0.00001;\n        d = dy / dis;\n    }\n\n    vec3 dir = vec3(d, d, 0.0);\n\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\n    noise = mix(noise, 0.0, 0.3);\n    //fade vertically.\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\n    mist.a = 1.0;\n\n    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;\n}\n", at = function (t) { function r(r) { t.call(this, it, st.replace("${perlin}", ot)), this.uniforms.dimensions = new Float32Array(2), "number" == typeof r && (console.warn("GodrayFilter now uses options instead of (angle, gain, lacunarity, time)"), r = { angle: r }, void 0 !== arguments[1] && (r.gain = arguments[1]), void 0 !== arguments[2] && (r.lacunarity = arguments[2]), void 0 !== arguments[3] && (r.time = arguments[3])), r = Object.assign({ angle: 30, gain: .5, lacunarity: 2.5, time: 0, parallel: !0, center: [0, 0] }, r), this._angleLight = new e.Point, this.angle = r.angle, this.gain = r.gain, this.lacunarity = r.lacunarity, this.parallel = r.parallel, this.center = r.center, this.time = r.time } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { angle: { configurable: !0 }, gain: { configurable: !0 }, lacunarity: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n) { var i = e.sourceFrame, o = i.width, s = i.height; this.uniforms.light = this.parallel ? this._angleLight : this.center, this.uniforms.parallel = this.parallel, this.uniforms.dimensions[0] = o, this.uniforms.dimensions[1] = s, this.uniforms.aspect = s / o, this.uniforms.time = this.time, t.applyFilter(this, e, r, n) }, n.angle.get = function () { return this._angle }, n.angle.set = function (t) { this._angle = t; var r = t * e.DEG_TO_RAD; this._angleLight.x = Math.cos(r), this._angleLight.y = Math.sin(r) }, n.gain.get = function () { return this.uniforms.gain }, n.gain.set = function (t) { this.uniforms.gain = t }, n.lacunarity.get = function () { return this.uniforms.lacunarity }, n.lacunarity.set = function (t) { this.uniforms.lacunarity = t }, Object.defineProperties(r.prototype, n), r }(e.Filter), ut = r, lt = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uVelocity;\nuniform int uKernelSize;\nuniform float uOffset;\n\nconst int MAX_KERNEL_SIZE = 2048;\n\n// Notice:\n// the perfect way:\n//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);\n// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.\n// So use uKernelSize directly.\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    if (uKernelSize == 0)\n    {\n        gl_FragColor = color;\n        return;\n    }\n\n    vec2 velocity = uVelocity / filterArea.xy;\n    float offset = -uOffset / length(uVelocity) - 0.5;\n    int k = uKernelSize - 1;\n\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\n        if (i == k) {\n            break;\n        }\n        vec2 bias = velocity * (float(i) / float(k) + offset);\n        color += texture2D(uSampler, vTextureCoord + bias);\n    }\n    gl_FragColor = color / float(uKernelSize);\n}\n", ht = function (t) { function r(r, n, i) { void 0 === r && (r = [0, 0]), void 0 === n && (n = 5), void 0 === i && (i = 0), t.call(this, ut, lt), this.uniforms.uVelocity = new Float32Array(2), this._velocity = new e.ObservablePoint(this.velocityChanged, this), this.velocity = r, this.kernelSize = n, this.offset = i } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { velocity: { configurable: !0 }, offset: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n) { var i = this.velocity, o = i.x, s = i.y; this.uniforms.uKernelSize = 0 !== o || 0 !== s ? this.kernelSize : 0, t.applyFilter(this, e, r, n) }, n.velocity.set = function (t) { Array.isArray(t) ? this._velocity.set(t[0], t[1]) : (t instanceof e.Point || t instanceof e.ObservablePoint) && this._velocity.copy(t) }, n.velocity.get = function () { return this._velocity }, r.prototype.velocityChanged = function () { this.uniforms.uVelocity[0] = this._velocity.x, this.uniforms.uVelocity[1] = this._velocity.y }, n.offset.set = function (t) { this.uniforms.uOffset = t }, n.offset.get = function () { return this.uniforms.uOffset }, Object.defineProperties(r.prototype, n), r }(e.Filter), ct = r, ft = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float epsilon;\n\nconst int MAX_COLORS = %maxColors%;\n\nuniform vec3 originalColors[MAX_COLORS];\nuniform vec3 targetColors[MAX_COLORS];\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    float alpha = gl_FragColor.a;\n    if (alpha < 0.0001)\n    {\n      return;\n    }\n\n    vec3 color = gl_FragColor.rgb / alpha;\n\n    for(int i = 0; i < MAX_COLORS; i++)\n    {\n      vec3 origColor = originalColors[i];\n      if (origColor.r < 0.0)\n      {\n        break;\n      }\n      vec3 colorDiff = origColor - color;\n      if (length(colorDiff) < epsilon)\n      {\n        vec3 targetColor = targetColors[i];\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\n        return;\n      }\n    }\n}\n", dt = function (t) { function r(e, r, n) { void 0 === r && (r = .05), void 0 === n && (n = null), n = n || e.length, t.call(this, ct, ft.replace(/%maxColors%/g, n)), this.epsilon = r, this._maxColors = n, this._replacements = null, this.uniforms.originalColors = new Float32Array(3 * n), this.uniforms.targetColors = new Float32Array(3 * n), this.replacements = e } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { replacements: { configurable: !0 }, maxColors: { configurable: !0 }, epsilon: { configurable: !0 } }; return n.replacements.set = function (t) { var r = this.uniforms.originalColors, n = this.uniforms.targetColors, i = t.length; if (i > this._maxColors) throw "Length of replacements (" + i + ") exceeds the maximum colors length (" + this._maxColors + ")"; r[3 * i] = -1; for (var o = 0; o < i; o++) { var s = t[o], a = s[0]; "number" == typeof a ? a = e.utils.hex2rgb(a) : s[0] = e.utils.rgb2hex(a), r[3 * o] = a[0], r[3 * o + 1] = a[1], r[3 * o + 2] = a[2]; var u = s[1]; "number" == typeof u ? u = e.utils.hex2rgb(u) : s[1] = e.utils.rgb2hex(u), n[3 * o] = u[0], n[3 * o + 1] = u[1], n[3 * o + 2] = u[2] } this._replacements = t }, n.replacements.get = function () { return this._replacements }, r.prototype.refresh = function () { this.replacements = this._replacements }, n.maxColors.get = function () { return this._maxColors }, n.epsilon.set = function (t) { this.uniforms.epsilon = t }, n.epsilon.get = function () { return this.uniforms.epsilon }, Object.defineProperties(r.prototype, n), r }(e.Filter), pt = r, gt = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n", mt = function (t) { function e(e, r) { void 0 === r && (r = 0), t.call(this, pt, gt), this.uniforms.dimensions = new Float32Array(2), "number" == typeof e ? (this.seed = e, e = null) : this.seed = r, Object.assign(this, { sepia: .3, noise: .3, noiseSize: 1, scratch: .5, scratchDensity: .3, scratchWidth: 1, vignetting: .3, vignettingAlpha: 1, vignettingBlur: .3 }, e) } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { sepia: { configurable: !0 }, noise: { configurable: !0 }, noiseSize: { configurable: !0 }, scratch: { configurable: !0 }, scratchDensity: { configurable: !0 }, scratchWidth: { configurable: !0 }, vignetting: { configurable: !0 }, vignettingAlpha: { configurable: !0 }, vignettingBlur: { configurable: !0 } }; return e.prototype.apply = function (t, e, r, n) { this.uniforms.dimensions[0] = e.sourceFrame.width, this.uniforms.dimensions[1] = e.sourceFrame.height, this.uniforms.seed = this.seed, t.applyFilter(this, e, r, n) }, r.sepia.set = function (t) { this.uniforms.sepia = t }, r.sepia.get = function () { return this.uniforms.sepia }, r.noise.set = function (t) { this.uniforms.noise = t }, r.noise.get = function () { return this.uniforms.noise }, r.noiseSize.set = function (t) { this.uniforms.noiseSize = t }, r.noiseSize.get = function () { return this.uniforms.noiseSize }, r.scratch.set = function (t) { this.uniforms.scratch = t }, r.scratch.get = function () { return this.uniforms.scratch }, r.scratchDensity.set = function (t) { this.uniforms.scratchDensity = t }, r.scratchDensity.get = function () { return this.uniforms.scratchDensity }, r.scratchWidth.set = function (t) { this.uniforms.scratchWidth = t }, r.scratchWidth.get = function () { return this.uniforms.scratchWidth }, r.vignetting.set = function (t) { this.uniforms.vignetting = t }, r.vignetting.get = function () { return this.uniforms.vignetting }, r.vignettingAlpha.set = function (t) { this.uniforms.vignettingAlpha = t }, r.vignettingAlpha.get = function () { return this.uniforms.vignettingAlpha }, r.vignettingBlur.set = function (t) { this.uniforms.vignettingBlur = t }, r.vignettingBlur.get = function () { return this.uniforms.vignettingBlur }, Object.defineProperties(e.prototype, r), e }(e.Filter), vt = r, yt = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 thickness;\nuniform vec4 outlineColor;\nuniform vec4 filterClamp;\n\nconst float DOUBLE_PI = 3.14159265358979323846264 * 2.;\n\nvoid main(void) {\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    vec2 displaced;\n    for (float angle = 0.; angle <= DOUBLE_PI; angle += ${angleStep}) {\n        displaced.x = vTextureCoord.x + thickness.x * cos(angle);\n        displaced.y = vTextureCoord.y + thickness.y * sin(angle);\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n", _t = function (t) { function r(e, n, i) { void 0 === e && (e = 1), void 0 === n && (n = 0), void 0 === i && (i = .1); var o = Math.max(i * r.MAX_SAMPLES, r.MIN_SAMPLES), s = (2 * Math.PI / o).toFixed(7); t.call(this, vt, yt.replace(/\$\{angleStep\}/, s)), this.uniforms.thickness = new Float32Array([0, 0]), this.thickness = e, this.uniforms.outlineColor = new Float32Array([0, 0, 0, 1]), this.color = n, this.quality = i } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { color: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n) { this.uniforms.thickness[0] = this.thickness / e.size.width, this.uniforms.thickness[1] = this.thickness / e.size.height, t.applyFilter(this, e, r, n) }, n.color.get = function () { return e.utils.rgb2hex(this.uniforms.outlineColor) }, n.color.set = function (t) { e.utils.hex2rgb(t, this.uniforms.outlineColor) }, Object.defineProperties(r.prototype, n), r }(e.Filter); _t.MIN_SAMPLES = 1, _t.MAX_SAMPLES = 100; var xt = r, bt = "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 size;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n\treturn floor( coord / size ) * size;\n}\n\nvoid main(void)\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = pixelate(coord, size);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord);\n}\n", Tt = function (t) { function e(e) { void 0 === e && (e = 10), t.call(this, xt, bt), this.size = e } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { size: { configurable: !0 } }; return r.size.get = function () { return this.uniforms.size }, r.size.set = function (t) { "number" == typeof t && (t = [t, t]), this.uniforms.size = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), wt = r, St = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float uRadian;\nuniform vec2 uCenter;\nuniform float uRadius;\nuniform int uKernelSize;\n\nconst int MAX_KERNEL_SIZE = 2048;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    if (uKernelSize == 0)\n    {\n        gl_FragColor = color;\n        return;\n    }\n\n    float aspect = filterArea.y / filterArea.x;\n    vec2 center = uCenter.xy / filterArea.xy;\n    float gradient = uRadius / filterArea.x * 0.3;\n    float radius = uRadius / filterArea.x - gradient * 0.5;\n    int k = uKernelSize - 1;\n\n    vec2 coord = vTextureCoord;\n    vec2 dir = vec2(center - coord);\n    float dist = length(vec2(dir.x, dir.y * aspect));\n\n    float radianStep = uRadian;\n    if (radius >= 0.0 && dist > radius) {\n        float delta = dist - radius;\n        float gap = gradient;\n        float scale = 1.0 - abs(delta / gap);\n        if (scale <= 0.0) {\n            gl_FragColor = color;\n            return;\n        }\n        radianStep *= scale;\n    }\n    radianStep /= float(k);\n\n    float s = sin(radianStep);\n    float c = cos(radianStep);\n    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));\n\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\n        if (i == k) {\n            break;\n        }\n\n        coord -= center;\n        coord.y *= aspect;\n        coord = rotationMatrix * coord;\n        coord.y /= aspect;\n        coord += center;\n\n        vec4 sample = texture2D(uSampler, coord);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample;\n    }\n\n    gl_FragColor = color / float(uKernelSize);\n}\n", Ct = function (t) { function e(e, r, n, i) { void 0 === e && (e = 0), void 0 === r && (r = [0, 0]), void 0 === n && (n = 5), void 0 === i && (i = -1), t.call(this, wt, St), this._angle = 0, this.angle = e, this.center = r, this.kernelSize = n, this.radius = i } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { angle: { configurable: !0 }, center: { configurable: !0 }, radius: { configurable: !0 } }; return e.prototype.apply = function (t, e, r, n) { this.uniforms.uKernelSize = 0 !== this._angle ? this.kernelSize : 0, t.applyFilter(this, e, r, n) }, r.angle.set = function (t) { this._angle = t, this.uniforms.uRadian = t * Math.PI / 180 }, r.angle.get = function () { return this._angle }, r.center.get = function () { return this.uniforms.uCenter }, r.center.set = function (t) { this.uniforms.uCenter = t }, r.radius.get = function () { return this.uniforms.uRadius }, r.radius.set = function (t) { (t < 0 || t === 1 / 0) && (t = -1), this.uniforms.uRadius = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), Et = r, Ot = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nuniform bool mirror;\nuniform float boundary;\nuniform vec2 amplitude;\nuniform vec2 waveLength;\nuniform vec2 alpha;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 coord = pixelCoord / dimensions;\n\n    if (coord.y < boundary) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    float k = (coord.y - boundary) / (1. - boundary + 0.0001);\n    float areaY = boundary * dimensions.y / filterArea.y;\n    float v = areaY + areaY - vTextureCoord.y;\n    float y = mirror ? v : vTextureCoord.y;\n\n    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;\n    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;\n    float _alpha = (alpha.y - alpha.x) * k + alpha.x;\n\n    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;\n    x = clamp(x, filterClamp.x, filterClamp.z);\n\n    vec4 color = texture2D(uSampler, vec2(x, y));\n\n    gl_FragColor = color * _alpha;\n}\n", Pt = function (t) { function e(e) { t.call(this, Et, Ot), this.uniforms.amplitude = new Float32Array(2), this.uniforms.waveLength = new Float32Array(2), this.uniforms.alpha = new Float32Array(2), this.uniforms.dimensions = new Float32Array(2), Object.assign(this, { mirror: !0, boundary: .5, amplitude: [0, 20], waveLength: [30, 100], alpha: [1, 1], time: 0 }, e) } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { mirror: { configurable: !0 }, boundary: { configurable: !0 }, amplitude: { configurable: !0 }, waveLength: { configurable: !0 }, alpha: { configurable: !0 } }; return e.prototype.apply = function (t, e, r, n) { this.uniforms.dimensions[0] = e.sourceFrame.width, this.uniforms.dimensions[1] = e.sourceFrame.height, this.uniforms.time = this.time, t.applyFilter(this, e, r, n) }, r.mirror.set = function (t) { this.uniforms.mirror = t }, r.mirror.get = function () { return this.uniforms.mirror }, r.boundary.set = function (t) { this.uniforms.boundary = t }, r.boundary.get = function () { return this.uniforms.boundary }, r.amplitude.set = function (t) { this.uniforms.amplitude[0] = t[0], this.uniforms.amplitude[1] = t[1] }, r.amplitude.get = function () { return this.uniforms.amplitude }, r.waveLength.set = function (t) { this.uniforms.waveLength[0] = t[0], this.uniforms.waveLength[1] = t[1] }, r.waveLength.get = function () { return this.uniforms.waveLength }, r.alpha.set = function (t) { this.uniforms.alpha[0] = t[0], this.uniforms.alpha[1] = t[1] }, r.alpha.get = function () { return this.uniforms.alpha }, Object.defineProperties(e.prototype, r), e }(e.Filter), At = r, Mt = "precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n", Rt = function (t) { function e(e, r, n) { void 0 === e && (e = [-10, 0]), void 0 === r && (r = [0, 10]), void 0 === n && (n = [0, 0]), t.call(this, At, Mt), this.red = e, this.green = r, this.blue = n } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { red: { configurable: !0 }, green: { configurable: !0 }, blue: { configurable: !0 } }; return r.red.get = function () { return this.uniforms.red }, r.red.set = function (t) { this.uniforms.red = t }, r.green.get = function () { return this.uniforms.green }, r.green.set = function (t) { this.uniforms.green = t }, r.blue.get = function () { return this.uniforms.blue }, r.blue.set = function (t) { this.uniforms.blue = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), Dt = r, It = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nuniform vec2 center;\n\nuniform float amplitude;\nuniform float wavelength;\n// uniform float power;\nuniform float brightness;\nuniform float speed;\nuniform float radius;\n\nuniform float time;\n\nconst float PI = 3.14159;\n\nvoid main()\n{\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\n    float maxRadius = radius / filterArea.x;\n    float currentRadius = time * speed / filterArea.x;\n\n    float fade = 1.0;\n\n    if (maxRadius > 0.0) {\n        if (currentRadius > maxRadius) {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\n    }\n\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\n    dir.y *= filterArea.y / filterArea.x;\n    float dist = length(dir);\n\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    vec2 diffUV = normalize(dir);\n\n    float diff = (dist - currentRadius) / halfWavelength;\n\n    float p = 1.0 - pow(abs(diff), 2.0);\n\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\n\n    vec2 offset = diffUV * powDiff / filterArea.xy;\n\n    // Do clamp :\n    vec2 coord = vTextureCoord + offset;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    // No clamp :\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\n\n    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;\n\n    gl_FragColor = color;\n}\n", Lt = function (t) { function e(e, r, n) { void 0 === e && (e = [0, 0]), void 0 === r && (r = {}), void 0 === n && (n = 0), t.call(this, Dt, It), this.center = e, Array.isArray(r) && (console.warn("Deprecated Warning: ShockwaveFilter params Array has been changed to options Object."), r = {}), r = Object.assign({ amplitude: 30, wavelength: 160, brightness: 1, speed: 500, radius: -1 }, r), this.amplitude = r.amplitude, this.wavelength = r.wavelength, this.brightness = r.brightness, this.speed = r.speed, this.radius = r.radius, this.time = n } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { center: { configurable: !0 }, amplitude: { configurable: !0 }, wavelength: { configurable: !0 }, brightness: { configurable: !0 }, speed: { configurable: !0 }, radius: { configurable: !0 } }; return e.prototype.apply = function (t, e, r, n) { this.uniforms.time = this.time, t.applyFilter(this, e, r, n) }, r.center.get = function () { return this.uniforms.center }, r.center.set = function (t) { this.uniforms.center = t }, r.amplitude.get = function () { return this.uniforms.amplitude }, r.amplitude.set = function (t) { this.uniforms.amplitude = t }, r.wavelength.get = function () { return this.uniforms.wavelength }, r.wavelength.set = function (t) { this.uniforms.wavelength = t }, r.brightness.get = function () { return this.uniforms.brightness }, r.brightness.set = function (t) { this.uniforms.brightness = t }, r.speed.get = function () { return this.uniforms.speed }, r.speed.set = function (t) { this.uniforms.speed = t }, r.radius.get = function () { return this.uniforms.radius }, r.radius.set = function (t) { this.uniforms.radius = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), Ft = r, kt = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D uLightmap;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\nuniform vec4 ambientColor;\nvoid main() {\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\n    vec4 light = texture2D(uLightmap, lightCoord);\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\n    vec3 intensity = ambient + light.rgb;\n    vec3 finalColor = diffuseColor.rgb * intensity;\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\n}\n", jt = function (t) { function r(e, r, n) { void 0 === r && (r = 0), void 0 === n && (n = 1), t.call(this, Ft, kt), this.uniforms.dimensions = new Float32Array(2), this.uniforms.ambientColor = new Float32Array([0, 0, 0, n]), this.texture = e, this.color = r } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { texture: { configurable: !0 }, color: { configurable: !0 }, alpha: { configurable: !0 } }; return r.prototype.apply = function (t, e, r, n) { this.uniforms.dimensions[0] = e.sourceFrame.width, this.uniforms.dimensions[1] = e.sourceFrame.height, t.applyFilter(this, e, r, n) }, n.texture.get = function () { return this.uniforms.uLightmap }, n.texture.set = function (t) { this.uniforms.uLightmap = t }, n.color.set = function (t) { var r = this.uniforms.ambientColor; "number" == typeof t ? (e.utils.hex2rgb(t, r), this._color = t) : (r[0] = t[0], r[1] = t[1], r[2] = t[2], r[3] = t[3], this._color = e.utils.rgb2hex(r)) }, n.color.get = function () { return this._color }, n.alpha.get = function () { return this.uniforms.ambientColor[3] }, n.alpha.set = function (t) { this.uniforms.ambientColor[3] = t }, Object.defineProperties(r.prototype, n), r }(e.Filter), Nt = r, Bt = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    color /= total;\n    color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n", Ut = function (t) { function r(r, n, i, o) { void 0 === r && (r = 100), void 0 === n && (n = 600), void 0 === i && (i = null), void 0 === o && (o = null), t.call(this, Nt, Bt), this.uniforms.blur = r, this.uniforms.gradientBlur = n, this.uniforms.start = i || new e.Point(0, window.innerHeight / 2), this.uniforms.end = o || new e.Point(600, window.innerHeight / 2), this.uniforms.delta = new e.Point(30, 30), this.uniforms.texSize = new e.Point(window.innerWidth, window.innerHeight), this.updateDelta() } t && (r.__proto__ = t), r.prototype = Object.create(t && t.prototype), r.prototype.constructor = r; var n = { blur: { configurable: !0 }, gradientBlur: { configurable: !0 }, start: { configurable: !0 }, end: { configurable: !0 } }; return r.prototype.updateDelta = function () { this.uniforms.delta.x = 0, this.uniforms.delta.y = 0 }, n.blur.get = function () { return this.uniforms.blur }, n.blur.set = function (t) { this.uniforms.blur = t }, n.gradientBlur.get = function () { return this.uniforms.gradientBlur }, n.gradientBlur.set = function (t) { this.uniforms.gradientBlur = t }, n.start.get = function () { return this.uniforms.start }, n.start.set = function (t) { this.uniforms.start = t, this.updateDelta() }, n.end.get = function () { return this.uniforms.end }, n.end.set = function (t) { this.uniforms.end = t, this.updateDelta() }, Object.defineProperties(r.prototype, n), r }(e.Filter), zt = function (t) { function e() { t.apply(this, arguments) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.updateDelta = function () { var t = this.uniforms.end.x - this.uniforms.start.x, e = this.uniforms.end.y - this.uniforms.start.y, r = Math.sqrt(t * t + e * e); this.uniforms.delta.x = t / r, this.uniforms.delta.y = e / r }, e }(Ut), Xt = function (t) { function e() { t.apply(this, arguments) } return t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e, e.prototype.updateDelta = function () { var t = this.uniforms.end.x - this.uniforms.start.x, e = this.uniforms.end.y - this.uniforms.start.y, r = Math.sqrt(t * t + e * e); this.uniforms.delta.x = -e / r, this.uniforms.delta.y = t / r }, e }(Ut), Wt = function (t) { function e(e, r, n, i) { void 0 === e && (e = 100), void 0 === r && (r = 600), void 0 === n && (n = null), void 0 === i && (i = null), t.call(this), this.tiltShiftXFilter = new zt(e, r, n, i), this.tiltShiftYFilter = new Xt(e, r, n, i) } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { blur: { configurable: !0 }, gradientBlur: { configurable: !0 }, start: { configurable: !0 }, end: { configurable: !0 } }; return e.prototype.apply = function (t, e, r) { var n = t.getRenderTarget(!0); this.tiltShiftXFilter.apply(t, e, n), this.tiltShiftYFilter.apply(t, n, r), t.returnRenderTarget(n) }, r.blur.get = function () { return this.tiltShiftXFilter.blur }, r.blur.set = function (t) { this.tiltShiftXFilter.blur = this.tiltShiftYFilter.blur = t }, r.gradientBlur.get = function () { return this.tiltShiftXFilter.gradientBlur }, r.gradientBlur.set = function (t) { this.tiltShiftXFilter.gradientBlur = this.tiltShiftYFilter.gradientBlur = t }, r.start.get = function () { return this.tiltShiftXFilter.start }, r.start.set = function (t) { this.tiltShiftXFilter.start = this.tiltShiftYFilter.start = t }, r.end.get = function () { return this.tiltShiftXFilter.end }, r.end.set = function (t) { this.tiltShiftXFilter.end = this.tiltShiftYFilter.end = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), Ht = r, Gt = "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n", Yt = function (t) { function e(e, r, n) { void 0 === e && (e = 200), void 0 === r && (r = 4), void 0 === n && (n = 20), t.call(this, Ht, Gt), this.radius = e, this.angle = r, this.padding = n } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { offset: { configurable: !0 }, radius: { configurable: !0 }, angle: { configurable: !0 } }; return r.offset.get = function () { return this.uniforms.offset }, r.offset.set = function (t) { this.uniforms.offset = t }, r.radius.get = function () { return this.uniforms.radius }, r.radius.set = function (t) { this.uniforms.radius = t }, r.angle.get = function () { return this.uniforms.angle }, r.angle.set = function (t) { this.uniforms.angle = t }, Object.defineProperties(e.prototype, r), e }(e.Filter), qt = r, Vt = "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uCenter;\nuniform float uStrength;\nuniform float uInnerRadius;\nuniform float uRadius;\n\nconst float MAX_KERNEL_SIZE = 32.0;\n\nfloat random(vec3 scale, float seed) {\n    // use the fragment position for a different seed per-pixel\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main() {\n\n    float minGradient = uInnerRadius * 0.3;\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\n\n    float gradient = uRadius * 0.3;\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\n\n    float countLimit = MAX_KERNEL_SIZE;\n\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\n\n    float strength = uStrength;\n\n    float delta = 0.0;\n    float gap;\n    if (dist < innerRadius) {\n        delta = innerRadius - dist;\n        gap = minGradient;\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\n        delta = dist - radius;\n        gap = gradient;\n    }\n\n    if (delta > 0.0) {\n        float normalCount = gap / filterArea.x;\n        delta = (normalCount - delta) / normalCount;\n        countLimit *= delta;\n        strength *= delta;\n        if (countLimit < 1.0)\n        {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n    }\n\n    // randomize the lookup values to hide the fixed number of samples\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    float total = 0.0;\n    vec4 color = vec4(0.0);\n\n    dir *= strength;\n\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\n        float weight = 4.0 * (percent - percent * percent);\n        vec2 p = vTextureCoord + dir * percent;\n        vec4 sample = texture2D(uSampler, p);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n\n        if (t > countLimit){\n            break;\n        }\n    }\n\n    color /= total;\n    // switch back from pre-multiplied alpha\n    color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n", $t = function (t) { function e(e, r, n, i) { void 0 === e && (e = .1), void 0 === r && (r = [0, 0]), void 0 === n && (n = 0), void 0 === i && (i = -1), t.call(this, qt, Vt), this.center = r, this.strength = e, this.innerRadius = n, this.radius = i } t && (e.__proto__ = t), e.prototype = Object.create(t && t.prototype), e.prototype.constructor = e; var r = { center: { configurable: !0 }, strength: { configurable: !0 }, innerRadius: { configurable: !0 }, radius: { configurable: !0 } }; return r.center.get = function () { return this.uniforms.uCenter }, r.center.set = function (t) { this.uniforms.uCenter = t }, r.strength.get = function () { return this.uniforms.uStrength }, r.strength.set = function (t) { this.uniforms.uStrength = t }, r.innerRadius.get = function () { return this.uniforms.uInnerRadius }, r.innerRadius.set = function (t) { this.uniforms.uInnerRadius = t }, r.radius.get = function () { return this.uniforms.uRadius }, r.radius.set = function (t) { (t < 0 || t === 1 / 0) && (t = -1), this.uniforms.uRadius = t }, Object.defineProperties(e.prototype, r), e }(e.Filter); return t.AdjustmentFilter = i, t.AdvancedBloomFilter = d, t.AsciiFilter = m, t.BevelFilter = _, t.BloomFilter = S, t.BulgePinchFilter = O, t.ColorMapFilter = M, t.ColorReplaceFilter = I, t.ConvolutionFilter = k, t.CrossHatchFilter = B, t.CRTFilter = X, t.DotFilter = G, t.DropShadowFilter = V, t.EmbossFilter = Z, t.GlitchFilter = tt, t.GlowFilter = nt, t.GodrayFilter = at, t.KawaseBlurFilter = u, t.MotionBlurFilter = ht, t.MultiColorReplaceFilter = dt, t.OldFilmFilter = mt, t.OutlineFilter = _t, t.PixelateFilter = Tt, t.RadialBlurFilter = Ct, t.ReflectionFilter = Pt, t.RGBSplitFilter = Rt, t.ShockwaveFilter = Lt, t.SimpleLightmapFilter = jt, t.TiltShiftFilter = Wt, t.TiltShiftAxisFilter = Ut, t.TiltShiftXFilter = zt, t.TiltShiftYFilter = Xt, t.TwistFilter = Yt, t.ZoomBlurFilter = $t, t }({}, PIXI); function loadPolyfills() { "use strict"; "IntersectionObserver" in window || function (t, e) { function r(t) { this.time = t.time, this.target = t.target, this.rootBounds = t.rootBounds, this.boundingClientRect = t.boundingClientRect, this.intersectionRect = t.intersectionRect || { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 }, this.isIntersecting = !!t.intersectionRect, t = (t = this.boundingClientRect).width * t.height; var e = this.intersectionRect; e = e.width * e.height, this.intersectionRatio = t ? e / t : this.isIntersecting ? 1 : 0 } function n(t, e) { var r = e || {}; if ("function" != typeof t) throw Error("callback must be a function"); if (r.root && 1 != r.root.nodeType) throw Error("root must be an Element"); this._checkForIntersections = function (t, e) { var r = null; return function () { r || (r = setTimeout(function () { t(), r = null }, e)) } }(this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT), this._callback = t, this._observationTargets = [], this._queuedEntries = [], this._rootMarginValues = this._parseRootMargin(r.rootMargin), this.thresholds = this._initThresholds(r.threshold), this.root = r.root || null, this.rootMargin = this._rootMarginValues.map(function (t) { return t.value + t.unit }).join(" ") } function i(t, e, r, n) { "function" == typeof t.addEventListener ? t.addEventListener(e, r, n || !1) : "function" == typeof t.attachEvent && t.attachEvent("on" + e, r) } function o(t, e, r, n) { "function" == typeof t.removeEventListener ? t.removeEventListener(e, r, n || !1) : "function" == typeof t.detatchEvent && t.detatchEvent("on" + e, r) } function s(t) { try { var e = t.getBoundingClientRect() } catch (t) { } return e ? (e.width && e.height || (e = { top: e.top, right: e.right, bottom: e.bottom, left: e.left, width: e.right - e.left, height: e.bottom - e.top }), e) : { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 } } function a(t, e) { for (var r = e; r;) { if (r == t) return !0; r = u(r) } return !1 } function u(t) { return (t = t.parentNode) && 11 == t.nodeType && t.host ? t.host : t } if ("IntersectionObserver" in t && "IntersectionObserverEntry" in t && "intersectionRatio" in t.IntersectionObserverEntry.prototype) "isIntersecting" in t.IntersectionObserverEntry.prototype || Object.defineProperty(t.IntersectionObserverEntry.prototype, "isIntersecting", { get: function () { return 0 < this.intersectionRatio } }); else { var l = []; n.prototype.THROTTLE_TIMEOUT = 100, n.prototype.POLL_INTERVAL = null, n.prototype.USE_MUTATION_OBSERVER = !0, n.prototype.observe = function (t) { if (!this._observationTargets.some(function (e) { return e.element == t })) { if (!t || 1 != t.nodeType) throw Error("target must be an Element"); this._registerInstance(), this._observationTargets.push({ element: t, entry: null }), this._monitorIntersections(), this._checkForIntersections() } }, n.prototype.unobserve = function (t) { this._observationTargets = this._observationTargets.filter(function (e) { return e.element != t }), this._observationTargets.length || (this._unmonitorIntersections(), this._unregisterInstance()) }, n.prototype.disconnect = function () { this._observationTargets = [], this._unmonitorIntersections(), this._unregisterInstance() }, n.prototype.takeRecords = function () { var t = this._queuedEntries.slice(); return this._queuedEntries = [], t }, n.prototype._initThresholds = function (t) { return t = t || [0], Array.isArray(t) || (t = [t]), t.sort().filter(function (t, e, r) { if ("number" != typeof t || isNaN(t) || 0 > t || 1 < t) throw Error("threshold must be a number between 0 and 1 inclusively"); return t !== r[e - 1] }) }, n.prototype._parseRootMargin = function (t) { return (t = (t || "0px").split(/\s+/).map(function (t) { if (!(t = /^(-?\d*\.?\d+)(px|%)$/.exec(t))) throw Error("rootMargin must be specified in pixels or percent"); return { value: parseFloat(t[1]), unit: t[2] } }))[1] = t[1] || t[0], t[2] = t[2] || t[0], t[3] = t[3] || t[1], t }, n.prototype._monitorIntersections = function () { this._monitoringIntersections || (this._monitoringIntersections = !0, this.POLL_INTERVAL ? this._monitoringInterval = setInterval(this._checkForIntersections, this.POLL_INTERVAL) : (i(t, "resize", this._checkForIntersections, !0), i(e, "scroll", this._checkForIntersections, !0), this.USE_MUTATION_OBSERVER && "MutationObserver" in t && (this._domObserver = new MutationObserver(this._checkForIntersections), this._domObserver.observe(e, { attributes: !0, childList: !0, characterData: !0, subtree: !0 })))) }, n.prototype._unmonitorIntersections = function () { this._monitoringIntersections && (this._monitoringIntersections = !1, clearInterval(this._monitoringInterval), this._monitoringInterval = null, o(t, "resize", this._checkForIntersections, !0), o(e, "scroll", this._checkForIntersections, !0), this._domObserver && (this._domObserver.disconnect(), this._domObserver = null)) }, n.prototype._checkForIntersections = function () { var e = this._rootIsInDom(), n = e ? this._getRootRect() : { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 }; this._observationTargets.forEach(function (i) { var o = i.element, a = s(o), u = this._rootContainsTarget(o), l = i.entry, h = e && u && this._computeTargetAndRootIntersection(o, n); i = i.entry = new r({ time: t.performance && performance.now && performance.now(), target: o, boundingClientRect: a, rootBounds: n, intersectionRect: h }), l ? e && u ? this._hasCrossedThreshold(l, i) && this._queuedEntries.push(i) : l && l.isIntersecting && this._queuedEntries.push(i) : this._queuedEntries.push(i) }, this), this._queuedEntries.length && this._callback(this.takeRecords(), this) }, n.prototype._computeTargetAndRootIntersection = function (r, n) { if ("none" != t.getComputedStyle(r).display) { for (var i = s(r), o = u(r), a = !1; !a;) { var l = null, h = 1 == o.nodeType ? t.getComputedStyle(o) : {}; if ("none" == h.display) return; if (o == this.root || o == e ? (a = !0, l = n) : o != e.body && o != e.documentElement && "visible" != h.overflow && (l = s(o)), l) { h = Math.max(l.top, i.top); var c = Math.min(l.bottom, i.bottom), f = Math.max(l.left, i.left); i = Math.min(l.right, i.right); var d = c - h; if (!(i = 0 <= (l = i - f) && 0 <= d && { top: h, bottom: c, left: f, right: i, width: l, height: d })) break } o = u(o) } return i } }, n.prototype._getRootRect = function () { if (this.root) var t = s(this.root); else { t = e.documentElement; var r = e.body; t = { top: 0, left: 0, right: t.clientWidth || r.clientWidth, width: t.clientWidth || r.clientWidth, bottom: t.clientHeight || r.clientHeight, height: t.clientHeight || r.clientHeight } } return this._expandRectByRootMargin(t) }, n.prototype._expandRectByRootMargin = function (t) { var e = this._rootMarginValues.map(function (e, r) { return "px" == e.unit ? e.value : e.value * (r % 2 ? t.width : t.height) / 100 }); return (e = { top: t.top - e[0], right: t.right + e[1], bottom: t.bottom + e[2], left: t.left - e[3] }).width = e.right - e.left, e.height = e.bottom - e.top, e }, n.prototype._hasCrossedThreshold = function (t, e) { var r = t && t.isIntersecting ? t.intersectionRatio || 0 : -1, n = e.isIntersecting ? e.intersectionRatio || 0 : -1; if (r !== n) for (var i = 0; i < this.thresholds.length; i++) { var o = this.thresholds[i]; if (o == r || o == n || o < r != o < n) return !0 } }, n.prototype._rootIsInDom = function () { return !this.root || a(e, this.root) }, n.prototype._rootContainsTarget = function (t) { return a(this.root || e, t) }, n.prototype._registerInstance = function () { 0 > l.indexOf(this) && l.push(this) }, n.prototype._unregisterInstance = function () { var t = l.indexOf(this); -1 != t && l.splice(t, 1) }, t.IntersectionObserver = n, t.IntersectionObserverEntry = r } }(window, document), "function" != typeof Array.from && (Array.from = function (t) { return Array.prototype.slice.call(t, 0) }) } Object.assign(PIXI.filters, this ? this.__filters : __filters), loadPolyfills(), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? module.exports = t(require("jquery")) : t(jQuery) }(function (t) { var e = t.event.dispatch || t.event.handle, r = t.event.special, n = "D" + +new Date, i = "D" + (+new Date + 1); r.scrollstart = { setup: function (i) { var o, s = t.extend({ latency: r.scrollstop.latency }, i), a = function (t) { var r = arguments; o ? clearTimeout(o) : (t.type = "scrollstart", e.apply(this, r)), o = setTimeout(function () { o = null }, s.latency) }; t(this).bind("scroll", a).data(n, a) }, teardown: function () { t(this).unbind("scroll", t(this).data(n)) } }, r.scrollstop = { latency: 250, setup: function (n) { var o, s = t.extend({ latency: r.scrollstop.latency }, n), a = function (t) { var r = this, n = arguments; o && clearTimeout(o), o = setTimeout(function () { o = null, t.type = "scrollstop", e.apply(r, n) }, s.latency) }; t(this).bind("scroll", a).data(i, a) }, teardown: function () { t(this).unbind("scroll", t(this).data(i)) } } });

/*!
* jQuery Cookie Plugin v1.4.1
* https://github.com/carhartl/jquery-cookie
*
* Copyright 2006, 2014 Klaus Hartl
* Released under the MIT license
*/
(function (factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD (Register as an anonymous module)
        define(['jquery'], factory);
    } else if (typeof exports === 'object') {
        // Node/CommonJS
        module.exports = factory(require('jquery'));
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function ($) {

    var pluses = /\+/g;

    function encode(s) {
        return config.raw ? s : encodeURIComponent(s);
    }

    function decode(s) {
        return config.raw ? s : decodeURIComponent(s);
    }

    function stringifyCookieValue(value) {
        return encode(config.json ? JSON.stringify(value) : String(value));
    }

    function parseCookieValue(s) {
        if (s.indexOf('"') === 0) {
            // This is a quoted cookie as according to RFC2068, unescape...
            s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
        }

        try {
            // Replace server-side written pluses with spaces.
            // If we can't decode the cookie, ignore it, it's unusable.
            // If we can't parse the cookie, ignore it, it's unusable.
            s = decodeURIComponent(s.replace(pluses, ' '));
            return config.json ? JSON.parse(s) : s;
        } catch (e) { }
    }

    function read(s, converter) {
        var value = config.raw ? s : parseCookieValue(s);
        return $.isFunction(converter) ? converter(value) : value;
    }

    var config = $.cookie = function (key, value, options) {

        // Write

        if (arguments.length > 1 && !$.isFunction(value)) {
            options = $.extend({}, config.defaults, options);

            if (typeof options.expires === 'number') {
                var days = options.expires, t = options.expires = new Date();
                t.setMilliseconds(t.getMilliseconds() + days * 864e+5);
            }

            return (document.cookie = [
                encode(key), '=', stringifyCookieValue(value),
                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
                options.path ? '; path=' + options.path : '',
                options.domain ? '; domain=' + options.domain : '',
                options.secure ? '; secure' : ''
            ].join(''));
        }

        // Read

        var result = key ? undefined : {},
            // To prevent the for loop in the first place assign an empty array
            // in case there are no cookies at all. Also prevents odd result when
            // calling $.cookie().
            cookies = document.cookie ? document.cookie.split('; ') : [],
            i = 0,
            l = cookies.length;

        for (; i < l; i++) {
            var parts = cookies[i].split('='),
                name = decode(parts.shift()),
                cookie = parts.join('=');

            if (key === name) {
                // If second argument (value) is a function it's a converter...
                result = read(cookie, value);
                break;
            }

            // Prevent storing a cookie that we couldn't decode.
            if (!key && (cookie = read(cookie)) !== undefined) {
                result[name] = cookie;
            }
        }

        return result;
    };

    config.defaults = {};

    $.removeCookie = function (key, options) {
        // Must not alter options, thus extending a fresh object...
        $.cookie(key, '', $.extend({}, options, { expires: -1 }));
        return !$.cookie(key);
    };

}));
